(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var cc={exports:{}},gs={},dc={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function kC(){if(Dm)return ae;Dm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function N(x,M,se){this.props=x,this.context=M,this.refs=A,this.updater=se||C}N.prototype.isReactComponent={},N.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},N.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function O(){}O.prototype=N.prototype;function B(x,M,se){this.props=x,this.context=M,this.refs=A,this.updater=se||C}var U=B.prototype=new O;U.constructor=B,k(U,N.prototype),U.isPureReactComponent=!0;var G=Array.isArray,z=Object.prototype.hasOwnProperty,X={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function Z(x,M,se){var ce,pe={},me=null,Ce=null;if(M!=null)for(ce in M.ref!==void 0&&(Ce=M.ref),M.key!==void 0&&(me=""+M.key),M)z.call(M,ce)&&!he.hasOwnProperty(ce)&&(pe[ce]=M[ce]);var ve=arguments.length-2;if(ve===1)pe.children=se;else if(1<ve){for(var Re=Array(ve),kt=0;kt<ve;kt++)Re[kt]=arguments[kt+2];pe.children=Re}if(x&&x.defaultProps)for(ce in ve=x.defaultProps,ve)pe[ce]===void 0&&(pe[ce]=ve[ce]);return{$$typeof:t,type:x,key:me,ref:Ce,props:pe,_owner:X.current}}function Ne(x,M){return{$$typeof:t,type:x.type,key:M,ref:x.ref,props:x.props,_owner:x._owner}}function Oe(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function ft(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return M[se]})}var Tt=/\/+/g;function ut(x,M){return typeof x=="object"&&x!==null&&x.key!=null?ft(""+x.key):M.toString(36)}function pt(x,M,se,ce,pe){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var Ce=!1;if(x===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(x.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=x,pe=pe(Ce),x=ce===""?"."+ut(Ce,0):ce,G(pe)?(se="",x!=null&&(se=x.replace(Tt,"$&/")+"/"),pt(pe,M,se,"",function(kt){return kt})):pe!=null&&(Oe(pe)&&(pe=Ne(pe,se+(!pe.key||Ce&&Ce.key===pe.key?"":(""+pe.key).replace(Tt,"$&/")+"/")+x)),M.push(pe)),1;if(Ce=0,ce=ce===""?".":ce+":",G(x))for(var ve=0;ve<x.length;ve++){me=x[ve];var Re=ce+ut(me,ve);Ce+=pt(me,M,se,Re,pe)}else if(Re=v(x),typeof Re=="function")for(x=Re.call(x),ve=0;!(me=x.next()).done;)me=me.value,Re=ce+ut(me,ve++),Ce+=pt(me,M,se,Re,pe);else if(me==="object")throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Ut(x,M,se){if(x==null)return x;var ce=[],pe=0;return pt(x,ce,"","",function(me){return M.call(se,me,pe++)}),ce}function ct(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var oe={current:null},j={transition:null},J={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:j,ReactCurrentOwner:X};function H(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:Ut,forEach:function(x,M,se){Ut(x,function(){M.apply(this,arguments)},se)},count:function(x){var M=0;return Ut(x,function(){M++}),M},toArray:function(x){return Ut(x,function(M){return M})||[]},only:function(x){if(!Oe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ae.Component=N,ae.Fragment=n,ae.Profiler=o,ae.PureComponent=B,ae.StrictMode=s,ae.Suspense=f,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ae.act=H,ae.cloneElement=function(x,M,se){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ce=k({},x.props),pe=x.key,me=x.ref,Ce=x._owner;if(M!=null){if(M.ref!==void 0&&(me=M.ref,Ce=X.current),M.key!==void 0&&(pe=""+M.key),x.type&&x.type.defaultProps)var ve=x.type.defaultProps;for(Re in M)z.call(M,Re)&&!he.hasOwnProperty(Re)&&(ce[Re]=M[Re]===void 0&&ve!==void 0?ve[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)ce.children=se;else if(1<Re){ve=Array(Re);for(var kt=0;kt<Re;kt++)ve[kt]=arguments[kt+2];ce.children=ve}return{$$typeof:t,type:x.type,key:pe,ref:me,props:ce,_owner:Ce}},ae.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},ae.createElement=Z,ae.createFactory=function(x){var M=Z.bind(null,x);return M.type=x,M},ae.createRef=function(){return{current:null}},ae.forwardRef=function(x){return{$$typeof:h,render:x}},ae.isValidElement=Oe,ae.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:ct}},ae.memo=function(x,M){return{$$typeof:m,type:x,compare:M===void 0?null:M}},ae.startTransition=function(x){var M=j.transition;j.transition={};try{x()}finally{j.transition=M}},ae.unstable_act=H,ae.useCallback=function(x,M){return oe.current.useCallback(x,M)},ae.useContext=function(x){return oe.current.useContext(x)},ae.useDebugValue=function(){},ae.useDeferredValue=function(x){return oe.current.useDeferredValue(x)},ae.useEffect=function(x,M){return oe.current.useEffect(x,M)},ae.useId=function(){return oe.current.useId()},ae.useImperativeHandle=function(x,M,se){return oe.current.useImperativeHandle(x,M,se)},ae.useInsertionEffect=function(x,M){return oe.current.useInsertionEffect(x,M)},ae.useLayoutEffect=function(x,M){return oe.current.useLayoutEffect(x,M)},ae.useMemo=function(x,M){return oe.current.useMemo(x,M)},ae.useReducer=function(x,M,se){return oe.current.useReducer(x,M,se)},ae.useRef=function(x){return oe.current.useRef(x)},ae.useState=function(x){return oe.current.useState(x)},ae.useSyncExternalStore=function(x,M,se){return oe.current.useSyncExternalStore(x,M,se)},ae.useTransition=function(){return oe.current.useTransition()},ae.version="18.3.1",ae}var Mm;function Cd(){return Mm||(Mm=1,dc.exports=kC()),dc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function PC(){if(Lm)return gs;Lm=1;var t=Cd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,y={},v=null,C=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(C=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:v,ref:C,props:y,_owner:o.current}}return gs.Fragment=n,gs.jsx=c,gs.jsxs=c,gs}var Om;function IC(){return Om||(Om=1,cc.exports=PC()),cc.exports}var I=IC(),ya={},hc={exports:{}},wt={},fc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function RC(){return bm||(bm=1,(function(t){function e(j,J){var H=j.length;j.push(J);e:for(;0<H;){var x=H-1>>>1,M=j[x];if(0<o(M,J))j[x]=J,j[H]=M,H=x;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var J=j[0],H=j.pop();if(H!==J){j[0]=H;e:for(var x=0,M=j.length,se=M>>>1;x<se;){var ce=2*(x+1)-1,pe=j[ce],me=ce+1,Ce=j[me];if(0>o(pe,H))me<M&&0>o(Ce,pe)?(j[x]=Ce,j[me]=H,x=me):(j[x]=pe,j[ce]=H,x=ce);else if(me<M&&0>o(Ce,H))j[x]=Ce,j[me]=H,x=me;else break e}}return J}function o(j,J){var H=j.sortIndex-J.sortIndex;return H!==0?H:j.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,y=null,v=3,C=!1,k=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(j){for(var J=n(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=j)s(m),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(m)}}function G(j){if(A=!1,U(j),!k)if(n(f)!==null)k=!0,ct(z);else{var J=n(m);J!==null&&oe(G,J.startTime-j)}}function z(j,J){k=!1,A&&(A=!1,O(Z),Z=-1),C=!0;var H=v;try{for(U(J),y=n(f);y!==null&&(!(y.expirationTime>J)||j&&!ft());){var x=y.callback;if(typeof x=="function"){y.callback=null,v=y.priorityLevel;var M=x(y.expirationTime<=J);J=t.unstable_now(),typeof M=="function"?y.callback=M:y===n(f)&&s(f),U(J)}else s(f);y=n(f)}if(y!==null)var se=!0;else{var ce=n(m);ce!==null&&oe(G,ce.startTime-J),se=!1}return se}finally{y=null,v=H,C=!1}}var X=!1,he=null,Z=-1,Ne=5,Oe=-1;function ft(){return!(t.unstable_now()-Oe<Ne)}function Tt(){if(he!==null){var j=t.unstable_now();Oe=j;var J=!0;try{J=he(!0,j)}finally{J?ut():(X=!1,he=null)}}else X=!1}var ut;if(typeof B=="function")ut=function(){B(Tt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,Ut=pt.port2;pt.port1.onmessage=Tt,ut=function(){Ut.postMessage(null)}}else ut=function(){N(Tt,0)};function ct(j){he=j,X||(X=!0,ut())}function oe(j,J){Z=N(function(){j(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){k||C||(k=!0,ct(z))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var H=v;v=J;try{return j()}finally{v=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,J){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=v;v=j;try{return J()}finally{v=H}},t.unstable_scheduleCallback=function(j,J,H){var x=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?x+H:x):H=x,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=H+M,j={id:g++,callback:J,priorityLevel:j,startTime:H,expirationTime:M,sortIndex:-1},H>x?(j.sortIndex=H,e(m,j),n(f)===null&&j===n(m)&&(A?(O(Z),Z=-1):A=!0,oe(G,H-x))):(j.sortIndex=M,e(f,j),k||C||(k=!0,ct(z))),j},t.unstable_shouldYield=ft,t.unstable_wrapCallback=function(j){var J=v;return function(){var H=v;v=J;try{return j.apply(this,arguments)}finally{v=H}}}})(pc)),pc}var Fm;function AC(){return Fm||(Fm=1,fc.exports=RC()),fc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function NC(){if(Vm)return wt;Vm=1;var t=Cd(),e=AC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return f.call(y,r)?!0:f.call(g,r)?!1:m.test(r)?y[r]=!0:(g[r]=!0,!1)}function C(r,i,a,u){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,i,a,u){if(i===null||typeof i>"u"||C(r,i,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(r,i,a,u,d,p,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=p,this.removeEmptyString=_}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];N[i]=new A(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,B);N[i]=new A(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,B);N[i]=new A(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,B);N[i]=new A(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,i,a,u){var d=N.hasOwnProperty(i)?N[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,a,d,u)&&(a=null),u||d===null?v(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,u=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?r.setAttributeNS(u,i,a):r.setAttribute(i,a))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),X=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),ft=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),j=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,x;function M(r){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||""}return`
`+x+r}var se=!1;function ce(r,i){if(!r||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(R){var u=R}Reflect.construct(r,[],i)}else{try{i.call()}catch(R){u=R}r.call(i.prototype)}else{try{throw Error()}catch(R){u=R}r()}}catch(R){if(R&&u&&typeof R.stack=="string"){for(var d=R.stack.split(`
`),p=u.stack.split(`
`),_=d.length-1,w=p.length-1;1<=_&&0<=w&&d[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(d[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||d[_]!==p[w]){var S=`
`+d[_].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=_&&0<=w);break}}}finally{se=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?M(r):""}function pe(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ce(r.type,!1),r;case 11:return r=ce(r.type.render,!1),r;case 1:return r=ce(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case he:return"Fragment";case X:return"Portal";case Ne:return"Profiler";case Z:return"StrictMode";case ut:return"Suspense";case pt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ft:return(r.displayName||"Context")+".Consumer";case Oe:return(r._context.displayName||"Context")+".Provider";case Tt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ut:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case ct:i=r._payload,r=r._init;try{return me(r(i))}catch{}}return null}function Ce(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kt(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function oo(r){r._valueTracker||(r._valueTracker=kt(r))}function Fh(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=Re(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yl(r,i){var a=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Vh(r,i){var a=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;a=ve(i.value!=null?i.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function jh(r,i){i=i.checked,i!=null&&U(r,"checked",i,!1)}function vl(r,i){jh(r,i);var a=ve(i.value),u=i.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?_l(r,i.type,a):i.hasOwnProperty("defaultValue")&&_l(r,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Bh(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function _l(r,i,a){(i!=="number"||ao(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Ni=Array.isArray;function Or(r,i,a,u){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&u&&(r[a].defaultSelected=!0)}else{for(a=""+ve(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function wl(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Uh(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Ni(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:ve(a)}}function zh(r,i){var a=ve(i.value),u=ve(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function Wh(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Hh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Hh(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var lo,$h=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,u,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,u,d)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Di(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A1=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(r){A1.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Mi[i]=Mi[r]})});function Gh(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Mi.hasOwnProperty(r)&&Mi[r]?(""+i).trim():i+"px"}function Kh(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=Gh(a,i[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,d):r[a]=d}}var N1=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(r,i){if(i){if(N1[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function El(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function Tl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kl=null,br=null,Fr=null;function Yh(r){if(r=ts(r)){if(typeof kl!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Do(i),kl(r.stateNode,r.type,i))}}function qh(r){br?Fr?Fr.push(r):Fr=[r]:br=r}function Qh(){if(br){var r=br,i=Fr;if(Fr=br=null,Yh(r),i)for(r=0;r<i.length;r++)Yh(i[r])}}function Xh(r,i){return r(i)}function Zh(){}var Pl=!1;function Jh(r,i,a){if(Pl)return r(i,a);Pl=!0;try{return Xh(r,i,a)}finally{Pl=!1,(br!==null||Fr!==null)&&(Zh(),Qh())}}function Li(r,i){var a=r.stateNode;if(a===null)return null;var u=Do(a);if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Il=!1;if(h)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Il=!1}function D1(r,i,a,u,d,p,_,w,S){var R=Array.prototype.slice.call(arguments,3);try{i.apply(a,R)}catch(L){this.onError(L)}}var bi=!1,uo=null,co=!1,Rl=null,M1={onError:function(r){bi=!0,uo=r}};function L1(r,i,a,u,d,p,_,w,S){bi=!1,uo=null,D1.apply(M1,arguments)}function O1(r,i,a,u,d,p,_,w,S){if(L1.apply(this,arguments),bi){if(bi){var R=uo;bi=!1,uo=null}else throw Error(n(198));co||(co=!0,Rl=R)}}function sr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ef(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function tf(r){if(sr(r)!==r)throw Error(n(188))}function b1(r){var i=r.alternate;if(!i){if(i=sr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,u=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return tf(d),r;if(p===u)return tf(d),i;p=p.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=p;else{for(var _=!1,w=d.child;w;){if(w===a){_=!0,a=d,u=p;break}if(w===u){_=!0,u=d,a=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===a){_=!0,a=p,u=d;break}if(w===u){_=!0,u=p,a=d;break}w=w.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function nf(r){return r=b1(r),r!==null?rf(r):null}function rf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=rf(r);if(i!==null)return i;r=r.sibling}return null}var sf=e.unstable_scheduleCallback,of=e.unstable_cancelCallback,F1=e.unstable_shouldYield,V1=e.unstable_requestPaint,je=e.unstable_now,j1=e.unstable_getCurrentPriorityLevel,Al=e.unstable_ImmediatePriority,af=e.unstable_UserBlockingPriority,ho=e.unstable_NormalPriority,B1=e.unstable_LowPriority,lf=e.unstable_IdlePriority,fo=null,tn=null;function U1(r){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fo,r,void 0,(r.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:H1,z1=Math.log,W1=Math.LN2;function H1(r){return r>>>=0,r===0?32:31-(z1(r)/W1|0)|0}var po=64,mo=4194304;function Fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function go(r,i){var a=r.pendingLanes;if(a===0)return 0;var u=0,d=r.suspendedLanes,p=r.pingedLanes,_=a&268435455;if(_!==0){var w=_&~d;w!==0?u=Fi(w):(p&=_,p!==0&&(u=Fi(p)))}else _=a&~d,_!==0?u=Fi(_):p!==0&&(u=Fi(p));if(u===0)return 0;if(i!==0&&i!==u&&(i&d)===0&&(d=u&-u,p=i&-i,d>=p||d===16&&(p&4194240)!==0))return i;if((u&4)!==0&&(u|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)a=31-zt(i),d=1<<a,u|=r[a],i&=~d;return u}function $1(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var _=31-zt(p),w=1<<_,S=d[_];S===-1?((w&a)===0||(w&u)!==0)&&(d[_]=$1(w,i)):S<=i&&(r.expiredLanes|=w),p&=~w}}function Nl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function uf(){var r=po;return po<<=1,(po&4194240)===0&&(po=64),r}function Dl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Vi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-zt(i),r[i]=a}function K1(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-zt(a),p=1<<d;i[d]=0,u[d]=-1,r[d]=-1,a&=~p}}function Ml(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-zt(a),d=1<<u;d&i|r[u]&i&&(r[u]|=i),a&=~d}}var _e=0;function cf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var df,Ll,hf,ff,pf,Ol=!1,yo=[],In=null,Rn=null,An=null,ji=new Map,Bi=new Map,Nn=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(r,i){switch(r){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(i.pointerId)}}function Ui(r,i,a,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=ts(i),i!==null&&Ll(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function q1(r,i,a,u,d){switch(i){case"focusin":return In=Ui(In,r,i,a,u,d),!0;case"dragenter":return Rn=Ui(Rn,r,i,a,u,d),!0;case"mouseover":return An=Ui(An,r,i,a,u,d),!0;case"pointerover":var p=d.pointerId;return ji.set(p,Ui(ji.get(p)||null,r,i,a,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Bi.set(p,Ui(Bi.get(p)||null,r,i,a,u,d)),!0}return!1}function gf(r){var i=or(r.target);if(i!==null){var a=sr(i);if(a!==null){if(i=a.tag,i===13){if(i=ef(a),i!==null){r.blockedOn=i,pf(r.priority,function(){hf(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Fl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);xl=u,a.target.dispatchEvent(u),xl=null}else return i=ts(a),i!==null&&Ll(i),r.blockedOn=a,!1;i.shift()}return!0}function yf(r,i,a){vo(r)&&a.delete(i)}function Q1(){Ol=!1,In!==null&&vo(In)&&(In=null),Rn!==null&&vo(Rn)&&(Rn=null),An!==null&&vo(An)&&(An=null),ji.forEach(yf),Bi.forEach(yf)}function zi(r,i){r.blockedOn===i&&(r.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Q1)))}function Wi(r){function i(d){return zi(d,r)}if(0<yo.length){zi(yo[0],r);for(var a=1;a<yo.length;a++){var u=yo[a];u.blockedOn===r&&(u.blockedOn=null)}}for(In!==null&&zi(In,r),Rn!==null&&zi(Rn,r),An!==null&&zi(An,r),ji.forEach(i),Bi.forEach(i),a=0;a<Nn.length;a++)u=Nn[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Nn.length&&(a=Nn[0],a.blockedOn===null);)gf(a),a.blockedOn===null&&Nn.shift()}var Vr=G.ReactCurrentBatchConfig,_o=!0;function X1(r,i,a,u){var d=_e,p=Vr.transition;Vr.transition=null;try{_e=1,bl(r,i,a,u)}finally{_e=d,Vr.transition=p}}function Z1(r,i,a,u){var d=_e,p=Vr.transition;Vr.transition=null;try{_e=4,bl(r,i,a,u)}finally{_e=d,Vr.transition=p}}function bl(r,i,a,u){if(_o){var d=Fl(r,i,a,u);if(d===null)eu(r,i,u,wo,a),mf(r,u);else if(q1(d,r,i,a,u))u.stopPropagation();else if(mf(r,u),i&4&&-1<Y1.indexOf(r)){for(;d!==null;){var p=ts(d);if(p!==null&&df(p),p=Fl(r,i,a,u),p===null&&eu(r,i,u,wo,a),p===d)break;d=p}d!==null&&u.stopPropagation()}else eu(r,i,u,null,a)}}var wo=null;function Fl(r,i,a,u){if(wo=null,r=Tl(u),r=or(r),r!==null)if(i=sr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ef(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return wo=r,null}function vf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j1()){case Al:return 1;case af:return 4;case ho:case B1:return 16;case lf:return 536870912;default:return 16}default:return 16}}var Dn=null,Vl=null,Co=null;function _f(){if(Co)return Co;var r,i=Vl,a=i.length,u,d="value"in Dn?Dn.value:Dn.textContent,p=d.length;for(r=0;r<a&&i[r]===d[r];r++);var _=a-r;for(u=1;u<=_&&i[a-u]===d[p-u];u++);return Co=d.slice(r,1<u?1-u:void 0)}function So(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Eo(){return!0}function wf(){return!1}function Pt(r){function i(a,u,d,p,_){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Eo:wf,this.isPropagationStopped=wf,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),i}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Pt(jr),Hi=H({},jr,{view:0,detail:0}),J1=Pt(Hi),Bl,Ul,$i,xo=H({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$i&&($i&&r.type==="mousemove"?(Bl=r.screenX-$i.screenX,Ul=r.screenY-$i.screenY):Ul=Bl=0,$i=r),Bl)},movementY:function(r){return"movementY"in r?r.movementY:Ul}}),Cf=Pt(xo),ew=H({},xo,{dataTransfer:0}),tw=Pt(ew),nw=H({},Hi,{relatedTarget:0}),zl=Pt(nw),rw=H({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),iw=Pt(rw),sw=H({},jr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ow=Pt(sw),aw=H({},jr,{data:0}),Sf=Pt(aw),lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=cw[r])?!!i[r]:!1}function Wl(){return dw}var hw=H({},Hi,{key:function(r){if(r.key){var i=lw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=So(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(r){return r.type==="keypress"?So(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?So(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fw=Pt(hw),pw=H({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Pt(pw),mw=H({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),gw=Pt(mw),yw=H({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=Pt(yw),_w=H({},xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ww=Pt(_w),Cw=[9,13,27,32],Hl=h&&"CompositionEvent"in window,Gi=null;h&&"documentMode"in document&&(Gi=document.documentMode);var Sw=h&&"TextEvent"in window&&!Gi,xf=h&&(!Hl||Gi&&8<Gi&&11>=Gi),Tf=" ",kf=!1;function Pf(r,i){switch(r){case"keyup":return Cw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Br=!1;function Ew(r,i){switch(r){case"compositionend":return If(i);case"keypress":return i.which!==32?null:(kf=!0,Tf);case"textInput":return r=i.data,r===Tf&&kf?null:r;default:return null}}function xw(r,i){if(Br)return r==="compositionend"||!Hl&&Pf(r,i)?(r=_f(),Co=Vl=Dn=null,Br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xf&&i.locale!=="ko"?null:i.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Tw[r.type]:i==="textarea"}function Af(r,i,a,u){qh(u),i=Ro(i,"onChange"),0<i.length&&(a=new jl("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Ki=null,Yi=null;function kw(r){Yf(r,0)}function To(r){var i=$r(r);if(Fh(i))return r}function Pw(r,i){if(r==="change")return i}var Nf=!1;if(h){var $l;if(h){var Gl="oninput"in document;if(!Gl){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Gl=typeof Df.oninput=="function"}$l=Gl}else $l=!1;Nf=$l&&(!document.documentMode||9<document.documentMode)}function Mf(){Ki&&(Ki.detachEvent("onpropertychange",Lf),Yi=Ki=null)}function Lf(r){if(r.propertyName==="value"&&To(Yi)){var i=[];Af(i,Yi,r,Tl(r)),Jh(kw,i)}}function Iw(r,i,a){r==="focusin"?(Mf(),Ki=i,Yi=a,Ki.attachEvent("onpropertychange",Lf)):r==="focusout"&&Mf()}function Rw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return To(Yi)}function Aw(r,i){if(r==="click")return To(i)}function Nw(r,i){if(r==="input"||r==="change")return To(i)}function Dw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wt=typeof Object.is=="function"?Object.is:Dw;function qi(r,i){if(Wt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!f.call(i,d)||!Wt(r[d],i[d]))return!1}return!0}function Of(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bf(r,i){var a=Of(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Of(a)}}function Ff(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ff(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Vf(){for(var r=window,i=ao();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=ao(r.document)}return i}function Kl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Mw(r){var i=Vf(),a=r.focusedElem,u=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Ff(a.ownerDocument.documentElement,a)){if(u!==null&&Kl(a)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!r.extend&&p>u&&(d=u,u=p,p=d),d=bf(a,p);var _=bf(a,u);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),p>u?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Lw=h&&"documentMode"in document&&11>=document.documentMode,Ur=null,Yl=null,Qi=null,ql=!1;function jf(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ql||Ur==null||Ur!==ao(u)||(u=Ur,"selectionStart"in u&&Kl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&qi(Qi,u)||(Qi=u,u=Ro(Yl,"onSelect"),0<u.length&&(i=new jl("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=Ur)))}function ko(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var zr={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Ql={},Bf={};h&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Po(r){if(Ql[r])return Ql[r];if(!zr[r])return r;var i=zr[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bf)return Ql[r]=i[a];return r}var Uf=Po("animationend"),zf=Po("animationiteration"),Wf=Po("animationstart"),Hf=Po("transitionend"),$f=new Map,Gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(r,i){$f.set(r,i),l(i,[r])}for(var Xl=0;Xl<Gf.length;Xl++){var Zl=Gf[Xl],Ow=Zl.toLowerCase(),bw=Zl[0].toUpperCase()+Zl.slice(1);Mn(Ow,"on"+bw)}Mn(Uf,"onAnimationEnd"),Mn(zf,"onAnimationIteration"),Mn(Wf,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Hf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Kf(r,i,a){var u=r.type||"unknown-event";r.currentTarget=a,O1(u,i,void 0,r),r.currentTarget=null}function Yf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],S=w.instance,R=w.currentTarget;if(w=w.listener,S!==p&&d.isPropagationStopped())break e;Kf(d,w,R),p=S}else for(_=0;_<u.length;_++){if(w=u[_],S=w.instance,R=w.currentTarget,w=w.listener,S!==p&&d.isPropagationStopped())break e;Kf(d,w,R),p=S}}}if(co)throw r=Rl,co=!1,Rl=null,r}function Te(r,i){var a=i[ou];a===void 0&&(a=i[ou]=new Set);var u=r+"__bubble";a.has(u)||(qf(i,r,2,!1),a.add(u))}function Jl(r,i,a){var u=0;i&&(u|=4),qf(a,r,u,i)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Zi(r){if(!r[Io]){r[Io]=!0,s.forEach(function(a){a!=="selectionchange"&&(Fw.has(a)||Jl(a,!1,r),Jl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Io]||(i[Io]=!0,Jl("selectionchange",!1,i))}}function qf(r,i,a,u){switch(vf(i)){case 1:var d=X1;break;case 4:d=Z1;break;default:d=bl}a=d.bind(null,i,a,r),d=void 0,!Il||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function eu(r,i,a,u,d){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;_=_.return}for(;w!==null;){if(_=or(w),_===null)return;if(S=_.tag,S===5||S===6){u=p=_;continue e}w=w.parentNode}}u=u.return}Jh(function(){var R=p,L=Tl(a),b=[];e:{var D=$f.get(r);if(D!==void 0){var W=jl,K=r;switch(r){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":W=fw;break;case"focusin":K="focus",W=zl;break;case"focusout":K="blur",W=zl;break;case"beforeblur":case"afterblur":W=zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=gw;break;case Uf:case zf:case Wf:W=iw;break;case Hf:W=vw;break;case"scroll":W=J1;break;case"wheel":W=ww;break;case"copy":case"cut":case"paste":W=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ef}var Y=(i&4)!==0,Be=!Y&&r==="scroll",T=Y?D!==null?D+"Capture":null:D;Y=[];for(var E=R,P;E!==null;){P=E;var F=P.stateNode;if(P.tag===5&&F!==null&&(P=F,T!==null&&(F=Li(E,T),F!=null&&Y.push(Ji(E,F,P)))),Be)break;E=E.return}0<Y.length&&(D=new W(D,K,null,a,L),b.push({event:D,listeners:Y}))}}if((i&7)===0){e:{if(D=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",D&&a!==xl&&(K=a.relatedTarget||a.fromElement)&&(or(K)||K[dn]))break e;if((W||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,W?(K=a.relatedTarget||a.toElement,W=R,K=K?or(K):null,K!==null&&(Be=sr(K),K!==Be||K.tag!==5&&K.tag!==6)&&(K=null)):(W=null,K=R),W!==K)){if(Y=Cf,F="onMouseLeave",T="onMouseEnter",E="mouse",(r==="pointerout"||r==="pointerover")&&(Y=Ef,F="onPointerLeave",T="onPointerEnter",E="pointer"),Be=W==null?D:$r(W),P=K==null?D:$r(K),D=new Y(F,E+"leave",W,a,L),D.target=Be,D.relatedTarget=P,F=null,or(L)===R&&(Y=new Y(T,E+"enter",K,a,L),Y.target=P,Y.relatedTarget=Be,F=Y),Be=F,W&&K)t:{for(Y=W,T=K,E=0,P=Y;P;P=Wr(P))E++;for(P=0,F=T;F;F=Wr(F))P++;for(;0<E-P;)Y=Wr(Y),E--;for(;0<P-E;)T=Wr(T),P--;for(;E--;){if(Y===T||T!==null&&Y===T.alternate)break t;Y=Wr(Y),T=Wr(T)}Y=null}else Y=null;W!==null&&Qf(b,D,W,Y,!1),K!==null&&Be!==null&&Qf(b,Be,K,Y,!0)}}e:{if(D=R?$r(R):window,W=D.nodeName&&D.nodeName.toLowerCase(),W==="select"||W==="input"&&D.type==="file")var q=Pw;else if(Rf(D))if(Nf)q=Nw;else{q=Rw;var ee=Iw}else(W=D.nodeName)&&W.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(q=Aw);if(q&&(q=q(r,R))){Af(b,q,a,L);break e}ee&&ee(r,D,R),r==="focusout"&&(ee=D._wrapperState)&&ee.controlled&&D.type==="number"&&_l(D,"number",D.value)}switch(ee=R?$r(R):window,r){case"focusin":(Rf(ee)||ee.contentEditable==="true")&&(Ur=ee,Yl=R,Qi=null);break;case"focusout":Qi=Yl=Ur=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,jf(b,a,L);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":jf(b,a,L)}var te;if(Hl)e:{switch(r){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Br?Pf(r,a)&&(ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(xf&&a.locale!=="ko"&&(Br||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Br&&(te=_f()):(Dn=L,Vl="value"in Dn?Dn.value:Dn.textContent,Br=!0)),ee=Ro(R,ie),0<ee.length&&(ie=new Sf(ie,r,null,a,L),b.push({event:ie,listeners:ee}),te?ie.data=te:(te=If(a),te!==null&&(ie.data=te)))),(te=Sw?Ew(r,a):xw(r,a))&&(R=Ro(R,"onBeforeInput"),0<R.length&&(L=new Sf("onBeforeInput","beforeinput",null,a,L),b.push({event:L,listeners:R}),L.data=te))}Yf(b,i)})}function Ji(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Ro(r,i){for(var a=i+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Li(r,a),p!=null&&u.unshift(Ji(r,p,d)),p=Li(r,i),p!=null&&u.push(Ji(r,p,d))),r=r.return}return u}function Wr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qf(r,i,a,u,d){for(var p=i._reactName,_=[];a!==null&&a!==u;){var w=a,S=w.alternate,R=w.stateNode;if(S!==null&&S===u)break;w.tag===5&&R!==null&&(w=R,d?(S=Li(a,p),S!=null&&_.unshift(Ji(a,S,w))):d||(S=Li(a,p),S!=null&&_.push(Ji(a,S,w)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var Vw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function Xf(r){return(typeof r=="string"?r:""+r).replace(Vw,`
`).replace(jw,"")}function Ao(r,i,a){if(i=Xf(i),Xf(r)!==i&&a)throw Error(n(425))}function No(){}var tu=null,nu=null;function ru(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(r){return Zf.resolve(null).then(r).catch(zw)}:iu;function zw(r){setTimeout(function(){throw r})}function su(r,i){var a=i,u=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){r.removeChild(d),Wi(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);Wi(i)}function Ln(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Jf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),nn="__reactFiber$"+Hr,es="__reactProps$"+Hr,dn="__reactContainer$"+Hr,ou="__reactEvents$"+Hr,Ww="__reactListeners$"+Hr,Hw="__reactHandles$"+Hr;function or(r){var i=r[nn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[dn]||a[nn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Jf(r);r!==null;){if(a=r[nn])return a;r=Jf(r)}return i}r=a,a=r.parentNode}return null}function ts(r){return r=r[nn]||r[dn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function $r(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Do(r){return r[es]||null}var au=[],Gr=-1;function On(r){return{current:r}}function ke(r){0>Gr||(r.current=au[Gr],au[Gr]=null,Gr--)}function Se(r,i){Gr++,au[Gr]=r.current,r.current=i}var bn={},nt=On(bn),mt=On(!1),ar=bn;function Kr(r,i){var a=r.type.contextTypes;if(!a)return bn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=i[p];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function gt(r){return r=r.childContextTypes,r!=null}function Mo(){ke(mt),ke(nt)}function ep(r,i,a){if(nt.current!==bn)throw Error(n(168));Se(nt,i),Se(mt,a)}function tp(r,i,a){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(n(108,Ce(r)||"Unknown",d));return H({},a,u)}function Lo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||bn,ar=nt.current,Se(nt,r),Se(mt,mt.current),!0}function np(r,i,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=tp(r,i,ar),u.__reactInternalMemoizedMergedChildContext=r,ke(mt),ke(nt),Se(nt,r)):ke(mt),Se(mt,a)}var hn=null,Oo=!1,lu=!1;function rp(r){hn===null?hn=[r]:hn.push(r)}function $w(r){Oo=!0,rp(r)}function Fn(){if(!lu&&hn!==null){lu=!0;var r=0,i=_e;try{var a=hn;for(_e=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}hn=null,Oo=!1}catch(d){throw hn!==null&&(hn=hn.slice(r+1)),sf(Al,Fn),d}finally{_e=i,lu=!1}}return null}var Yr=[],qr=0,bo=null,Fo=0,Mt=[],Lt=0,lr=null,fn=1,pn="";function ur(r,i){Yr[qr++]=Fo,Yr[qr++]=bo,bo=r,Fo=i}function ip(r,i,a){Mt[Lt++]=fn,Mt[Lt++]=pn,Mt[Lt++]=lr,lr=r;var u=fn;r=pn;var d=32-zt(u)-1;u&=~(1<<d),a+=1;var p=32-zt(i)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,fn=1<<32-zt(i)+d|a<<d|u,pn=p+r}else fn=1<<p|a<<d|u,pn=r}function uu(r){r.return!==null&&(ur(r,1),ip(r,1,0))}function cu(r){for(;r===bo;)bo=Yr[--qr],Yr[qr]=null,Fo=Yr[--qr],Yr[qr]=null;for(;r===lr;)lr=Mt[--Lt],Mt[Lt]=null,pn=Mt[--Lt],Mt[Lt]=null,fn=Mt[--Lt],Mt[Lt]=null}var It=null,Rt=null,Ae=!1,Ht=null;function sp(r,i){var a=Vt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function op(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,It=r,Rt=Ln(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,It=r,Rt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=lr!==null?{id:fn,overflow:pn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Vt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,It=r,Rt=null,!0):!1;default:return!1}}function du(r){return(r.mode&1)!==0&&(r.flags&128)===0}function hu(r){if(Ae){var i=Rt;if(i){var a=i;if(!op(r,i)){if(du(r))throw Error(n(418));i=Ln(a.nextSibling);var u=It;i&&op(r,i)?sp(u,a):(r.flags=r.flags&-4097|2,Ae=!1,It=r)}}else{if(du(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ae=!1,It=r}}}function ap(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;It=r}function Vo(r){if(r!==It)return!1;if(!Ae)return ap(r),Ae=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!ru(r.type,r.memoizedProps)),i&&(i=Rt)){if(du(r))throw lp(),Error(n(418));for(;i;)sp(r,i),i=Ln(i.nextSibling)}if(ap(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Rt=Ln(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Rt=null}}else Rt=It?Ln(r.stateNode.nextSibling):null;return!0}function lp(){for(var r=Rt;r;)r=Ln(r.nextSibling)}function Qr(){Rt=It=null,Ae=!1}function fu(r){Ht===null?Ht=[r]:Ht.push(r)}var Gw=G.ReactCurrentBatchConfig;function ns(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var d=u,p=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(_){var w=d.refs;_===null?delete w[p]:w[p]=_},i._stringRef=p,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function jo(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function up(r){var i=r._init;return i(r._payload)}function cp(r){function i(T,E){if(r){var P=T.deletions;P===null?(T.deletions=[E],T.flags|=16):P.push(E)}}function a(T,E){if(!r)return null;for(;E!==null;)i(T,E),E=E.sibling;return null}function u(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function d(T,E){return T=$n(T,E),T.index=0,T.sibling=null,T}function p(T,E,P){return T.index=P,r?(P=T.alternate,P!==null?(P=P.index,P<E?(T.flags|=2,E):P):(T.flags|=2,E)):(T.flags|=1048576,E)}function _(T){return r&&T.alternate===null&&(T.flags|=2),T}function w(T,E,P,F){return E===null||E.tag!==6?(E=ic(P,T.mode,F),E.return=T,E):(E=d(E,P),E.return=T,E)}function S(T,E,P,F){var q=P.type;return q===he?L(T,E,P.props.children,F,P.key):E!==null&&(E.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ct&&up(q)===E.type)?(F=d(E,P.props),F.ref=ns(T,E,P),F.return=T,F):(F=ua(P.type,P.key,P.props,null,T.mode,F),F.ref=ns(T,E,P),F.return=T,F)}function R(T,E,P,F){return E===null||E.tag!==4||E.stateNode.containerInfo!==P.containerInfo||E.stateNode.implementation!==P.implementation?(E=sc(P,T.mode,F),E.return=T,E):(E=d(E,P.children||[]),E.return=T,E)}function L(T,E,P,F,q){return E===null||E.tag!==7?(E=yr(P,T.mode,F,q),E.return=T,E):(E=d(E,P),E.return=T,E)}function b(T,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ic(""+E,T.mode,P),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case z:return P=ua(E.type,E.key,E.props,null,T.mode,P),P.ref=ns(T,null,E),P.return=T,P;case X:return E=sc(E,T.mode,P),E.return=T,E;case ct:var F=E._init;return b(T,F(E._payload),P)}if(Ni(E)||J(E))return E=yr(E,T.mode,P,null),E.return=T,E;jo(T,E)}return null}function D(T,E,P,F){var q=E!==null?E.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return q!==null?null:w(T,E,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===q?S(T,E,P,F):null;case X:return P.key===q?R(T,E,P,F):null;case ct:return q=P._init,D(T,E,q(P._payload),F)}if(Ni(P)||J(P))return q!==null?null:L(T,E,P,F,null);jo(T,P)}return null}function W(T,E,P,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return T=T.get(P)||null,w(E,T,""+F,q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case z:return T=T.get(F.key===null?P:F.key)||null,S(E,T,F,q);case X:return T=T.get(F.key===null?P:F.key)||null,R(E,T,F,q);case ct:var ee=F._init;return W(T,E,P,ee(F._payload),q)}if(Ni(F)||J(F))return T=T.get(P)||null,L(E,T,F,q,null);jo(E,F)}return null}function K(T,E,P,F){for(var q=null,ee=null,te=E,ie=E=0,Ye=null;te!==null&&ie<P.length;ie++){te.index>ie?(Ye=te,te=null):Ye=te.sibling;var ge=D(T,te,P[ie],F);if(ge===null){te===null&&(te=Ye);break}r&&te&&ge.alternate===null&&i(T,te),E=p(ge,E,ie),ee===null?q=ge:ee.sibling=ge,ee=ge,te=Ye}if(ie===P.length)return a(T,te),Ae&&ur(T,ie),q;if(te===null){for(;ie<P.length;ie++)te=b(T,P[ie],F),te!==null&&(E=p(te,E,ie),ee===null?q=te:ee.sibling=te,ee=te);return Ae&&ur(T,ie),q}for(te=u(T,te);ie<P.length;ie++)Ye=W(te,T,ie,P[ie],F),Ye!==null&&(r&&Ye.alternate!==null&&te.delete(Ye.key===null?ie:Ye.key),E=p(Ye,E,ie),ee===null?q=Ye:ee.sibling=Ye,ee=Ye);return r&&te.forEach(function(Gn){return i(T,Gn)}),Ae&&ur(T,ie),q}function Y(T,E,P,F){var q=J(P);if(typeof q!="function")throw Error(n(150));if(P=q.call(P),P==null)throw Error(n(151));for(var ee=q=null,te=E,ie=E=0,Ye=null,ge=P.next();te!==null&&!ge.done;ie++,ge=P.next()){te.index>ie?(Ye=te,te=null):Ye=te.sibling;var Gn=D(T,te,ge.value,F);if(Gn===null){te===null&&(te=Ye);break}r&&te&&Gn.alternate===null&&i(T,te),E=p(Gn,E,ie),ee===null?q=Gn:ee.sibling=Gn,ee=Gn,te=Ye}if(ge.done)return a(T,te),Ae&&ur(T,ie),q;if(te===null){for(;!ge.done;ie++,ge=P.next())ge=b(T,ge.value,F),ge!==null&&(E=p(ge,E,ie),ee===null?q=ge:ee.sibling=ge,ee=ge);return Ae&&ur(T,ie),q}for(te=u(T,te);!ge.done;ie++,ge=P.next())ge=W(te,T,ie,ge.value,F),ge!==null&&(r&&ge.alternate!==null&&te.delete(ge.key===null?ie:ge.key),E=p(ge,E,ie),ee===null?q=ge:ee.sibling=ge,ee=ge);return r&&te.forEach(function(TC){return i(T,TC)}),Ae&&ur(T,ie),q}function Be(T,E,P,F){if(typeof P=="object"&&P!==null&&P.type===he&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var q=P.key,ee=E;ee!==null;){if(ee.key===q){if(q=P.type,q===he){if(ee.tag===7){a(T,ee.sibling),E=d(ee,P.props.children),E.return=T,T=E;break e}}else if(ee.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ct&&up(q)===ee.type){a(T,ee.sibling),E=d(ee,P.props),E.ref=ns(T,ee,P),E.return=T,T=E;break e}a(T,ee);break}else i(T,ee);ee=ee.sibling}P.type===he?(E=yr(P.props.children,T.mode,F,P.key),E.return=T,T=E):(F=ua(P.type,P.key,P.props,null,T.mode,F),F.ref=ns(T,E,P),F.return=T,T=F)}return _(T);case X:e:{for(ee=P.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===P.containerInfo&&E.stateNode.implementation===P.implementation){a(T,E.sibling),E=d(E,P.children||[]),E.return=T,T=E;break e}else{a(T,E);break}else i(T,E);E=E.sibling}E=sc(P,T.mode,F),E.return=T,T=E}return _(T);case ct:return ee=P._init,Be(T,E,ee(P._payload),F)}if(Ni(P))return K(T,E,P,F);if(J(P))return Y(T,E,P,F);jo(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,E!==null&&E.tag===6?(a(T,E.sibling),E=d(E,P),E.return=T,T=E):(a(T,E),E=ic(P,T.mode,F),E.return=T,T=E),_(T)):a(T,E)}return Be}var Xr=cp(!0),dp=cp(!1),Bo=On(null),Uo=null,Zr=null,pu=null;function mu(){pu=Zr=Uo=null}function gu(r){var i=Bo.current;ke(Bo),r._currentValue=i}function yu(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function Jr(r,i){Uo=r,pu=Zr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(yt=!0),r.firstContext=null)}function Ot(r){var i=r._currentValue;if(pu!==r)if(r={context:r,memoizedValue:i,next:null},Zr===null){if(Uo===null)throw Error(n(308));Zr=r,Uo.dependencies={lanes:0,firstContext:r}}else Zr=Zr.next=r;return i}var cr=null;function vu(r){cr===null?cr=[r]:cr.push(r)}function hp(r,i,a,u){var d=i.interleaved;return d===null?(a.next=a,vu(i)):(a.next=d.next,d.next=a),i.interleaved=a,mn(r,u)}function mn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Vn=!1;function _u(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function gn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function jn(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(fe&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,mn(r,a)}return d=u.interleaved,d===null?(i.next=i,vu(u)):(i.next=d.next,d.next=i),u.interleaved=i,mn(r,a)}function zo(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Ml(r,a)}}function pp(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Wo(r,i,a,u){var d=r.updateQueue;Vn=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var S=w,R=S.next;S.next=null,_===null?p=R:_.next=R,_=S;var L=r.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==_&&(w===null?L.firstBaseUpdate=R:w.next=R,L.lastBaseUpdate=S))}if(p!==null){var b=d.baseState;_=0,L=R=S=null,w=p;do{var D=w.lane,W=w.eventTime;if((u&D)===D){L!==null&&(L=L.next={eventTime:W,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var K=r,Y=w;switch(D=i,W=a,Y.tag){case 1:if(K=Y.payload,typeof K=="function"){b=K.call(W,b,D);break e}b=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Y.payload,D=typeof K=="function"?K.call(W,b,D):K,D==null)break e;b=H({},b,D);break e;case 2:Vn=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,D=d.effects,D===null?d.effects=[w]:D.push(w))}else W={eventTime:W,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(R=L=W,S=b):L=L.next=W,_|=D;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(L===null&&(S=b),d.baseState=S,d.firstBaseUpdate=R,d.lastBaseUpdate=L,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else p===null&&(d.shared.lanes=0);fr|=_,r.lanes=_,r.memoizedState=b}}function mp(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var rs={},rn=On(rs),is=On(rs),ss=On(rs);function dr(r){if(r===rs)throw Error(n(174));return r}function wu(r,i){switch(Se(ss,i),Se(is,r),Se(rn,rs),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Cl(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Cl(i,r)}ke(rn),Se(rn,i)}function ei(){ke(rn),ke(is),ke(ss)}function gp(r){dr(ss.current);var i=dr(rn.current),a=Cl(i,r.type);i!==a&&(Se(is,r),Se(rn,a))}function Cu(r){is.current===r&&(ke(rn),ke(is))}var De=On(0);function Ho(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Su=[];function Eu(){for(var r=0;r<Su.length;r++)Su[r]._workInProgressVersionPrimary=null;Su.length=0}var $o=G.ReactCurrentDispatcher,xu=G.ReactCurrentBatchConfig,hr=0,Me=null,We=null,Ge=null,Go=!1,os=!1,as=0,Kw=0;function rt(){throw Error(n(321))}function Tu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Wt(r[a],i[a]))return!1;return!0}function ku(r,i,a,u,d,p){if(hr=p,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$o.current=r===null||r.memoizedState===null?Xw:Zw,r=a(u,d),os){p=0;do{if(os=!1,as=0,25<=p)throw Error(n(301));p+=1,Ge=We=null,i.updateQueue=null,$o.current=Jw,r=a(u,d)}while(os)}if($o.current=qo,i=We!==null&&We.next!==null,hr=0,Ge=We=Me=null,Go=!1,i)throw Error(n(300));return r}function Pu(){var r=as!==0;return as=0,r}function sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Me.memoizedState=Ge=r:Ge=Ge.next=r,Ge}function bt(){if(We===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Ge===null?Me.memoizedState:Ge.next;if(i!==null)Ge=i,We=r;else{if(r===null)throw Error(n(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Me.memoizedState=Ge=r:Ge=Ge.next=r}return Ge}function ls(r,i){return typeof i=="function"?i(r):i}function Iu(r){var i=bt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=We,d=u.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}u.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,u=u.baseState;var w=_=null,S=null,R=p;do{var L=R.lane;if((hr&L)===L)S!==null&&(S=S.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),u=R.hasEagerState?R.eagerState:r(u,R.action);else{var b={lane:L,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};S===null?(w=S=b,_=u):S=S.next=b,Me.lanes|=L,fr|=L}R=R.next}while(R!==null&&R!==p);S===null?_=u:S.next=w,Wt(u,i.memoizedState)||(yt=!0),i.memoizedState=u,i.baseState=_,i.baseQueue=S,a.lastRenderedState=u}if(r=a.interleaved,r!==null){d=r;do p=d.lane,Me.lanes|=p,fr|=p,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ru(r){var i=bt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=r(p,_.action),_=_.next;while(_!==d);Wt(p,i.memoizedState)||(yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function yp(){}function vp(r,i){var a=Me,u=bt(),d=i(),p=!Wt(u.memoizedState,d);if(p&&(u.memoizedState=d,yt=!0),u=u.queue,Au(Cp.bind(null,a,u,r),[r]),u.getSnapshot!==i||p||Ge!==null&&Ge.memoizedState.tag&1){if(a.flags|=2048,us(9,wp.bind(null,a,u,d,i),void 0,null),Ke===null)throw Error(n(349));(hr&30)!==0||_p(a,i,d)}return d}function _p(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i={lastEffect:null,stores:null},Me.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function wp(r,i,a,u){i.value=a,i.getSnapshot=u,Sp(i)&&Ep(r)}function Cp(r,i,a){return a(function(){Sp(i)&&Ep(r)})}function Sp(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Wt(r,a)}catch{return!0}}function Ep(r){var i=mn(r,1);i!==null&&Yt(i,r,1,-1)}function xp(r){var i=sn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},i.queue=r,r=r.dispatch=Qw.bind(null,Me,r),[i.memoizedState,r]}function us(r,i,a,u){return r={tag:r,create:i,destroy:a,deps:u,next:null},i=Me.updateQueue,i===null?(i={lastEffect:null,stores:null},Me.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r)),r}function Tp(){return bt().memoizedState}function Ko(r,i,a,u){var d=sn();Me.flags|=r,d.memoizedState=us(1|i,a,void 0,u===void 0?null:u)}function Yo(r,i,a,u){var d=bt();u=u===void 0?null:u;var p=void 0;if(We!==null){var _=We.memoizedState;if(p=_.destroy,u!==null&&Tu(u,_.deps)){d.memoizedState=us(i,a,p,u);return}}Me.flags|=r,d.memoizedState=us(1|i,a,p,u)}function kp(r,i){return Ko(8390656,8,r,i)}function Au(r,i){return Yo(2048,8,r,i)}function Pp(r,i){return Yo(4,2,r,i)}function Ip(r,i){return Yo(4,4,r,i)}function Rp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ap(r,i,a){return a=a!=null?a.concat([r]):null,Yo(4,4,Rp.bind(null,i,r),a)}function Nu(){}function Np(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&Tu(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function Dp(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&Tu(i,u[1])?u[0]:(r=r(),a.memoizedState=[r,i],r)}function Mp(r,i,a){return(hr&21)===0?(r.baseState&&(r.baseState=!1,yt=!0),r.memoizedState=a):(Wt(a,i)||(a=uf(),Me.lanes|=a,fr|=a,r.baseState=!0),i)}function Yw(r,i){var a=_e;_e=a!==0&&4>a?a:4,r(!0);var u=xu.transition;xu.transition={};try{r(!1),i()}finally{_e=a,xu.transition=u}}function Lp(){return bt().memoizedState}function qw(r,i,a){var u=Wn(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Op(r))bp(i,a);else if(a=hp(r,i,a,u),a!==null){var d=ht();Yt(a,r,u,d),Fp(a,i,u)}}function Qw(r,i,a){var u=Wn(r),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Op(r))bp(i,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,w=p(_,a);if(d.hasEagerState=!0,d.eagerState=w,Wt(w,_)){var S=i.interleaved;S===null?(d.next=d,vu(i)):(d.next=S.next,S.next=d),i.interleaved=d;return}}catch{}finally{}a=hp(r,i,d,u),a!==null&&(d=ht(),Yt(a,r,u,d),Fp(a,i,u))}}function Op(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function bp(r,i){os=Go=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Fp(r,i,a){if((a&4194240)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Ml(r,a)}}var qo={readContext:Ot,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Xw={readContext:Ot,useCallback:function(r,i){return sn().memoizedState=[r,i===void 0?null:i],r},useContext:Ot,useEffect:kp,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Ko(4194308,4,Rp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Ko(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ko(4,2,r,i)},useMemo:function(r,i){var a=sn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var u=sn();return i=a!==void 0?a(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=qw.bind(null,Me,r),[u.memoizedState,r]},useRef:function(r){var i=sn();return r={current:r},i.memoizedState=r},useState:xp,useDebugValue:Nu,useDeferredValue:function(r){return sn().memoizedState=r},useTransition:function(){var r=xp(!1),i=r[0];return r=Yw.bind(null,r[1]),sn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var u=Me,d=sn();if(Ae){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Ke===null)throw Error(n(349));(hr&30)!==0||_p(u,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,kp(Cp.bind(null,u,p,r),[r]),u.flags|=2048,us(9,wp.bind(null,u,p,a,i),void 0,null),a},useId:function(){var r=sn(),i=Ke.identifierPrefix;if(Ae){var a=pn,u=fn;a=(u&~(1<<32-zt(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=as++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Kw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Zw={readContext:Ot,useCallback:Np,useContext:Ot,useEffect:Au,useImperativeHandle:Ap,useInsertionEffect:Pp,useLayoutEffect:Ip,useMemo:Dp,useReducer:Iu,useRef:Tp,useState:function(){return Iu(ls)},useDebugValue:Nu,useDeferredValue:function(r){var i=bt();return Mp(i,We.memoizedState,r)},useTransition:function(){var r=Iu(ls)[0],i=bt().memoizedState;return[r,i]},useMutableSource:yp,useSyncExternalStore:vp,useId:Lp,unstable_isNewReconciler:!1},Jw={readContext:Ot,useCallback:Np,useContext:Ot,useEffect:Au,useImperativeHandle:Ap,useInsertionEffect:Pp,useLayoutEffect:Ip,useMemo:Dp,useReducer:Ru,useRef:Tp,useState:function(){return Ru(ls)},useDebugValue:Nu,useDeferredValue:function(r){var i=bt();return We===null?i.memoizedState=r:Mp(i,We.memoizedState,r)},useTransition:function(){var r=Ru(ls)[0],i=bt().memoizedState;return[r,i]},useMutableSource:yp,useSyncExternalStore:vp,useId:Lp,unstable_isNewReconciler:!1};function $t(r,i){if(r&&r.defaultProps){i=H({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Du(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:H({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Qo={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var u=ht(),d=Wn(r),p=gn(u,d);p.payload=i,a!=null&&(p.callback=a),i=jn(r,p,d),i!==null&&(Yt(i,r,d,u),zo(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=ht(),d=Wn(r),p=gn(u,d);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=jn(r,p,d),i!==null&&(Yt(i,r,d,u),zo(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ht(),u=Wn(r),d=gn(a,u);d.tag=2,i!=null&&(d.callback=i),i=jn(r,d,u),i!==null&&(Yt(i,r,u,a),zo(i,r,u))}};function Vp(r,i,a,u,d,p,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,_):i.prototype&&i.prototype.isPureReactComponent?!qi(a,u)||!qi(d,p):!0}function jp(r,i,a){var u=!1,d=bn,p=i.contextType;return typeof p=="object"&&p!==null?p=Ot(p):(d=gt(i)?ar:nt.current,u=i.contextTypes,p=(u=u!=null)?Kr(r,d):bn),i=new i(a,p),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Qo,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),i}function Bp(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&Qo.enqueueReplaceState(i,i.state,null)}function Mu(r,i,a,u){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},_u(r);var p=i.contextType;typeof p=="object"&&p!==null?d.context=Ot(p):(p=gt(i)?ar:nt.current,d.context=Kr(r,p)),d.state=r.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Du(r,i,p,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Qo.enqueueReplaceState(d,d.state,null),Wo(r,a,d,u),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ti(r,i){try{var a="",u=i;do a+=pe(u),u=u.return;while(u);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:i,stack:d,digest:null}}function Lu(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Ou(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var eC=typeof WeakMap=="function"?WeakMap:Map;function Up(r,i,a){a=gn(-1,a),a.tag=3,a.payload={element:null};var u=i.value;return a.callback=function(){ra||(ra=!0,Qu=u),Ou(r,i)},a}function zp(r,i,a){a=gn(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;a.payload=function(){return u(d)},a.callback=function(){Ou(r,i)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Ou(r,i),typeof u!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Wp(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new eC;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(d.add(a),r=pC.bind(null,r,i,a),i.then(r,r))}function Hp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function $p(r,i,a,u,d){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=gn(-1,1),i.tag=2,jn(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var tC=G.ReactCurrentOwner,yt=!1;function dt(r,i,a,u){i.child=r===null?dp(i,null,a,u):Xr(i,r.child,a,u)}function Gp(r,i,a,u,d){a=a.render;var p=i.ref;return Jr(i,d),u=ku(r,i,a,u,p,d),a=Pu(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,yn(r,i,d)):(Ae&&a&&uu(i),i.flags|=1,dt(r,i,u,d),i.child)}function Kp(r,i,a,u,d){if(r===null){var p=a.type;return typeof p=="function"&&!rc(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=p,Yp(r,i,p,u,d)):(r=ua(a.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,(r.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:qi,a(_,u)&&r.ref===i.ref)return yn(r,i,d)}return i.flags|=1,r=$n(p,u),r.ref=i.ref,r.return=i,i.child=r}function Yp(r,i,a,u,d){if(r!==null){var p=r.memoizedProps;if(qi(p,u)&&r.ref===i.ref)if(yt=!1,i.pendingProps=u=p,(r.lanes&d)!==0)(r.flags&131072)!==0&&(yt=!0);else return i.lanes=r.lanes,yn(r,i,d)}return bu(r,i,a,u,d)}function qp(r,i,a){var u=i.pendingProps,d=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ri,At),At|=a;else{if((a&1073741824)===0)return r=p!==null?p.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Se(ri,At),At|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,Se(ri,At),At|=u}else p!==null?(u=p.baseLanes|a,i.memoizedState=null):u=a,Se(ri,At),At|=u;return dt(r,i,d,a),i.child}function Qp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function bu(r,i,a,u,d){var p=gt(a)?ar:nt.current;return p=Kr(i,p),Jr(i,d),a=ku(r,i,a,u,p,d),u=Pu(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,yn(r,i,d)):(Ae&&u&&uu(i),i.flags|=1,dt(r,i,a,d),i.child)}function Xp(r,i,a,u,d){if(gt(a)){var p=!0;Lo(i)}else p=!1;if(Jr(i,d),i.stateNode===null)Zo(r,i),jp(i,a,u),Mu(i,a,u,d),u=!0;else if(r===null){var _=i.stateNode,w=i.memoizedProps;_.props=w;var S=_.context,R=a.contextType;typeof R=="object"&&R!==null?R=Ot(R):(R=gt(a)?ar:nt.current,R=Kr(i,R));var L=a.getDerivedStateFromProps,b=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function";b||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||S!==R)&&Bp(i,_,u,R),Vn=!1;var D=i.memoizedState;_.state=D,Wo(i,u,_,d),S=i.memoizedState,w!==u||D!==S||mt.current||Vn?(typeof L=="function"&&(Du(i,a,L,u),S=i.memoizedState),(w=Vn||Vp(i,a,w,u,D,S,R))?(b||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=S),_.props=u,_.state=S,_.context=R,u=w):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{_=i.stateNode,fp(r,i),w=i.memoizedProps,R=i.type===i.elementType?w:$t(i.type,w),_.props=R,b=i.pendingProps,D=_.context,S=a.contextType,typeof S=="object"&&S!==null?S=Ot(S):(S=gt(a)?ar:nt.current,S=Kr(i,S));var W=a.getDerivedStateFromProps;(L=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==b||D!==S)&&Bp(i,_,u,S),Vn=!1,D=i.memoizedState,_.state=D,Wo(i,u,_,d);var K=i.memoizedState;w!==b||D!==K||mt.current||Vn?(typeof W=="function"&&(Du(i,a,W,u),K=i.memoizedState),(R=Vn||Vp(i,a,R,u,D,K,S)||!1)?(L||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,K,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,K,S)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),_.props=u,_.state=K,_.context=S,u=R):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),u=!1)}return Fu(r,i,a,u,p,d)}function Fu(r,i,a,u,d,p){Qp(r,i);var _=(i.flags&128)!==0;if(!u&&!_)return d&&np(i,a,!1),yn(r,i,p);u=i.stateNode,tC.current=i;var w=_&&typeof a.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&_?(i.child=Xr(i,r.child,null,p),i.child=Xr(i,null,w,p)):dt(r,i,w,p),i.memoizedState=u.state,d&&np(i,a,!0),i.child}function Zp(r){var i=r.stateNode;i.pendingContext?ep(r,i.pendingContext,i.pendingContext!==i.context):i.context&&ep(r,i.context,!1),wu(r,i.containerInfo)}function Jp(r,i,a,u,d){return Qr(),fu(d),i.flags|=256,dt(r,i,a,u),i.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function ju(r){return{baseLanes:r,cachePool:null,transitions:null}}function em(r,i,a){var u=i.pendingProps,d=De.current,p=!1,_=(i.flags&128)!==0,w;if((w=_)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(p=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Se(De,d&1),r===null)return hu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=u.children,r=u.fallback,p?(u=i.mode,p=i.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=ca(_,u,0,null),r=yr(r,u,a,null),p.return=i,r.return=i,p.sibling=r,i.child=p,i.child.memoizedState=ju(a),i.memoizedState=Vu,r):Bu(i,_));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return nC(r,i,_,u,w,d,a);if(p){p=u.fallback,_=i.mode,d=r.child,w=d.sibling;var S={mode:"hidden",children:u.children};return(_&1)===0&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=S,i.deletions=null):(u=$n(d,S),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?p=$n(w,p):(p=yr(p,_,a,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,_=r.child.memoizedState,_=_===null?ju(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=r.childLanes&~a,i.memoizedState=Vu,u}return p=r.child,r=p.sibling,u=$n(p,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=a),u.return=i,u.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=u,i.memoizedState=null,u}function Bu(r,i){return i=ca({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Xo(r,i,a,u){return u!==null&&fu(u),Xr(i,r.child,null,a),r=Bu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function nC(r,i,a,u,d,p,_){if(a)return i.flags&256?(i.flags&=-257,u=Lu(Error(n(422))),Xo(r,i,_,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(p=u.fallback,d=i.mode,u=ca({mode:"visible",children:u.children},d,0,null),p=yr(p,d,_,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,(i.mode&1)!==0&&Xr(i,r.child,null,_),i.child.memoizedState=ju(_),i.memoizedState=Vu,p);if((i.mode&1)===0)return Xo(r,i,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=Lu(p,u,void 0),Xo(r,i,_,u)}if(w=(_&r.childLanes)!==0,yt||w){if(u=Ke,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,mn(r,d),Yt(u,r,d,-1))}return nc(),u=Lu(Error(n(421))),Xo(r,i,_,u)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=mC.bind(null,r),d._reactRetry=i,null):(r=p.treeContext,Rt=Ln(d.nextSibling),It=i,Ae=!0,Ht=null,r!==null&&(Mt[Lt++]=fn,Mt[Lt++]=pn,Mt[Lt++]=lr,fn=r.id,pn=r.overflow,lr=i),i=Bu(i,u.children),i.flags|=4096,i)}function tm(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),yu(r.return,i,a)}function Uu(r,i,a,u,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=d)}function nm(r,i,a){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(dt(r,i,u.children,a),u=De.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tm(r,a,i);else if(r.tag===19)tm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Se(De,u),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&Ho(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Uu(i,!1,d,a,p);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Ho(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Uu(i,!0,a,null,p);break;case"together":Uu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zo(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function yn(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),fr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=$n(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=$n(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function rC(r,i,a){switch(i.tag){case 3:Zp(i),Qr();break;case 5:gp(i);break;case 1:gt(i.type)&&Lo(i);break;case 4:wu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;Se(Bo,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Se(De,De.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?em(r,i,a):(Se(De,De.current&1),r=yn(r,i,a),r!==null?r.sibling:null);Se(De,De.current&1);break;case 19:if(u=(a&i.childLanes)!==0,(r.flags&128)!==0){if(u)return nm(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Se(De,De.current),u)break;return null;case 22:case 23:return i.lanes=0,qp(r,i,a)}return yn(r,i,a)}var rm,zu,im,sm;rm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zu=function(){},im=function(r,i,a,u){var d=r.memoizedProps;if(d!==u){r=i.stateNode,dr(rn.current);var p=null;switch(a){case"input":d=yl(r,d),u=yl(r,u),p=[];break;case"select":d=H({},d,{value:void 0}),u=H({},u,{value:void 0}),p=[];break;case"textarea":d=wl(r,d),u=wl(r,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=No)}Sl(a,u);var _;a=null;for(R in d)if(!u.hasOwnProperty(R)&&d.hasOwnProperty(R)&&d[R]!=null)if(R==="style"){var w=d[R];for(_ in w)w.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(o.hasOwnProperty(R)?p||(p=[]):(p=p||[]).push(R,null));for(R in u){var S=u[R];if(w=d?.[R],u.hasOwnProperty(R)&&S!==w&&(S!=null||w!=null))if(R==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in S)S.hasOwnProperty(_)&&w[_]!==S[_]&&(a||(a={}),a[_]=S[_])}else a||(p||(p=[]),p.push(R,a)),a=S;else R==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(p=p||[]).push(R,S)):R==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(R,""+S):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(o.hasOwnProperty(R)?(S!=null&&R==="onScroll"&&Te("scroll",r),p||w===S||(p=[])):(p=p||[]).push(R,S))}a&&(p=p||[]).push("style",a);var R=p;(i.updateQueue=R)&&(i.flags|=4)}},sm=function(r,i,a,u){a!==u&&(i.flags|=4)};function cs(r,i){if(!Ae)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function it(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function iC(r,i,a){var u=i.pendingProps;switch(cu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return gt(i.type)&&Mo(),it(i),null;case 3:return u=i.stateNode,ei(),ke(mt),ke(nt),Eu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Vo(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ht!==null&&(Ju(Ht),Ht=null))),zu(r,i),it(i),null;case 5:Cu(i);var d=dr(ss.current);if(a=i.type,r!==null&&i.stateNode!=null)im(r,i,a,u,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return it(i),null}if(r=dr(rn.current),Vo(i)){u=i.stateNode,a=i.type;var p=i.memoizedProps;switch(u[nn]=i,u[es]=p,r=(i.mode&1)!==0,a){case"dialog":Te("cancel",u),Te("close",u);break;case"iframe":case"object":case"embed":Te("load",u);break;case"video":case"audio":for(d=0;d<Xi.length;d++)Te(Xi[d],u);break;case"source":Te("error",u);break;case"img":case"image":case"link":Te("error",u),Te("load",u);break;case"details":Te("toggle",u);break;case"input":Vh(u,p),Te("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Te("invalid",u);break;case"textarea":Uh(u,p),Te("invalid",u)}Sl(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Ao(u.textContent,w,r),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Ao(u.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&Te("scroll",u)}switch(a){case"input":oo(u),Bh(u,p,!0);break;case"textarea":oo(u),Wh(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=No)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Hh(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=_.createElement(a,{is:u.is}):(r=_.createElement(a),a==="select"&&(_=r,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):r=_.createElementNS(r,a),r[nn]=i,r[es]=u,rm(r,i,!1,!1),i.stateNode=r;e:{switch(_=El(a,u),a){case"dialog":Te("cancel",r),Te("close",r),d=u;break;case"iframe":case"object":case"embed":Te("load",r),d=u;break;case"video":case"audio":for(d=0;d<Xi.length;d++)Te(Xi[d],r);d=u;break;case"source":Te("error",r),d=u;break;case"img":case"image":case"link":Te("error",r),Te("load",r),d=u;break;case"details":Te("toggle",r),d=u;break;case"input":Vh(r,u),d=yl(r,u),Te("invalid",r);break;case"option":d=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},d=H({},u,{value:void 0}),Te("invalid",r);break;case"textarea":Uh(r,u),d=wl(r,u),Te("invalid",r);break;default:d=u}Sl(a,d),w=d;for(p in w)if(w.hasOwnProperty(p)){var S=w[p];p==="style"?Kh(r,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&$h(r,S)):p==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&Di(r,S):typeof S=="number"&&Di(r,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Te("scroll",r):S!=null&&U(r,p,S,_))}switch(a){case"input":oo(r),Bh(r,u,!1);break;case"textarea":oo(r),Wh(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ve(u.value));break;case"select":r.multiple=!!u.multiple,p=u.value,p!=null?Or(r,!!u.multiple,p,!1):u.defaultValue!=null&&Or(r,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=No)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return it(i),null;case 6:if(r&&i.stateNode!=null)sm(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(a=dr(ss.current),dr(rn.current),Vo(i)){if(u=i.stateNode,a=i.memoizedProps,u[nn]=i,(p=u.nodeValue!==a)&&(r=It,r!==null))switch(r.tag){case 3:Ao(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ao(u.nodeValue,a,(r.mode&1)!==0)}p&&(i.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[nn]=i,i.stateNode=u}return it(i),null;case 13:if(ke(De),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&Rt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)lp(),Qr(),i.flags|=98560,p=!1;else if(p=Vo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[nn]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),p=!1}else Ht!==null&&(Ju(Ht),Ht=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(De.current&1)!==0?He===0&&(He=3):nc())),i.updateQueue!==null&&(i.flags|=4),it(i),null);case 4:return ei(),zu(r,i),r===null&&Zi(i.stateNode.containerInfo),it(i),null;case 10:return gu(i.type._context),it(i),null;case 17:return gt(i.type)&&Mo(),it(i),null;case 19:if(ke(De),p=i.memoizedState,p===null)return it(i),null;if(u=(i.flags&128)!==0,_=p.rendering,_===null)if(u)cs(p,!1);else{if(He!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=Ho(r),_!==null){for(i.flags|=128,cs(p,!1),u=_.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=a,a=i.child;a!==null;)p=a,r=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,r=_.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Se(De,De.current&1|2),i.child}r=r.sibling}p.tail!==null&&je()>ii&&(i.flags|=128,u=!0,cs(p,!1),i.lanes=4194304)}else{if(!u)if(r=Ho(_),r!==null){if(i.flags|=128,u=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),cs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ae)return it(i),null}else 2*je()-p.renderingStartTime>ii&&a!==1073741824&&(i.flags|=128,u=!0,cs(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(a=p.last,a!==null?a.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=je(),i.sibling=null,a=De.current,Se(De,u?a&1|2:a&1),i):(it(i),null);case 22:case 23:return tc(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(At&1073741824)!==0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function sC(r,i){switch(cu(i),i.tag){case 1:return gt(i.type)&&Mo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ei(),ke(mt),ke(nt),Eu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Cu(i),null;case 13:if(ke(De),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Qr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ke(De),null;case 4:return ei(),null;case 10:return gu(i.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var Jo=!1,st=!1,oC=typeof WeakSet=="function"?WeakSet:Set,$=null;function ni(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){be(r,i,u)}else a.current=null}function Wu(r,i,a){try{a()}catch(u){be(r,i,u)}}var om=!1;function aC(r,i){if(tu=_o,r=Vf(),Kl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,w=-1,S=-1,R=0,L=0,b=r,D=null;t:for(;;){for(var W;b!==a||d!==0&&b.nodeType!==3||(w=_+d),b!==p||u!==0&&b.nodeType!==3||(S=_+u),b.nodeType===3&&(_+=b.nodeValue.length),(W=b.firstChild)!==null;)D=b,b=W;for(;;){if(b===r)break t;if(D===a&&++R===d&&(w=_),D===p&&++L===u&&(S=_),(W=b.nextSibling)!==null)break;b=D,D=b.parentNode}b=W}a=w===-1||S===-1?null:{start:w,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(nu={focusedElem:r,selectionRange:a},_o=!1,$=i;$!==null;)if(i=$,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,$=r;else for(;$!==null;){i=$;try{var K=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Y=K.memoizedProps,Be=K.memoizedState,T=i.stateNode,E=T.getSnapshotBeforeUpdate(i.elementType===i.type?Y:$t(i.type,Y),Be);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(F){be(i,i.return,F)}if(r=i.sibling,r!==null){r.return=i.return,$=r;break}$=i.return}return K=om,om=!1,K}function ds(r,i,a){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&Wu(i,a,p)}d=d.next}while(d!==u)}}function ea(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==i)}}function Hu(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function am(r){var i=r.alternate;i!==null&&(r.alternate=null,am(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[nn],delete i[es],delete i[ou],delete i[Ww],delete i[Hw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function lm(r){return r.tag===5||r.tag===3||r.tag===4}function um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $u(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=No));else if(u!==4&&(r=r.child,r!==null))for($u(r,i,a),r=r.sibling;r!==null;)$u(r,i,a),r=r.sibling}function Gu(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Gu(r,i,a),r=r.sibling;r!==null;)Gu(r,i,a),r=r.sibling}var Ze=null,Gt=!1;function Bn(r,i,a){for(a=a.child;a!==null;)cm(r,i,a),a=a.sibling}function cm(r,i,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fo,a)}catch{}switch(a.tag){case 5:st||ni(a,i);case 6:var u=Ze,d=Gt;Ze=null,Bn(r,i,a),Ze=u,Gt=d,Ze!==null&&(Gt?(r=Ze,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ze.removeChild(a.stateNode));break;case 18:Ze!==null&&(Gt?(r=Ze,a=a.stateNode,r.nodeType===8?su(r.parentNode,a):r.nodeType===1&&su(r,a),Wi(r)):su(Ze,a.stateNode));break;case 4:u=Ze,d=Gt,Ze=a.stateNode.containerInfo,Gt=!0,Bn(r,i,a),Ze=u,Gt=d;break;case 0:case 11:case 14:case 15:if(!st&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Wu(a,i,_),d=d.next}while(d!==u)}Bn(r,i,a);break;case 1:if(!st&&(ni(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(w){be(a,i,w)}Bn(r,i,a);break;case 21:Bn(r,i,a);break;case 22:a.mode&1?(st=(u=st)||a.memoizedState!==null,Bn(r,i,a),st=u):Bn(r,i,a);break;default:Bn(r,i,a)}}function dm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new oC),i.forEach(function(u){var d=gC.bind(null,r,u);a.has(u)||(a.add(u),u.then(d,d))})}}function Kt(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var p=r,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 5:Ze=w.stateNode,Gt=!1;break e;case 3:Ze=w.stateNode.containerInfo,Gt=!0;break e;case 4:Ze=w.stateNode.containerInfo,Gt=!0;break e}w=w.return}if(Ze===null)throw Error(n(160));cm(p,_,d),Ze=null,Gt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(R){be(d,i,R)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hm(i,r),i=i.sibling}function hm(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kt(i,r),on(r),u&4){try{ds(3,r,r.return),ea(3,r)}catch(Y){be(r,r.return,Y)}try{ds(5,r,r.return)}catch(Y){be(r,r.return,Y)}}break;case 1:Kt(i,r),on(r),u&512&&a!==null&&ni(a,a.return);break;case 5:if(Kt(i,r),on(r),u&512&&a!==null&&ni(a,a.return),r.flags&32){var d=r.stateNode;try{Di(d,"")}catch(Y){be(r,r.return,Y)}}if(u&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,_=a!==null?a.memoizedProps:p,w=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&jh(d,p),El(w,_);var R=El(w,p);for(_=0;_<S.length;_+=2){var L=S[_],b=S[_+1];L==="style"?Kh(d,b):L==="dangerouslySetInnerHTML"?$h(d,b):L==="children"?Di(d,b):U(d,L,b,R)}switch(w){case"input":vl(d,p);break;case"textarea":zh(d,p);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var W=p.value;W!=null?Or(d,!!p.multiple,W,!1):D!==!!p.multiple&&(p.defaultValue!=null?Or(d,!!p.multiple,p.defaultValue,!0):Or(d,!!p.multiple,p.multiple?[]:"",!1))}d[es]=p}catch(Y){be(r,r.return,Y)}}break;case 6:if(Kt(i,r),on(r),u&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(Y){be(r,r.return,Y)}}break;case 3:if(Kt(i,r),on(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(Y){be(r,r.return,Y)}break;case 4:Kt(i,r),on(r);break;case 13:Kt(i,r),on(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(qu=je())),u&4&&dm(r);break;case 22:if(L=a!==null&&a.memoizedState!==null,r.mode&1?(st=(R=st)||L,Kt(i,r),st=R):Kt(i,r),on(r),u&8192){if(R=r.memoizedState!==null,(r.stateNode.isHidden=R)&&!L&&(r.mode&1)!==0)for($=r,L=r.child;L!==null;){for(b=$=L;$!==null;){switch(D=$,W=D.child,D.tag){case 0:case 11:case 14:case 15:ds(4,D,D.return);break;case 1:ni(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){u=D,a=D.return;try{i=u,K.props=i.memoizedProps,K.state=i.memoizedState,K.componentWillUnmount()}catch(Y){be(u,a,Y)}}break;case 5:ni(D,D.return);break;case 22:if(D.memoizedState!==null){mm(b);continue}}W!==null?(W.return=D,$=W):mm(b)}L=L.sibling}e:for(L=null,b=r;;){if(b.tag===5){if(L===null){L=b;try{d=b.stateNode,R?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=b.stateNode,S=b.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Gh("display",_))}catch(Y){be(r,r.return,Y)}}}else if(b.tag===6){if(L===null)try{b.stateNode.nodeValue=R?"":b.memoizedProps}catch(Y){be(r,r.return,Y)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===r)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;L===b&&(L=null),b=b.return}L===b&&(L=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Kt(i,r),on(r),u&4&&dm(r);break;case 21:break;default:Kt(i,r),on(r)}}function on(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(lm(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Di(d,""),u.flags&=-33);var p=um(r);Gu(r,p,d);break;case 3:case 4:var _=u.stateNode.containerInfo,w=um(r);$u(r,w,_);break;default:throw Error(n(161))}}catch(S){be(r,r.return,S)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function lC(r,i,a){$=r,fm(r)}function fm(r,i,a){for(var u=(r.mode&1)!==0;$!==null;){var d=$,p=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Jo;if(!_){var w=d.alternate,S=w!==null&&w.memoizedState!==null||st;w=Jo;var R=st;if(Jo=_,(st=S)&&!R)for($=d;$!==null;)_=$,S=_.child,_.tag===22&&_.memoizedState!==null?gm(d):S!==null?(S.return=_,$=S):gm(d);for(;p!==null;)$=p,fm(p),p=p.sibling;$=d,Jo=w,st=R}pm(r)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,$=p):pm(r)}}function pm(r){for(;$!==null;){var i=$;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:st||ea(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!st)if(a===null)u.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:$t(i.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&mp(i,p,u);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}mp(i,_,a)}break;case 5:var w=i.stateNode;if(a===null&&i.flags&4){a=w;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var R=i.alternate;if(R!==null){var L=R.memoizedState;if(L!==null){var b=L.dehydrated;b!==null&&Wi(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}st||i.flags&512&&Hu(i)}catch(D){be(i,i.return,D)}}if(i===r){$=null;break}if(a=i.sibling,a!==null){a.return=i.return,$=a;break}$=i.return}}function mm(r){for(;$!==null;){var i=$;if(i===r){$=null;break}var a=i.sibling;if(a!==null){a.return=i.return,$=a;break}$=i.return}}function gm(r){for(;$!==null;){var i=$;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ea(4,i)}catch(S){be(i,a,S)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(S){be(i,d,S)}}var p=i.return;try{Hu(i)}catch(S){be(i,p,S)}break;case 5:var _=i.return;try{Hu(i)}catch(S){be(i,_,S)}}}catch(S){be(i,i.return,S)}if(i===r){$=null;break}var w=i.sibling;if(w!==null){w.return=i.return,$=w;break}$=i.return}}var uC=Math.ceil,ta=G.ReactCurrentDispatcher,Ku=G.ReactCurrentOwner,Ft=G.ReactCurrentBatchConfig,fe=0,Ke=null,ze=null,Je=0,At=0,ri=On(0),He=0,hs=null,fr=0,na=0,Yu=0,fs=null,vt=null,qu=0,ii=1/0,vn=null,ra=!1,Qu=null,Un=null,ia=!1,zn=null,sa=0,ps=0,Xu=null,oa=-1,aa=0;function ht(){return(fe&6)!==0?je():oa!==-1?oa:oa=je()}function Wn(r){return(r.mode&1)===0?1:(fe&2)!==0&&Je!==0?Je&-Je:Gw.transition!==null?(aa===0&&(aa=uf()),aa):(r=_e,r!==0||(r=window.event,r=r===void 0?16:vf(r.type)),r)}function Yt(r,i,a,u){if(50<ps)throw ps=0,Xu=null,Error(n(185));Vi(r,a,u),((fe&2)===0||r!==Ke)&&(r===Ke&&((fe&2)===0&&(na|=a),He===4&&Hn(r,Je)),_t(r,u),a===1&&fe===0&&(i.mode&1)===0&&(ii=je()+500,Oo&&Fn()))}function _t(r,i){var a=r.callbackNode;G1(r,i);var u=go(r,r===Ke?Je:0);if(u===0)a!==null&&of(a),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(a!=null&&of(a),i===1)r.tag===0?$w(vm.bind(null,r)):rp(vm.bind(null,r)),Uw(function(){(fe&6)===0&&Fn()}),a=null;else{switch(cf(u)){case 1:a=Al;break;case 4:a=af;break;case 16:a=ho;break;case 536870912:a=lf;break;default:a=ho}a=km(a,ym.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function ym(r,i){if(oa=-1,aa=0,(fe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(si()&&r.callbackNode!==a)return null;var u=go(r,r===Ke?Je:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||i)i=la(r,u);else{i=u;var d=fe;fe|=2;var p=wm();(Ke!==r||Je!==i)&&(vn=null,ii=je()+500,mr(r,i));do try{hC();break}catch(w){_m(r,w)}while(!0);mu(),ta.current=p,fe=d,ze!==null?i=0:(Ke=null,Je=0,i=He)}if(i!==0){if(i===2&&(d=Nl(r),d!==0&&(u=d,i=Zu(r,d))),i===1)throw a=hs,mr(r,0),Hn(r,u),_t(r,je()),a;if(i===6)Hn(r,u);else{if(d=r.current.alternate,(u&30)===0&&!cC(d)&&(i=la(r,u),i===2&&(p=Nl(r),p!==0&&(u=p,i=Zu(r,p))),i===1))throw a=hs,mr(r,0),Hn(r,u),_t(r,je()),a;switch(r.finishedWork=d,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:gr(r,vt,vn);break;case 3:if(Hn(r,u),(u&130023424)===u&&(i=qu+500-je(),10<i)){if(go(r,0)!==0)break;if(d=r.suspendedLanes,(d&u)!==u){ht(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=iu(gr.bind(null,r,vt,vn),i);break}gr(r,vt,vn);break;case 4:if(Hn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,d=-1;0<u;){var _=31-zt(u);p=1<<_,_=i[_],_>d&&(d=_),u&=~p}if(u=d,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*uC(u/1960))-u,10<u){r.timeoutHandle=iu(gr.bind(null,r,vt,vn),u);break}gr(r,vt,vn);break;case 5:gr(r,vt,vn);break;default:throw Error(n(329))}}}return _t(r,je()),r.callbackNode===a?ym.bind(null,r):null}function Zu(r,i){var a=fs;return r.current.memoizedState.isDehydrated&&(mr(r,i).flags|=256),r=la(r,i),r!==2&&(i=vt,vt=a,i!==null&&Ju(i)),r}function Ju(r){vt===null?vt=r:vt.push.apply(vt,r)}function cC(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],p=d.getSnapshot;d=d.value;try{if(!Wt(p(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(r,i){for(i&=~Yu,i&=~na,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-zt(i),u=1<<a;r[a]=-1,i&=~u}}function vm(r){if((fe&6)!==0)throw Error(n(327));si();var i=go(r,0);if((i&1)===0)return _t(r,je()),null;var a=la(r,i);if(r.tag!==0&&a===2){var u=Nl(r);u!==0&&(i=u,a=Zu(r,u))}if(a===1)throw a=hs,mr(r,0),Hn(r,i),_t(r,je()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,gr(r,vt,vn),_t(r,je()),null}function ec(r,i){var a=fe;fe|=1;try{return r(i)}finally{fe=a,fe===0&&(ii=je()+500,Oo&&Fn())}}function pr(r){zn!==null&&zn.tag===0&&(fe&6)===0&&si();var i=fe;fe|=1;var a=Ft.transition,u=_e;try{if(Ft.transition=null,_e=1,r)return r()}finally{_e=u,Ft.transition=a,fe=i,(fe&6)===0&&Fn()}}function tc(){At=ri.current,ke(ri)}function mr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Bw(a)),ze!==null)for(a=ze.return;a!==null;){var u=a;switch(cu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Mo();break;case 3:ei(),ke(mt),ke(nt),Eu();break;case 5:Cu(u);break;case 4:ei();break;case 13:ke(De);break;case 19:ke(De);break;case 10:gu(u.type._context);break;case 22:case 23:tc()}a=a.return}if(Ke=r,ze=r=$n(r.current,null),Je=At=i,He=0,hs=null,Yu=na=fr=0,vt=fs=null,cr!==null){for(i=0;i<cr.length;i++)if(a=cr[i],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,u.next=_}a.pending=u}cr=null}return r}function _m(r,i){do{var a=ze;try{if(mu(),$o.current=qo,Go){for(var u=Me.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Go=!1}if(hr=0,Ge=We=Me=null,os=!1,as=0,Ku.current=null,a===null||a.return===null){He=1,hs=i,ze=null;break}e:{var p=r,_=a.return,w=a,S=i;if(i=Je,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var R=S,L=w,b=L.tag;if((L.mode&1)===0&&(b===0||b===11||b===15)){var D=L.alternate;D?(L.updateQueue=D.updateQueue,L.memoizedState=D.memoizedState,L.lanes=D.lanes):(L.updateQueue=null,L.memoizedState=null)}var W=Hp(_);if(W!==null){W.flags&=-257,$p(W,_,w,p,i),W.mode&1&&Wp(p,R,i),i=W,S=R;var K=i.updateQueue;if(K===null){var Y=new Set;Y.add(S),i.updateQueue=Y}else K.add(S);break e}else{if((i&1)===0){Wp(p,R,i),nc();break e}S=Error(n(426))}}else if(Ae&&w.mode&1){var Be=Hp(_);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),$p(Be,_,w,p,i),fu(ti(S,w));break e}}p=S=ti(S,w),He!==4&&(He=2),fs===null?fs=[p]:fs.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var T=Up(p,S,i);pp(p,T);break e;case 1:w=S;var E=p.type,P=p.stateNode;if((p.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Un===null||!Un.has(P)))){p.flags|=65536,i&=-i,p.lanes|=i;var F=zp(p,w,i);pp(p,F);break e}}p=p.return}while(p!==null)}Sm(a)}catch(q){i=q,ze===a&&a!==null&&(ze=a=a.return);continue}break}while(!0)}function wm(){var r=ta.current;return ta.current=qo,r===null?qo:r}function nc(){(He===0||He===3||He===2)&&(He=4),Ke===null||(fr&268435455)===0&&(na&268435455)===0||Hn(Ke,Je)}function la(r,i){var a=fe;fe|=2;var u=wm();(Ke!==r||Je!==i)&&(vn=null,mr(r,i));do try{dC();break}catch(d){_m(r,d)}while(!0);if(mu(),fe=a,ta.current=u,ze!==null)throw Error(n(261));return Ke=null,Je=0,He}function dC(){for(;ze!==null;)Cm(ze)}function hC(){for(;ze!==null&&!F1();)Cm(ze)}function Cm(r){var i=Tm(r.alternate,r,At);r.memoizedProps=r.pendingProps,i===null?Sm(r):ze=i,Ku.current=null}function Sm(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=iC(a,i,At),a!==null){ze=a;return}}else{if(a=sC(a,i),a!==null){a.flags&=32767,ze=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{He=6,ze=null;return}}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);He===0&&(He=5)}function gr(r,i,a){var u=_e,d=Ft.transition;try{Ft.transition=null,_e=1,fC(r,i,a,u)}finally{Ft.transition=d,_e=u}return null}function fC(r,i,a,u){do si();while(zn!==null);if((fe&6)!==0)throw Error(n(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(K1(r,p),r===Ke&&(ze=Ke=null,Je=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ia||(ia=!0,km(ho,function(){return si(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Ft.transition,Ft.transition=null;var _=_e;_e=1;var w=fe;fe|=4,Ku.current=null,aC(r,a),hm(a,r),Mw(nu),_o=!!tu,nu=tu=null,r.current=a,lC(a),V1(),fe=w,_e=_,Ft.transition=p}else r.current=a;if(ia&&(ia=!1,zn=r,sa=d),p=r.pendingLanes,p===0&&(Un=null),U1(a.stateNode),_t(r,je()),i!==null)for(u=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(ra)throw ra=!1,r=Qu,Qu=null,r;return(sa&1)!==0&&r.tag!==0&&si(),p=r.pendingLanes,(p&1)!==0?r===Xu?ps++:(ps=0,Xu=r):ps=0,Fn(),null}function si(){if(zn!==null){var r=cf(sa),i=Ft.transition,a=_e;try{if(Ft.transition=null,_e=16>r?16:r,zn===null)var u=!1;else{if(r=zn,zn=null,sa=0,(fe&6)!==0)throw Error(n(331));var d=fe;for(fe|=4,$=r.current;$!==null;){var p=$,_=p.child;if(($.flags&16)!==0){var w=p.deletions;if(w!==null){for(var S=0;S<w.length;S++){var R=w[S];for($=R;$!==null;){var L=$;switch(L.tag){case 0:case 11:case 15:ds(8,L,p)}var b=L.child;if(b!==null)b.return=L,$=b;else for(;$!==null;){L=$;var D=L.sibling,W=L.return;if(am(L),L===R){$=null;break}if(D!==null){D.return=W,$=D;break}$=W}}}var K=p.alternate;if(K!==null){var Y=K.child;if(Y!==null){K.child=null;do{var Be=Y.sibling;Y.sibling=null,Y=Be}while(Y!==null)}}$=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,$=_;else e:for(;$!==null;){if(p=$,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ds(9,p,p.return)}var T=p.sibling;if(T!==null){T.return=p.return,$=T;break e}$=p.return}}var E=r.current;for($=E;$!==null;){_=$;var P=_.child;if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,$=P;else e:for(_=E;$!==null;){if(w=$,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ea(9,w)}}catch(q){be(w,w.return,q)}if(w===_){$=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,$=F;break e}$=w.return}}if(fe=d,Fn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fo,r)}catch{}u=!0}return u}finally{_e=a,Ft.transition=i}}return!1}function Em(r,i,a){i=ti(a,i),i=Up(r,i,1),r=jn(r,i,1),i=ht(),r!==null&&(Vi(r,1,i),_t(r,i))}function be(r,i,a){if(r.tag===3)Em(r,r,a);else for(;i!==null;){if(i.tag===3){Em(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Un===null||!Un.has(u))){r=ti(a,r),r=zp(i,r,1),i=jn(i,r,1),r=ht(),i!==null&&(Vi(i,1,r),_t(i,r));break}}i=i.return}}function pC(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),i=ht(),r.pingedLanes|=r.suspendedLanes&a,Ke===r&&(Je&a)===a&&(He===4||He===3&&(Je&130023424)===Je&&500>je()-qu?mr(r,0):Yu|=a),_t(r,i)}function xm(r,i){i===0&&((r.mode&1)===0?i=1:(i=mo,mo<<=1,(mo&130023424)===0&&(mo=4194304)));var a=ht();r=mn(r,i),r!==null&&(Vi(r,i,a),_t(r,a))}function mC(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),xm(r,a)}function gC(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),xm(r,a)}var Tm;Tm=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||mt.current)yt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return yt=!1,rC(r,i,a);yt=(r.flags&131072)!==0}else yt=!1,Ae&&(i.flags&1048576)!==0&&ip(i,Fo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Zo(r,i),r=i.pendingProps;var d=Kr(i,nt.current);Jr(i,a),d=ku(null,i,u,r,d,a);var p=Pu();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gt(u)?(p=!0,Lo(i)):p=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,_u(i),d.updater=Qo,i.stateNode=d,d._reactInternals=i,Mu(i,u,r,a),i=Fu(null,i,u,!0,p,a)):(i.tag=0,Ae&&p&&uu(i),dt(null,i,d,a),i=i.child),i;case 16:u=i.elementType;e:{switch(Zo(r,i),r=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=vC(u),r=$t(u,r),d){case 0:i=bu(null,i,u,r,a);break e;case 1:i=Xp(null,i,u,r,a);break e;case 11:i=Gp(null,i,u,r,a);break e;case 14:i=Kp(null,i,u,$t(u.type,r),a);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:$t(u,d),bu(r,i,u,d,a);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:$t(u,d),Xp(r,i,u,d,a);case 3:e:{if(Zp(i),r===null)throw Error(n(387));u=i.pendingProps,p=i.memoizedState,d=p.element,fp(r,i),Wo(i,u,null,a);var _=i.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){d=ti(Error(n(423)),i),i=Jp(r,i,u,a,d);break e}else if(u!==d){d=ti(Error(n(424)),i),i=Jp(r,i,u,a,d);break e}else for(Rt=Ln(i.stateNode.containerInfo.firstChild),It=i,Ae=!0,Ht=null,a=dp(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qr(),u===d){i=yn(r,i,a);break e}dt(r,i,u,a)}i=i.child}return i;case 5:return gp(i),r===null&&hu(i),u=i.type,d=i.pendingProps,p=r!==null?r.memoizedProps:null,_=d.children,ru(u,d)?_=null:p!==null&&ru(u,p)&&(i.flags|=32),Qp(r,i),dt(r,i,_,a),i.child;case 6:return r===null&&hu(i),null;case 13:return em(r,i,a);case 4:return wu(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Xr(i,null,u,a):dt(r,i,u,a),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:$t(u,d),Gp(r,i,u,d,a);case 7:return dt(r,i,i.pendingProps,a),i.child;case 8:return dt(r,i,i.pendingProps.children,a),i.child;case 12:return dt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,p=i.memoizedProps,_=d.value,Se(Bo,u._currentValue),u._currentValue=_,p!==null)if(Wt(p.value,_)){if(p.children===d.children&&!mt.current){i=yn(r,i,a);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var S=w.firstContext;S!==null;){if(S.context===u){if(p.tag===1){S=gn(-1,a&-a),S.tag=2;var R=p.updateQueue;if(R!==null){R=R.shared;var L=R.pending;L===null?S.next=S:(S.next=L.next,L.next=S),R.pending=S}}p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),yu(p.return,a,i),w.lanes|=a;break}S=S.next}}else if(p.tag===10)_=p.type===i.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=a,w=_.alternate,w!==null&&(w.lanes|=a),yu(_,a,i),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}dt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,Jr(i,a),d=Ot(d),u=u(d),i.flags|=1,dt(r,i,u,a),i.child;case 14:return u=i.type,d=$t(u,i.pendingProps),d=$t(u.type,d),Kp(r,i,u,d,a);case 15:return Yp(r,i,i.type,i.pendingProps,a);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:$t(u,d),Zo(r,i),i.tag=1,gt(u)?(r=!0,Lo(i)):r=!1,Jr(i,a),jp(i,u,d),Mu(i,u,d,a),Fu(null,i,u,!0,r,a);case 19:return nm(r,i,a);case 22:return qp(r,i,a)}throw Error(n(156,i.tag))};function km(r,i){return sf(r,i)}function yC(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(r,i,a,u){return new yC(r,i,a,u)}function rc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vC(r){if(typeof r=="function")return rc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Tt)return 11;if(r===Ut)return 14}return 2}function $n(r,i){var a=r.alternate;return a===null?(a=Vt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ua(r,i,a,u,d,p){var _=2;if(u=r,typeof r=="function")rc(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case he:return yr(a.children,d,p,i);case Z:_=8,d|=8;break;case Ne:return r=Vt(12,a,i,d|2),r.elementType=Ne,r.lanes=p,r;case ut:return r=Vt(13,a,i,d),r.elementType=ut,r.lanes=p,r;case pt:return r=Vt(19,a,i,d),r.elementType=pt,r.lanes=p,r;case oe:return ca(a,d,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Oe:_=10;break e;case ft:_=9;break e;case Tt:_=11;break e;case Ut:_=14;break e;case ct:_=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Vt(_,a,i,d),i.elementType=r,i.type=u,i.lanes=p,i}function yr(r,i,a,u){return r=Vt(7,r,u,i),r.lanes=a,r}function ca(r,i,a,u){return r=Vt(22,r,u,i),r.elementType=oe,r.lanes=a,r.stateNode={isHidden:!1},r}function ic(r,i,a){return r=Vt(6,r,null,i),r.lanes=a,r}function sc(r,i,a){return i=Vt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function _C(r,i,a,u,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function oc(r,i,a,u,d,p,_,w,S){return r=new _C(r,i,a,w,S),i===1?(i=1,p===!0&&(i|=8)):i=0,p=Vt(3,null,null,i),r.current=p,p.stateNode=r,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_u(p),r}function wC(r,i,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:u==null?null:""+u,children:r,containerInfo:i,implementation:a}}function Pm(r){if(!r)return bn;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(gt(a))return tp(r,a,i)}return i}function Im(r,i,a,u,d,p,_,w,S){return r=oc(a,u,!0,r,d,p,_,w,S),r.context=Pm(null),a=r.current,u=ht(),d=Wn(a),p=gn(u,d),p.callback=i??null,jn(a,p,d),r.current.lanes=d,Vi(r,d,u),_t(r,u),r}function da(r,i,a,u){var d=i.current,p=ht(),_=Wn(d);return a=Pm(a),i.context===null?i.context=a:i.pendingContext=a,i=gn(p,_),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=jn(d,i,_),r!==null&&(Yt(r,d,_,p),zo(r,d,_)),_}function ha(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Rm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ac(r,i){Rm(r,i),(r=r.alternate)&&Rm(r,i)}function CC(){return null}var Am=typeof reportError=="function"?reportError:function(r){console.error(r)};function lc(r){this._internalRoot=r}fa.prototype.render=lc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));da(r,i,null,null)},fa.prototype.unmount=lc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;pr(function(){da(null,r,null,null)}),i[dn]=null}};function fa(r){this._internalRoot=r}fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=ff();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Nn.length&&i!==0&&i<Nn[a].priority;a++);Nn.splice(a,0,r),a===0&&gf(r)}};function uc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function SC(r,i,a,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var R=ha(_);p.call(R)}}var _=Im(i,u,r,0,null,!1,!1,"",Nm);return r._reactRootContainer=_,r[dn]=_.current,Zi(r.nodeType===8?r.parentNode:r),pr(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var R=ha(S);w.call(R)}}var S=oc(r,0,!1,null,null,!1,!1,"",Nm);return r._reactRootContainer=S,r[dn]=S.current,Zi(r.nodeType===8?r.parentNode:r),pr(function(){da(i,S,a,u)}),S}function ma(r,i,a,u,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var w=d;d=function(){var S=ha(_);w.call(S)}}da(i,_,r,d)}else _=SC(a,i,r,d,u);return ha(_)}df=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Fi(i.pendingLanes);a!==0&&(Ml(i,a|1),_t(i,je()),(fe&6)===0&&(ii=je()+500,Fn()))}break;case 13:pr(function(){var u=mn(r,1);if(u!==null){var d=ht();Yt(u,r,1,d)}}),ac(r,1)}},Ll=function(r){if(r.tag===13){var i=mn(r,134217728);if(i!==null){var a=ht();Yt(i,r,134217728,a)}ac(r,134217728)}},hf=function(r){if(r.tag===13){var i=Wn(r),a=mn(r,i);if(a!==null){var u=ht();Yt(a,r,i,u)}ac(r,i)}},ff=function(){return _e},pf=function(r,i){var a=_e;try{return _e=r,i()}finally{_e=a}},kl=function(r,i,a){switch(i){case"input":if(vl(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var d=Do(u);if(!d)throw Error(n(90));Fh(u),vl(u,d)}}}break;case"textarea":zh(r,a);break;case"select":i=a.value,i!=null&&Or(r,!!a.multiple,i,!1)}},Xh=ec,Zh=pr;var EC={usingClientEntryPoint:!1,Events:[ts,$r,Do,qh,Qh,ec]},ms={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xC={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=nf(r),r===null?null:r.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||CC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{fo=ga.inject(xC),tn=ga}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC,wt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(i))throw Error(n(200));return wC(r,i,null,a)},wt.createRoot=function(r,i){if(!uc(r))throw Error(n(299));var a=!1,u="",d=Am;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=oc(r,1,!1,null,null,a,!1,u,d),r[dn]=i.current,Zi(r.nodeType===8?r.parentNode:r),new lc(i)},wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=nf(i),r=r===null?null:r.stateNode,r},wt.flushSync=function(r){return pr(r)},wt.hydrate=function(r,i,a){if(!pa(i))throw Error(n(200));return ma(null,r,i,!0,a)},wt.hydrateRoot=function(r,i,a){if(!uc(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,d=!1,p="",_=Am;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Im(i,null,r,1,a??null,d,!1,p,_),r[dn]=i.current,Zi(r),u)for(r=0;r<u.length;r++)a=u[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new fa(i)},wt.render=function(r,i,a){if(!pa(i))throw Error(n(200));return ma(null,r,i,!1,a)},wt.unmountComponentAtNode=function(r){if(!pa(r))throw Error(n(40));return r._reactRootContainer?(pr(function(){ma(null,null,r,!1,function(){r._reactRootContainer=null,r[dn]=null})}),!0):!1},wt.unstable_batchedUpdates=ec,wt.unstable_renderSubtreeIntoContainer=function(r,i,a,u){if(!pa(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ma(r,i,a,!1,u)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var jm;function DC(){if(jm)return hc.exports;jm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hc.exports=NC(),hc.exports}var Bm;function MC(){if(Bm)return ya;Bm=1;var t=DC();return ya.createRoot=t.createRoot,ya.hydrateRoot=t.hydrateRoot,ya}var LC=MC();const OC="modulepreload",bC=function(t){return"/"+t},Um={},FC=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");o=c(n.map(m=>{if(m=bC(m),m in Um)return;Um[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":OC,g||(v.as="script"),v.crossOrigin="",v.href=m,f&&v.setAttribute("nonce",f),document.head.appendChild(v),g)return new Promise((C,k)=>{v.addEventListener("load",C),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Q=Cd();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),zm=t=>{const e=jC(t);return e.charAt(0).toUpperCase()+e.slice(1)},nv=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...h},f)=>Q.createElement("svg",{ref:f,...BC,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:nv("lucide",o),...h},[...c.map(([m,g])=>Q.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=(t,e)=>{const n=Q.forwardRef(({className:s,...o},l)=>Q.createElement(UC,{ref:l,iconNode:e,className:nv(`lucide-${VC(zm(t))}`,`lucide-${t}`,s),...o}));return n.displayName=zm(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WC=nr("calendar",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$C=nr("clock",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],KC=nr("download",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],mc=nr("music",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],QC=nr("pause",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ZC=nr("play",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],eS=nr("volume-2",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],nS=nr("volume-x",tS),rv={empathy:{name:"   ",color:{from:"from-pink-500",to:"to-pink-700",border:"border-pink-400",text:"text-pink-300"},colorValues:{primary:"236, 72, 153",secondary:"190, 24, 93",dark:"131, 24, 67",darker:"80, 7, 36"},charms:[""," ","",""," "," ",""]},responsibility:{name:"  ",color:{from:"from-cyan-500",to:"to-cyan-700",border:"border-cyan-400",text:"text-cyan-300"},colorValues:{primary:"6, 182, 212",secondary:"14, 116, 144",dark:"22, 78, 99",darker:"8, 51, 68"},charms:["","","","","","",""]},curiosity:{name:"   ",color:{from:"from-yellow-500",to:"to-yellow-700",border:"border-yellow-400",text:"text-yellow-300"},colorValues:{primary:"234, 179, 8",secondary:"161, 98, 7",dark:"113, 63, 18",darker:"66, 32, 6"},charms:["",""," ",""," ",""," ",""]},stability:{name:"    ",color:{from:"from-green-500",to:"to-green-700",border:"border-green-400",text:"text-green-300"},colorValues:{primary:"34, 197, 94",secondary:"21, 128, 61",dark:"20, 83, 45",darker:"5, 46, 22"},charms:["",""," ",""," "," ","",""]},morality:{name:"  ",color:{from:"from-blue-500",to:"to-blue-700",border:"border-blue-400",text:"text-blue-300"},colorValues:{primary:"59, 130, 246",secondary:"29, 78, 216",dark:"30, 58, 138",darker:"23, 37, 84"},charms:["","",""," ","",""]},humor:{name:" ",color:{from:"from-orange-500",to:"to-orange-700",border:"border-orange-400",text:"text-orange-300"},colorValues:{primary:"249, 115, 22",secondary:"194, 65, 12",dark:"124, 45, 18",darker:"67, 20, 7"},charms:[" "," "," ","   ","    "," "]},passion:{name:"   ",color:{from:"from-red-500",to:"to-red-700",border:"border-red-400",text:"text-red-300"},colorValues:{primary:"239, 68, 68",secondary:"185, 28, 28",dark:"127, 29, 29",darker:"69, 10, 10"},charms:[" ","","  ","","",""," "]}};function iv(t){for(const[e,n]of Object.entries(rv))if(n.charms.some(s=>t.includes(s)||s.includes(t)))return e;return null}function sv(t){const e={};t.forEach(o=>{const l=iv(o.charm_name);l&&(e[l]=(e[l]||0)+1)});let n=0,s="passion";for(const[o,l]of Object.entries(e))l>n&&(n=l,s=o);return rv[s]}const rS={empathy:"/images/cd-pink.png",responsibility:"/images/cd-cyan.png",curiosity:"/images/cd-yellow.png",stability:"/images/cd-green.png",morality:"/images/cd-blue.png",humor:"/images/cd-orange.png",passion:"/images/cd-red.png"};function iS(t){const e={};t.forEach(o=>{const l=iv(o.charm_name);l&&(e[l]=(e[l]||0)+1)});let n=0,s="passion";for(const[o,l]of Object.entries(e))l>n&&(n=l,s=o);return rS[s]}function sS({track:t}){const[e,n]=Q.useState(!1),[s,o]=Q.useState(0),[l,c]=Q.useState(0),[h,f]=Q.useState(1),[m,g]=Q.useState(!1),y=Q.useRef(null),v=sv(t.traits),C=iS(t.traits);Q.useEffect(()=>{n(!1),o(0),y.current&&(y.current.pause(),y.current.currentTime=0)},[t.id]);const k=()=>{y.current&&(e?y.current.pause():y.current.play(),n(!e))},A=()=>{y.current&&(y.current.muted=!m,g(!m))},N=()=>{y.current&&o(y.current.currentTime)},O=()=>{y.current&&c(y.current.duration||t.duration)},B=z=>{const X=parseFloat(z.target.value);o(X),y.current&&(y.current.currentTime=X)},U=z=>{const X=parseFloat(z.target.value);f(X),y.current&&(y.current.volume=X)},G=z=>{const X=Math.floor(z/60),he=Math.floor(z%60);return`${X}:${he.toString().padStart(2,"0")}`};return I.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl rounded-3xl p-8 border-2 border-slate-700/50 shadow-2xl",children:[I.jsx("div",{className:"relative mb-8",children:I.jsxs("div",{className:"aspect-square max-w-md mx-auto relative",children:[I.jsx("img",{src:"/images/turntable.svg",alt:"Turntable",className:"w-full h-full object-contain"}),I.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateX(-16px)"},children:I.jsxs("div",{className:`relative ${e?"animate-spin":""}`,style:{width:"65%",height:"65%",animationDuration:"3s",animationTimingFunction:"linear"},children:[I.jsx("div",{className:"absolute inset-0 rounded-full blur-xl opacity-40",style:{background:`radial-gradient(circle, ${v.color.from.replace("from-","")} 0%, transparent 70%)`,transform:"scale(0.95)"}}),I.jsx("img",{src:C,alt:"CD Album",className:"relative w-full h-full object-cover rounded-full",style:{filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.5)) drop-shadow(0 0 20px rgba(0,0,0,0.3))"}}),I.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%)",opacity:e?.6:.3,transition:"opacity 0.5s ease"}})]})}),I.jsx("div",{className:"absolute pointer-events-none",style:{top:"20%",right:"20%",width:"30%",height:"30%",transformOrigin:"top right",transform:e?"rotate(-5deg)":"rotate(-45deg)",transition:"transform 1s ease-in-out"},children:I.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[I.jsxs("defs",{children:[I.jsxs("linearGradient",{id:"tonearmGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[I.jsx("stop",{offset:"0%",style:{stopColor:"#5a5a5a",stopOpacity:1}}),I.jsx("stop",{offset:"30%",style:{stopColor:"#3a3a3a",stopOpacity:1}}),I.jsx("stop",{offset:"70%",style:{stopColor:"#2a2a2a",stopOpacity:1}}),I.jsx("stop",{offset:"100%",style:{stopColor:"#1a1a1a",stopOpacity:1}})]}),I.jsxs("linearGradient",{id:"tonearmTop",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[I.jsx("stop",{offset:"0%",style:{stopColor:"#4a4a4a",stopOpacity:1}}),I.jsx("stop",{offset:"50%",style:{stopColor:"#3a3a3a",stopOpacity:1}}),I.jsx("stop",{offset:"100%",style:{stopColor:"#2a2a2a",stopOpacity:1}})]}),I.jsxs("radialGradient",{id:"baseGrad",cx:"50%",cy:"50%",children:[I.jsx("stop",{offset:"0%",style:{stopColor:"#4a4a4a",stopOpacity:1}}),I.jsx("stop",{offset:"50%",style:{stopColor:"#2a2a2a",stopOpacity:1}}),I.jsx("stop",{offset:"100%",style:{stopColor:"#1a1a1a",stopOpacity:1}})]}),I.jsxs("filter",{id:"tonearmShadow",children:[I.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),I.jsx("feOffset",{dx:"1",dy:"2",result:"offsetblur"}),I.jsx("feComponentTransfer",{children:I.jsx("feFuncA",{type:"linear",slope:"0.5"})}),I.jsxs("feMerge",{children:[I.jsx("feMergeNode",{}),I.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),I.jsx("circle",{cx:"180",cy:"20",r:"18",fill:"#1a1a1a",opacity:"0.3"}),I.jsx("circle",{cx:"180",cy:"20",r:"16",fill:"url(#baseGrad)"}),I.jsx("circle",{cx:"180",cy:"20",r:"13",fill:"#2a2a2a"}),I.jsx("circle",{cx:"180",cy:"20",r:"11",fill:"#3a3a3a"}),I.jsxs("g",{filter:"url(#tonearmShadow)",children:[I.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"#000000",strokeWidth:"12",strokeLinecap:"round",opacity:"0.3"}),I.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"url(#tonearmGrad)",strokeWidth:"10",strokeLinecap:"round"}),I.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"url(#tonearmTop)",strokeWidth:"6",strokeLinecap:"round",opacity:"0.7"}),I.jsx("line",{x1:"180",y1:"20",x2:"115",y2:"70",stroke:"#5a5a5a",strokeWidth:"3",strokeLinecap:"round",opacity:"0.5"})]}),I.jsx("circle",{cx:"180",cy:"20",r:"6",fill:"#2a2a2a"}),I.jsx("circle",{cx:"180",cy:"20",r:"4",fill:"#4a4a4a"}),I.jsx("circle",{cx:"115",cy:"70",r:"5",fill:"#2a2a2a"}),I.jsx("circle",{cx:"115",cy:"70",r:"3",fill:"#3a3a3a"}),I.jsxs("g",{transform:"translate(50, 120)",children:[I.jsx("rect",{x:"-12",y:"-6",width:"24",height:"12",rx:"3",fill:"#1a1a1a"}),I.jsx("rect",{x:"-11",y:"-5",width:"22",height:"10",rx:"2",fill:"url(#tonearmGrad)"}),I.jsx("rect",{x:"-10",y:"-4",width:"20",height:"8",rx:"2",fill:"#2a2a2a"}),I.jsx("rect",{x:"-8",y:"-3",width:"16",height:"6",rx:"1",fill:"#3a3a3a"}),I.jsx("rect",{x:"-6",y:"-2",width:"4",height:"4",rx:"0.5",fill:"#252525"}),I.jsx("line",{x1:"0",y1:"6",x2:"0",y2:"14",stroke:"#888888",strokeWidth:"1.5",strokeLinecap:"round"}),I.jsx("circle",{cx:"0",cy:"14",r:"1.5",fill:"#666666"}),e&&I.jsxs(I.Fragment,{children:[I.jsxs("circle",{cx:"0",cy:"14",r:"3",fill:v.color.from.replace("from-",""),opacity:"0.3",children:[I.jsx("animate",{attributeName:"r",values:"3;5;3",dur:"1s",repeatCount:"indefinite"}),I.jsx("animate",{attributeName:"opacity",values:"0.3;0.6;0.3",dur:"1s",repeatCount:"indefinite"})]}),I.jsx("circle",{cx:"0",cy:"14",r:"2",fill:v.color.from.replace("from-",""),children:I.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1s",repeatCount:"indefinite"})})]})]})]})}),e&&I.jsx("div",{className:"absolute",style:{top:"38%",right:"32%",width:"4px",height:"4px"},children:I.jsx("div",{className:"w-full h-full rounded-full animate-pulse",style:{background:`${v.color.from.replace("from-","")}`,boxShadow:`0 0 10px ${v.color.from.replace("from-","")}`}})})]})}),I.jsxs("div",{className:"text-center mb-6",children:[I.jsxs("h2",{className:"text-white text-2xl mb-2",children:[t.name,"  "]}),I.jsx("div",{className:`inline-block px-4 py-1.5 bg-gradient-to-r ${v.color.from} ${v.color.to} rounded-full text-white text-sm mb-3 shadow-lg`,children:v.name}),I.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:t.traits.map((z,X)=>I.jsxs("span",{className:`px-3 py-1 ${v.color.from.replace("from-","bg-")}/20 ${v.color.text} rounded-full text-sm border ${v.color.border}/50`,children:[z.charm_name," Lv.",z.stage]},X))}),I.jsxs("p",{className:`${v.color.text} text-sm`,children:[G(l),"  ",new Date(t.createdAt).toLocaleDateString("ko-KR")]})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("input",{type:"range",min:"0",max:l||100,value:s,onChange:B,className:`w-full h-2 ${v.color.from.replace("from-","bg-")}/30 rounded-lg appearance-none cursor-pointer slider`}),I.jsxs("div",{className:`flex justify-between ${v.color.text} text-sm mt-2`,children:[I.jsx("span",{children:G(s)}),I.jsx("span",{children:G(l)})]})]}),I.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[I.jsx("button",{onClick:k,className:`w-16 h-16 rounded-full bg-gradient-to-br ${v.color.from} ${v.color.to} hover:brightness-110 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105`,children:e?I.jsx(QC,{className:"w-8 h-8 text-white"}):I.jsx(ZC,{className:"w-8 h-8 text-white ml-1"})}),I.jsx("button",{className:`w-12 h-12 rounded-full ${v.color.from.replace("from-","bg-")}/30 hover:${v.color.from.replace("from-","bg-")}/50 flex items-center justify-center transition-all duration-200 hover:scale-105 border ${v.color.border}/50`,children:I.jsx(KC,{className:"w-5 h-5 text-white"})})]}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("button",{onClick:A,className:`${v.color.text} hover:text-white transition-colors`,children:m?I.jsx(nS,{className:"w-5 h-5"}):I.jsx(eS,{className:"w-5 h-5"})}),I.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:m?0:h,onChange:U,className:`flex-1 h-2 ${v.color.from.replace("from-","bg-")}/30 rounded-lg appearance-none cursor-pointer slider`})]}),I.jsx("audio",{ref:y,src:t.audioUrl,onTimeUpdate:N,onLoadedMetadata:O,onEnded:()=>n(!1)}),I.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(168, 85, 247, 0.5);
        }

        .slider::-moz-range-thumb {
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 8px rgba(168, 85, 247, 0.5);
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}function oS({tracks:t,currentTrack:e,onTrackSelect:n}){const s=l=>{const c=Math.floor(l/60),h=l%60;return`${c}:${h.toString().padStart(2,"0")}`},o=l=>new Date(l).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return I.jsx("div",{className:"h-full overflow-y-scroll music-list-scroll",style:{paddingRight:"8px"},children:I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-6",children:[I.jsxs("h2",{className:"text-white flex items-center gap-2",children:[I.jsx(mc,{className:"w-6 h-6"}),"  "]}),I.jsxs("span",{className:"text-white/70",children:[t.length,""]})]}),I.jsx("div",{className:"space-y-3",children:t.map(l=>{const c=e?.id===l.id,h=sv(l.traits);return I.jsx("button",{onClick:()=>n(l),className:`w-full text-left p-5 rounded-2xl transition-all duration-300 border-2 ${c?"bg-slate-700/60 border-cyan-400/70 shadow-lg":"bg-white/5 hover:bg-white/10 border-white/10 hover:border-cyan-400/30"}`,children:I.jsxs("div",{className:"flex items-start gap-4",children:[I.jsx("div",{className:"flex-shrink-0",children:I.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${h.color.from} ${h.color.to} flex items-center justify-center shadow-lg ${c?"animate-pulse":""}`,children:I.jsx(mc,{className:"w-8 h-8 text-white"})})}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsxs("h3",{className:"text-white truncate",children:[l.name,"  "]}),c&&I.jsx("span",{className:`flex-shrink-0 px-2 py-0.5 bg-gradient-to-r ${h.color.from} ${h.color.to} text-white text-xs rounded-full shadow-lg`,children:""})]}),I.jsx("div",{className:`inline-block px-2 py-0.5 bg-gradient-to-r ${h.color.from} ${h.color.to} text-white text-xs rounded mb-2 shadow-md`,children:h.name}),I.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:l.traits.map((f,m)=>I.jsxs("span",{className:`px-2 py-0.5 ${h.color.from.replace("from-","bg-")}/20 ${h.color.text} rounded text-xs border ${h.color.border}/40`,children:[f.charm_name," Lv.",f.stage]},m))}),I.jsxs("div",{className:"flex items-center gap-4 text-white/60 text-sm",children:[I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx($C,{className:"w-3.5 h-3.5"}),I.jsx("span",{children:s(l.duration)})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(WC,{className:"w-3.5 h-3.5"}),I.jsx("span",{children:o(l.createdAt)})]})]})]}),c&&I.jsx("div",{className:"flex-shrink-0 flex items-center",children:I.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((f,m)=>I.jsx("div",{className:`w-1 ${h.color.from.replace("from-","bg-")} rounded-full animate-pulse`,style:{height:"20px",animationDelay:`${m*.15}s`,animationDuration:"0.8s"}},m))})})]})},l.id)})}),t.length===0&&I.jsxs("div",{className:"text-center py-12 text-white/50",children:[I.jsx(mc,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),I.jsx("p",{children:"   ."}),I.jsx("p",{className:"text-sm mt-2",children:"Aster Alarm  !"})]})]})})}const ov=Q.createContext({});function aS(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sd=Q.createContext(null),av=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lS(t=!0){const e=Q.useContext(Sd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=Q.useId();Q.useEffect(()=>{t&&o(l)},[t]);const c=Q.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ed=typeof window<"u",uS=Ed?Q.useLayoutEffect:Q.useEffect,Nt=t=>t;let lv=Nt;const cS={useManualTiming:!1};function dS(t){let e=new Set,n=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,y=!1)=>{const C=y&&s?e:n;return g&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[e,n]=[n,e],e.forEach(h),e.clear(),s=!1,o&&(o=!1,f.process(m))}};return f}const va=["read","resolveKeyframes","update","preRender","render","postRender"],hS=40;function uv(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=va.reduce((O,B)=>(O[B]=dS(l),O),{}),{read:h,resolveKeyframes:f,update:m,preRender:g,render:y,postRender:v}=c,C=()=>{const O=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(O-o.timestamp,hS),1),o.timestamp=O,o.isProcessing=!0,h.process(o),f.process(o),m.process(o),g.process(o),y.process(o),v.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(C))},k=()=>{n=!0,s=!0,o.isProcessing||t(C)};return{schedule:va.reduce((O,B)=>{const U=c[B];return O[B]=(G,z=!1,X=!1)=>(n||k(),U.schedule(G,z,X)),O},{}),cancel:O=>{for(let B=0;B<va.length;B++)c[va[B]].cancel(O)},state:o,steps:c}}const{schedule:Ie,cancel:Zn,state:et,steps:gc}=uv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0),cv=Q.createContext({strict:!1}),Wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gi={};for(const t in Wm)gi[t]={isEnabled:e=>Wm[t].some(n=>!!e[n])};function fS(t){for(const e in t)gi[e]={...gi[e],...t[e]}}const pS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ia(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pS.has(t)}let dv=t=>!Ia(t);function mS(t){t&&(dv=e=>e.startsWith("on")?!Ia(e):t(e))}try{mS(require("@emotion/is-prop-valid").default)}catch{}function gS(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(dv(o)||n===!0&&Ia(o)||!e&&!Ia(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function yS(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const el=Q.createContext({});function bs(t){return typeof t=="string"||Array.isArray(t)}function tl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Td=["initial",...xd];function nl(t){return tl(t.animate)||Td.some(e=>bs(t[e]))}function hv(t){return!!(nl(t)||t.variants)}function vS(t,e){if(nl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||bs(n)?n:void 0,animate:bs(s)?s:void 0}}return t.inherit!==!1?e:{}}function _S(t){const{initial:e,animate:n}=vS(t,Q.useContext(el));return Q.useMemo(()=>({initial:e,animate:n}),[Hm(e),Hm(n)])}function Hm(t){return Array.isArray(t)?t.join(" "):t}const wS=Symbol.for("motionComponentSymbol");function ai(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CS(t,e,n){return Q.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ai(n)&&(n.current=s))},[e])}const kd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SS="framerAppearId",fv="data-"+kd(SS),{schedule:Pd}=uv(queueMicrotask,!1),pv=Q.createContext({});function ES(t,e,n,s,o){var l,c;const{visualElement:h}=Q.useContext(el),f=Q.useContext(cv),m=Q.useContext(Sd),g=Q.useContext(av).reducedMotion,y=Q.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,C=Q.useContext(pv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&xS(y.current,n,o,C);const k=Q.useRef(!1);Q.useInsertionEffect(()=>{v&&k.current&&v.update(n,m)});const A=n[fv],N=Q.useRef(!!A&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,A))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,A)));return uS(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Pd.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),Q.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,A)}),N.current=!1))}),v}function xS(t,e,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:mv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&ai(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function mv(t){if(t)return t.options.allowProjection!==!1?t.projection:mv(t.parent)}function TS({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){var l,c;t&&fS(t);function h(m,g){let y;const v={...Q.useContext(av),...m,layoutId:kS(m)},{isStatic:C}=v,k=_S(m),A=s(m,C);if(!C&&Ed){PS();const N=IS(v);y=N.MeasureLayout,k.visualElement=ES(o,A,v,e,N.ProjectionNode)}return I.jsxs(el.Provider,{value:k,children:[y&&k.visualElement?I.jsx(y,{visualElement:k.visualElement,...v}):null,n(o,m,CS(A,k.visualElement,g),A,C,k.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const f=Q.forwardRef(h);return f[wS]=o,f}function kS({layoutId:t}){const e=Q.useContext(ov).id;return e&&t!==void 0?e+"-"+t:t}function PS(t,e){Q.useContext(cv).strict}function IS(t){const{drag:e,layout:n}=gi;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const RS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Id(t){return typeof t!="string"||t.includes("-")?!1:!!(RS.indexOf(t)>-1||/[A-Z]/u.test(t))}function $m(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Rd(t,e,n,s){if(typeof e=="function"){const[o,l]=$m(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=$m(s);e=e(n!==void 0?n:t.custom,o,l)}return e}const Uc=t=>Array.isArray(t),AS=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NS=t=>Uc(t)?t[t.length-1]||0:t,lt=t=>!!(t&&t.getVelocity);function xa(t){const e=lt(t)?t.get():t;return AS(e)?e.toValue():e}function DS({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,o,l){const c={latestValues:MS(s,o,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:s,current:h,...c}),c.onUpdate=h=>n(h)),c}const gv=t=>(e,n)=>{const s=Q.useContext(el),o=Q.useContext(Sd),l=()=>DS(t,e,s,o);return n?l():aS(l)};function MS(t,e,n,s){const o={},l=s(t,{});for(const v in l)o[v]=xa(l[v]);let{initial:c,animate:h}=t;const f=nl(t),m=hv(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!tl(y)){const v=Array.isArray(y)?y:[y];for(let C=0;C<v.length;C++){const k=Rd(t,v[C]);if(k){const{transitionEnd:A,transition:N,...O}=k;for(const B in O){let U=O[B];if(Array.isArray(U)){const G=g?U.length-1:0;U=U[G]}U!==null&&(o[B]=U)}for(const B in A)o[B]=A[B]}}}return o}const xi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dr=new Set(xi),yv=t=>e=>typeof e=="string"&&e.startsWith(t),vv=yv("--"),LS=yv("var(--"),Ad=t=>LS(t)?OS.test(t.split("/*")[0].trim()):!1,OS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_v=(t,e)=>e&&typeof t=="number"?e.transform(t):t,En=(t,e,n)=>n>e?e:n<t?t:n,Ti={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fs={...Ti,transform:t=>En(0,1,t)},_a={...Ti,default:1},Xs=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Kn=Xs("deg"),an=Xs("%"),ne=Xs("px"),bS=Xs("vh"),FS=Xs("vw"),Gm={...an,parse:t=>an.parse(t)/100,transform:t=>an.transform(t*100)},VS={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},jS={rotate:Kn,rotateX:Kn,rotateY:Kn,rotateZ:Kn,scale:_a,scaleX:_a,scaleY:_a,scaleZ:_a,skew:Kn,skewX:Kn,skewY:Kn,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Fs,originX:Gm,originY:Gm,originZ:ne},Km={...Ti,transform:Math.round},Nd={...VS,...jS,zIndex:Km,size:ne,fillOpacity:Fs,strokeOpacity:Fs,numOctaves:Km},BS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},US=xi.length;function zS(t,e,n){let s="",o=!0;for(let l=0;l<US;l++){const c=xi[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=_v(h,Nd[c]);if(!f){o=!1;const g=BS[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Dd(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(Dr.has(f)){c=!0;continue}else if(vv(f)){o[f]=m;continue}else{const g=_v(m,Nd[f]);f.startsWith("origin")?(h=!0,l[f]=g):s[f]=g}}if(e.transform||(c||n?s.transform=zS(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const WS={offset:"stroke-dashoffset",array:"stroke-dasharray"},HS={offset:"strokeDashoffset",array:"strokeDasharray"};function $S(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?WS:HS;t[l.offset]=ne.transform(-s);const c=ne.transform(e),h=ne.transform(n);t[l.array]=`${c} ${h}`}function Ym(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function GS(t,e,n){const s=Ym(e,t.x,t.width),o=Ym(n,t.y,t.height);return`${s} ${o}`}function Md(t,{attrX:e,attrY:n,attrScale:s,originX:o,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...m},g,y){if(Dd(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:C,dimensions:k}=t;v.transform&&(k&&(C.transform=v.transform),delete v.transform),k&&(o!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=GS(k,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),c!==void 0&&$S(v,c,h,f,!1)}const Ld=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wv=()=>({...Ld(),attrs:{}}),Od=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cv(t,{style:e,vars:n},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const Sv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ev(t,e,n,s){Cv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Sv.has(o)?o:kd(o),e.attrs[o])}const Ra={};function KS(t){Object.assign(Ra,t)}function xv(t,{layout:e,layoutId:n}){return Dr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ra[t]||t==="opacity")}function bd(t,e,n){var s;const{style:o}=t,l={};for(const c in o)(lt(o[c])||e.style&&lt(e.style[c])||xv(c,t)||((s=n?.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Tv(t,e,n){const s=bd(t,e,n);for(const o in t)if(lt(t[o])||lt(e[o])){const l=xi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}function YS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qm=["x","y","width","height","cx","cy","r"],qS={useVisualState:gv({scrapeMotionValuesFromProps:Tv,createRenderState:wv,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in o)if(Dr.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<qm.length;h++){const f=qm[h];t[f]!==e[f]&&(c=!0)}c&&Ie.read(()=>{YS(n,s),Ie.render(()=>{Md(s,o,Od(n.tagName),t.transformTemplate),Ev(n,s)})})}})},QS={useVisualState:gv({scrapeMotionValuesFromProps:bd,createRenderState:Ld})};function kv(t,e,n){for(const s in e)!lt(e[s])&&!xv(s,n)&&(t[s]=e[s])}function XS({transformTemplate:t},e){return Q.useMemo(()=>{const n=Ld();return Dd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZS(t,e){const n=t.style||{},s={};return kv(s,n,t),Object.assign(s,XS(t,e)),s}function JS(t,e){const n={},s=ZS(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function eE(t,e,n,s){const o=Q.useMemo(()=>{const l=wv();return Md(l,e,Od(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};kv(l,t.style,t),o.style={...l,...o.style}}return o}function tE(t=!1){return(n,s,o,{latestValues:l},c)=>{const f=(Id(n)?eE:JS)(s,l,c,n),m=gS(s,typeof n=="string",t),g=n!==Q.Fragment?{...m,...f,ref:o}:{},{children:y}=s,v=Q.useMemo(()=>lt(y)?y.get():y,[y]);return Q.createElement(n,{...g,children:v})}}function nE(t,e){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Id(s)?qS:QS,preloadedFeatures:t,useRender:tE(o),createVisualElement:e,Component:s};return TS(c)}}function Pv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function rl(t,e,n){const s=t.getProps();return Rd(s,e,n!==void 0?n:s.custom,t)}function Fd(t,e){return t?t[e]||t.default||t:void 0}const Iv=new Set(["width","height","top","left","right","bottom",...xi]);let Ta;function rE(){Ta=void 0}const ln={now:()=>(Ta===void 0&&ln.set(et.isProcessing||cS.useManualTiming?et.timestamp:performance.now()),Ta),set:t=>{Ta=t,queueMicrotask(rE)}};function Vd(t,e){t.indexOf(e)===-1&&t.push(e)}function jd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bd{constructor(){this.subscriptions=[]}add(e){return Vd(this.subscriptions,e),()=>jd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Rv(t,e){return e?t*(1e3/e):0}const Qm=30,iE=t=>!isNaN(parseFloat(t));class sE{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const l=ln.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bd);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qm);return Rv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vs(t,e){return new sE(t,e)}function oE(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vs(n))}function aE(t,e){const n=rl(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const h=NS(l[c]);oE(t,c,h)}}function lE(t){return!!(lt(t)&&t.add)}function zc(t,e){const n=t.getValue("willChange");if(lE(n))return n.add(e)}function Av(t){return t.props[fv]}function Ud(t){let e;return()=>(e===void 0&&(e=t()),e)}const uE=Ud(()=>window.ScrollTimeline!==void 0);class cE{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(o=>{if(uE()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{s.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dE extends cE{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const wn=t=>t*1e3,Cn=t=>t/1e3;function zd(t){return typeof t=="function"}function Xm(t,e){t.timeline=e,t.onfinish=null}const Wd=t=>Array.isArray(t)&&typeof t[0]=="number",hE={linearEasing:void 0};function fE(t,e){const n=Ud(t);return()=>{var s;return(s=hE[e])!==null&&s!==void 0?s:n()}}const Aa=fE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yi=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Nv=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=t(yi(0,o-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function Dv(t){return!!(typeof t=="function"&&Aa()||!t||typeof t=="string"&&(t in Wc||Aa())||Wd(t)||Array.isArray(t)&&t.every(Dv))}const Ss=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Wc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ss([0,.65,.55,1]),circOut:Ss([.55,0,1,.45]),backIn:Ss([.31,.01,.66,-.59]),backOut:Ss([.33,1.53,.69,.99])};function Mv(t,e){if(t)return typeof t=="function"&&Aa()?Nv(t,e):Wd(t)?Ss(t):Array.isArray(t)?t.map(n=>Mv(n,e)||Wc.easeOut):Wc[t]}const Lv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pE=1e-7,mE=12;function gE(t,e,n,s,o){let l,c,h=0;do c=e+(n-e)/2,l=Lv(c,s,o)-t,l>0?n=c:e=c;while(Math.abs(l)>pE&&++h<mE);return c}function Zs(t,e,n,s){if(t===e&&n===s)return Nt;const o=l=>gE(l,0,1,t,n);return l=>l===0||l===1?l:Lv(o(l),e,s)}const Ov=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bv=t=>e=>1-t(1-e),Fv=Zs(.33,1.53,.69,.99),Hd=bv(Fv),Vv=Ov(Hd),jv=t=>(t*=2)<1?.5*Hd(t):.5*(2-Math.pow(2,-10*(t-1))),$d=t=>1-Math.sin(Math.acos(t)),Bv=bv($d),Uv=Ov($d),zv=t=>/^0[^.\s]+$/u.test(t);function yE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zv(t):!0}const ks=t=>Math.round(t*1e5)/1e5,Gd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vE(t){return t==null}const _E=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kd=(t,e)=>n=>!!(typeof n=="string"&&_E.test(n)&&n.startsWith(t)||e&&!vE(n)&&Object.prototype.hasOwnProperty.call(n,e)),Wv=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,h]=s.match(Gd);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},wE=t=>En(0,255,t),yc={...Ti,transform:t=>Math.round(wE(t))},xr={test:Kd("rgb","red"),parse:Wv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+yc.transform(t)+", "+yc.transform(e)+", "+yc.transform(n)+", "+ks(Fs.transform(s))+")"};function CE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Hc={test:Kd("#"),parse:CE,transform:xr.transform},li={test:Kd("hsl","hue"),parse:Wv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+an.transform(ks(e))+", "+an.transform(ks(n))+", "+ks(Fs.transform(s))+")"},ot={test:t=>xr.test(t)||Hc.test(t)||li.test(t),parse:t=>xr.test(t)?xr.parse(t):li.test(t)?li.parse(t):Hc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xr.transform(t):li.transform(t)},SE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EE(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SE))===null||n===void 0?void 0:n.length)||0)>0}const Hv="number",$v="color",xE="var",TE="var(",Zm="${}",kE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function js(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(kE,f=>(ot.test(f)?(s.color.push(l),o.push($v),n.push(ot.parse(f))):f.startsWith(TE)?(s.var.push(l),o.push(xE),n.push(f)):(s.number.push(l),o.push(Hv),n.push(parseFloat(f))),++l,Zm)).split(Zm);return{values:n,split:h,indexes:s,types:o}}function Gv(t){return js(t).values}function Kv(t){const{split:e,types:n}=js(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const h=n[c];h===Hv?l+=ks(o[c]):h===$v?l+=ot.transform(o[c]):l+=o[c]}return l}}const PE=t=>typeof t=="number"?0:t;function IE(t){const e=Gv(t);return Kv(t)(e.map(PE))}const Jn={test:EE,parse:Gv,createTransformer:Kv,getAnimatableNone:IE},RE=new Set(["brightness","contrast","saturate","opacity"]);function AE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Gd)||[];if(!s)return t;const o=n.replace(s,"");let l=RE.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const NE=/\b([a-z-]*)\(.*?\)/gu,$c={...Jn,getAnimatableNone:t=>{const e=t.match(NE);return e?e.map(AE).join(" "):t}},DE={...Nd,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:$c,WebkitFilter:$c},Yd=t=>DE[t];function Yv(t,e){let n=Yd(t);return n!==$c&&(n=Jn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ME=new Set(["auto","none","0"]);function LE(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!ME.has(l)&&js(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=Yv(n,o)}const Jm=t=>t===Ti||t===ne,eg=(t,e)=>parseFloat(t.split(", ")[e]),tg=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return eg(o[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?eg(l[1],t):0}},OE=new Set(["x","y","z"]),bE=xi.filter(t=>!OE.has(t));function FE(t){const e=[];return bE.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const vi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tg(4,13),y:tg(5,14)};vi.translateX=vi.x;vi.translateY=vi.y;const Pr=new Set;let Gc=!1,Kc=!1;function qv(){if(Kc){const t=Array.from(Pr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=FE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var h;(h=s.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kc=!1,Gc=!1,Pr.forEach(t=>t.complete()),Pr.clear()}function Qv(){Pr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kc=!0)})}function VE(){Qv(),qv()}class qd{constructor(e,n,s,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pr.add(this),Gc||(Gc=!0,Ie.read(Qv),Ie.resolveKeyframes(qv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const f=s.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),jE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BE(t){const e=jE.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function Zv(t,e,n=1){const[s,o]=BE(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Xv(c)?parseFloat(c):c}return Ad(o)?Zv(o,e,n+1):o}const Jv=t=>e=>e.test(t),UE={test:t=>t==="auto",parse:t=>t},e_=[Ti,ne,an,Kn,FS,bS,UE],ng=t=>e_.find(Jv(t));class t_ extends qd{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Ad(m))){const g=Zv(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Iv.has(s)||e.length!==2)return;const[o,l]=e,c=ng(o),h=ng(l);if(c!==h)if(Jm(c)&&Jm(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)yE(e[o])&&s.push(o);s.length&&LE(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=vi[s](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const rg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jn.test(t)||t==="0")&&!t.startsWith("url("));function zE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WE(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=rg(o,e),h=rg(l,e);return!c||!h?!1:zE(t)||(n==="spring"||zd(n))&&s}const HE=t=>t!==null;function il(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(HE),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const $E=40;class n_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ln.now(),this.options={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$E?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VE(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ln.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:l,delay:c,onComplete:h,onUpdate:f,isGenerator:m}=this.options;if(!m&&!WE(e,s,o,l))if(c)this.options.duration=0;else{f&&f(il(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Yc=2e4;function r_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Yc;)e+=n,s=t.next(e);return e>=Yc?1/0:e}const Le=(t,e,n)=>t+(e-t)*n;function vc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=vc(f,h,t+1/3),l=vc(f,h,t),c=vc(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Na(t,e){return n=>n>0?e:t}const _c=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},KE=[Hc,xr,li],YE=t=>KE.find(e=>e.test(t));function ig(t){const e=YE(t);if(!e)return!1;let n=e.parse(t);return e===li&&(n=GE(n)),n}const sg=(t,e)=>{const n=ig(t),s=ig(e);if(!n||!s)return Na(t,e);const o={...n};return l=>(o.red=_c(n.red,s.red,l),o.green=_c(n.green,s.green,l),o.blue=_c(n.blue,s.blue,l),o.alpha=Le(n.alpha,s.alpha,l),xr.transform(o))},qE=(t,e)=>n=>e(t(n)),Js=(...t)=>t.reduce(qE),qc=new Set(["none","hidden"]);function QE(t,e){return qc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XE(t,e){return n=>Le(t,e,n)}function Qd(t){return typeof t=="number"?XE:typeof t=="string"?Ad(t)?Na:ot.test(t)?sg:ex:Array.isArray(t)?i_:typeof t=="object"?ot.test(t)?sg:ZE:Na}function i_(t,e){const n=[...t],s=n.length,o=t.map((l,c)=>Qd(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function ZE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Qd(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function JE(t,e){var n;const s=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][o[c]],f=(n=t.values[h])!==null&&n!==void 0?n:0;s[l]=f,o[c]++}return s}const ex=(t,e)=>{const n=Jn.createTransformer(e),s=js(t),o=js(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?qc.has(t)&&!o.values.length||qc.has(e)&&!s.values.length?QE(t,e):Js(i_(JE(s,o),o.values),n):Na(t,e)};function s_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Le(t,e,n):Qd(t)(t,e)}const tx=5;function o_(t,e,n){const s=Math.max(e-tx,0);return Rv(n-t(s),e-s)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wc=.001;function nx({duration:t=Fe.duration,bounce:e=Fe.bounce,velocity:n=Fe.velocity,mass:s=Fe.mass}){let o,l,c=1-e;c=En(Fe.minDamping,Fe.maxDamping,c),t=En(Fe.minDuration,Fe.maxDuration,Cn(t)),c<1?(o=m=>{const g=m*c,y=g*t,v=g-n,C=Qc(m,c),k=Math.exp(-y);return wc-v/C*k},l=m=>{const y=m*c*t,v=y*n+n,C=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-y),A=Qc(Math.pow(m,2),c);return(-o(m)+wc>0?-1:1)*((v-C)*k)/A}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-wc+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const h=5/t,f=ix(o,l,h);if(t=wn(t),isNaN(f))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const rx=12;function ix(t,e,n){let s=n;for(let o=1;o<rx;o++)s=s-t(s)/e(s);return s}function Qc(t,e){return t*Math.sqrt(1-e*e)}const sx=["duration","bounce"],ox=["stiffness","damping","mass"];function og(t,e){return e.some(n=>t[n]!==void 0)}function ax(t){let e={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...t};if(!og(t,ox)&&og(t,sx))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*En(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Fe.mass,stiffness:o,damping:l}}else{const n=nx(t);e={...e,...n,mass:Fe.mass},e.isResolvedFromDuration=!0}return e}function a_(t=Fe.visualDuration,e=Fe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:C}=ax({...n,velocity:-Cn(n.velocity||0)}),k=v||0,A=m/(2*Math.sqrt(f*g)),N=c-l,O=Cn(Math.sqrt(f/g)),B=Math.abs(N)<5;s||(s=B?Fe.restSpeed.granular:Fe.restSpeed.default),o||(o=B?Fe.restDelta.granular:Fe.restDelta.default);let U;if(A<1){const z=Qc(O,A);U=X=>{const he=Math.exp(-A*O*X);return c-he*((k+A*O*N)/z*Math.sin(z*X)+N*Math.cos(z*X))}}else if(A===1)U=z=>c-Math.exp(-O*z)*(N+(k+O*N)*z);else{const z=O*Math.sqrt(A*A-1);U=X=>{const he=Math.exp(-A*O*X),Z=Math.min(z*X,300);return c-he*((k+A*O*N)*Math.sinh(Z)+z*N*Math.cosh(Z))/z}}const G={calculatedDuration:C&&y||null,next:z=>{const X=U(z);if(C)h.done=z>=y;else{let he=0;A<1&&(he=z===0?wn(k):o_(U,z,X));const Z=Math.abs(he)<=s,Ne=Math.abs(c-X)<=o;h.done=Z&&Ne}return h.value=h.done?c:X,h},toString:()=>{const z=Math.min(r_(G),Yc),X=Nv(he=>G.next(z*he).value,z,30);return z+"ms "+X}};return G}function ag({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},C=Z=>h!==void 0&&Z<h||f!==void 0&&Z>f,k=Z=>h===void 0?f:f===void 0||Math.abs(h-Z)<Math.abs(f-Z)?h:f;let A=n*e;const N=y+A,O=c===void 0?N:c(N);O!==N&&(A=O-y);const B=Z=>-A*Math.exp(-Z/s),U=Z=>O+B(Z),G=Z=>{const Ne=B(Z),Oe=U(Z);v.done=Math.abs(Ne)<=m,v.value=v.done?O:Oe};let z,X;const he=Z=>{C(v.value)&&(z=Z,X=a_({keyframes:[v.value,k(v.value)],velocity:o_(U,Z,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return he(0),{calculatedDuration:null,next:Z=>{let Ne=!1;return!X&&z===void 0&&(Ne=!0,G(Z),he(Z)),z!==void 0&&Z>=z?X.next(Z-z):(!Ne&&G(Z),v)}}}const lx=Zs(.42,0,1,1),ux=Zs(0,0,.58,1),l_=Zs(.42,0,.58,1),cx=t=>Array.isArray(t)&&typeof t[0]!="number",dx={linear:Nt,easeIn:lx,easeInOut:l_,easeOut:ux,circIn:$d,circInOut:Uv,circOut:Bv,backIn:Hd,backInOut:Vv,backOut:Fv,anticipate:jv},lg=t=>{if(Wd(t)){lv(t.length===4);const[e,n,s,o]=t;return Zs(e,n,s,o)}else if(typeof t=="string")return dx[t];return t};function hx(t,e,n){const s=[],o=n||s_,l=t.length-1;for(let c=0;c<l;c++){let h=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Nt:e;h=Js(f,h)}s.push(h)}return s}function fx(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(lv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=hx(e,s,o),f=h.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=yi(t[y],t[y+1],g);return h[y](v)};return n?g=>m(En(t[0],t[l-1],g)):m}function px(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=yi(0,e,s);t.push(Le(n,1,o))}}function mx(t){const e=[0];return px(e,t.length-1),e}function gx(t,e){return t.map(n=>n*e)}function yx(t,e){return t.map(()=>e||l_).splice(0,t.length-1)}function Da({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=cx(s)?s.map(lg):lg(s),l={done:!1,value:e[0]},c=gx(n&&n.length===e.length?n:mx(e),t),h=fx(c,e,{ease:Array.isArray(o)?o:yx(e,o)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const vx=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>Zn(e),now:()=>et.isProcessing?et.timestamp:ln.now()}},_x={decay:ag,inertia:ag,tween:Da,keyframes:Da,spring:a_},wx=t=>t/100;class Xd extends n_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||qd,h=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(l,h,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,h=zd(n)?n:_x[n]||Da;let f,m;h!==Da&&typeof e[0]!="number"&&(f=Js(wx,s_(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=r_(g));const{calculatedDuration:y}=g,v=y+o,C=v*(s+1)-o;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:v,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:C,repeatType:k,repeatDelay:A,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,G=l;if(C){const Z=Math.min(this.currentTime,g)/y;let Ne=Math.floor(Z),Oe=Z%1;!Oe&&Z>=1&&(Oe=1),Oe===1&&Ne--,Ne=Math.min(Ne,C+1),!!(Ne%2)&&(k==="reverse"?(Oe=1-Oe,A&&(Oe-=A/y)):k==="mirror"&&(G=c)),U=En(0,1,Oe)*y}const z=B?{done:!1,value:f[0]}:G.next(U);h&&(z.value=h(z.value));let{done:X}=z;!B&&m!==null&&(X=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const he=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return he&&o!==void 0&&(z.value=il(f,this.options,o)),N&&N(z.value),he&&this.finish(),z}get duration(){const{resolved:e}=this;return e?Cn(e.calculatedDuration):0}get time(){return Cn(this.currentTime)}set time(e){e=wn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=vx,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Cx=new Set(["opacity","clipPath","filter","transform"]);function Sx(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const g=Mv(h,o);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const Ex=Ud(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ma=10,xx=2e4;function Tx(t){return zd(t.type)||t.type==="spring"||!Dv(t.ease)}function kx(t,e){const n=new Xd({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const o=[];let l=0;for(;!s.done&&l<xx;)s=n.sample(l),o.push(s.value),l+=Ma;return{times:void 0,keyframes:o,duration:l-Ma,ease:"linear"}}const u_={anticipate:jv,backInOut:Vv,circInOut:Uv};function Px(t){return t in u_}class ug extends n_{constructor(e){super(e);const{name:n,motionValue:s,element:o,keyframes:l}=this.options;this.resolver=new t_(l,(c,h)=>this.onKeyframesResolved(c,h),n,s,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:o,ease:l,type:c,motionValue:h,name:f,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Aa()&&Px(l)&&(l=u_[l]),Tx(this.options)){const{onComplete:y,onUpdate:v,motionValue:C,element:k,...A}=this.options,N=kx(e,A);e=N.keyframes,e.length===1&&(e[1]=e[0]),s=N.duration,o=N.times,l=N.ease,c="keyframes"}const g=Sx(h.owner.current,f,e,{...this.options,duration:s,times:o,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(Xm(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;h.set(il(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Cn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Cn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=wn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nt;const{animation:s}=n;Xm(s,e)}return Nt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:o,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:v,...C}=this.options,k=new Xd({...C,keyframes:s,duration:o,type:l,ease:c,times:h,isGenerator:!0}),A=wn(this.time);m.setWithVelocity(k.sample(A-Ma).value,k.sample(A).value,Ma)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:o,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return Ex()&&s&&Cx.has(s)&&!f&&!m&&!o&&l!=="mirror"&&c!==0&&h!=="inertia"}}const Ix={type:"spring",stiffness:500,damping:25,restSpeed:10},Rx=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ax={type:"keyframes",duration:.8},Nx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dx=(t,{keyframes:e})=>e.length>2?Ax:Dr.has(t)?t.startsWith("scale")?Rx(e[1]):Ix:Nx;function Mx({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Zd=(t,e,n,s={},o,l)=>c=>{const h=Fd(s,t)||{},f=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-wn(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};Mx(h)||(g={...g,...Dx(t,g)}),g.duration&&(g.duration=wn(g.duration)),g.repeatDelay&&(g.repeatDelay=wn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=il(g.keyframes,h);if(v!==void 0)return Ie.update(()=>{g.onUpdate(v),g.onComplete()}),new dE([])}return!l&&ug.supports(g)?new ug(g):new Xd(g)};function Lx({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function c_(t,e,{delay:n=0,transitionOverride:s,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...f}=e;s&&(c=s);const m=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in f){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),C=f[y];if(C===void 0||g&&Lx(g,y))continue;const k={delay:n,...Fd(c||{},y)};let A=!1;if(window.MotionHandoffAnimation){const O=Av(t);if(O){const B=window.MotionHandoffAnimation(O,y,Ie);B!==null&&(k.startTime=B,A=!0)}}zc(t,y),v.start(Zd(y,v,C,t.shouldReduceMotion&&Iv.has(y)?{type:!1}:k,t,A));const N=v.animation;N&&m.push(N)}return h&&Promise.all(m).then(()=>{Ie.update(()=>{h&&aE(t,h)})}),m}function Xc(t,e,n={}){var s;const o=rl(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(c_(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return Ox(t,e,g+m,y,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,g]=f==="beforeChildren"?[c,h]:[h,c];return m().then(()=>g())}else return Promise.all([c(),h(n.delay)])}function Ox(t,e,n=0,s=0,o=1,l){const c=[],h=(t.variantChildren.size-1)*s,f=o===1?(m=0)=>m*s:(m=0)=>h-m*s;return Array.from(t.variantChildren).sort(bx).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Xc(m,e,{...l,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function bx(t,e){return t.sortNodePosition(e)}function Fx(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>Xc(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=Xc(t,e,n);else{const o=typeof e=="function"?rl(t,e,n.custom):e;s=Promise.all(c_(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Vx=Td.length;function d_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?d_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Vx;n++){const s=Td[n],o=t.props[s];(bs(o)||o===!1)&&(e[s]=o)}return e}const jx=[...xd].reverse(),Bx=xd.length;function Ux(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Fx(t,n,s)))}function zx(t){let e=Ux(t),n=cg(),s=!0;const o=f=>(m,g)=>{var y;const v=rl(t,g,f==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:C,transitionEnd:k,...A}=v;m={...m,...A,...k}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,g=d_(t.parent)||{},y=[],v=new Set;let C={},k=1/0;for(let N=0;N<Bx;N++){const O=jx[N],B=n[O],U=m[O]!==void 0?m[O]:g[O],G=bs(U),z=O===f?B.isActive:null;z===!1&&(k=N);let X=U===g[O]&&U!==m[O]&&G;if(X&&s&&t.manuallyAnimateOnMount&&(X=!1),B.protectedKeys={...C},!B.isActive&&z===null||!U&&!B.prevProp||tl(U)||typeof U=="boolean")continue;const he=Wx(B.prevProp,U);let Z=he||O===f&&B.isActive&&!X&&G||N>k&&G,Ne=!1;const Oe=Array.isArray(U)?U:[U];let ft=Oe.reduce(o(O),{});z===!1&&(ft={});const{prevResolvedValues:Tt={}}=B,ut={...Tt,...ft},pt=oe=>{Z=!0,v.has(oe)&&(Ne=!0,v.delete(oe)),B.needsAnimating[oe]=!0;const j=t.getValue(oe);j&&(j.liveStyle=!1)};for(const oe in ut){const j=ft[oe],J=Tt[oe];if(C.hasOwnProperty(oe))continue;let H=!1;Uc(j)&&Uc(J)?H=!Pv(j,J):H=j!==J,H?j!=null?pt(oe):v.add(oe):j!==void 0&&v.has(oe)?pt(oe):B.protectedKeys[oe]=!0}B.prevProp=U,B.prevResolvedValues=ft,B.isActive&&(C={...C,...ft}),s&&t.blockInitialAnimation&&(Z=!1),Z&&(!(X&&he)||Ne)&&y.push(...Oe.map(oe=>({animation:oe,options:{type:O}})))}if(v.size){const N={};v.forEach(O=>{const B=t.getBaseTarget(O),U=t.getValue(O);U&&(U.liveStyle=!0),N[O]=B??null}),y.push({animation:N})}let A=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?e(y):Promise.resolve()}function h(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var C;return(C=v.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),n[f].isActive=m;const y=c(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cg(),s=!0}}}function Wx(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pv(e,t):!1}function vr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cg(){return{animate:vr(!0),whileInView:vr(),whileHover:vr(),whileTap:vr(),whileDrag:vr(),whileFocus:vr(),exit:vr()}}class rr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Hx extends rr{constructor(e){super(e),e.animationState||(e.animationState=zx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $x=0;class Gx extends rr{constructor(){super(...arguments),this.id=$x++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Kx={animation:{Feature:Hx},exit:{Feature:Gx}},qt={x:!1,y:!1};function h_(){return qt.x||qt.y}function Yx(t){return t==="x"||t==="y"?qt[t]?null:(qt[t]=!0,()=>{qt[t]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}const Jd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bs(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function eo(t){return{point:{x:t.pageX,y:t.pageY}}}const qx=t=>e=>Jd(e)&&t(e,eo(e));function Ps(t,e,n,s){return Bs(t,e,qx(n),s)}const dg=(t,e)=>Math.abs(t-e);function Qx(t,e){const n=dg(t.x,e.x),s=dg(t.y,e.y);return Math.sqrt(n**2+s**2)}class f_{constructor(e,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Sc(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,C=Qx(y.offset,{x:0,y:0})>=3;if(!v&&!C)return;const{point:k}=y,{timestamp:A}=et;this.history.push({...k,timestamp:A});const{onStart:N,onMove:O}=this.handlers;v||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Cc(v,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Sc(y.type==="pointercancel"?this.lastMoveEventInfo:Cc(v,this.transformPagePoint),this.history);this.startEvent&&C&&C(y,N),k&&k(y,N)},!Jd(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const c=eo(e),h=Cc(c,this.transformPagePoint),{point:f}=h,{timestamp:m}=et;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Sc(h,this.history)),this.removeListeners=Js(Ps(this.contextWindow,"pointermove",this.handlePointerMove),Ps(this.contextWindow,"pointerup",this.handlePointerUp),Ps(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function Cc(t,e){return e?{point:e(t.point)}:t}function hg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sc({point:t},e){return{point:t,delta:hg(t,p_(e)),offset:hg(t,Xx(e)),velocity:Zx(e,.1)}}function Xx(t){return t[0]}function p_(t){return t[t.length-1]}function Zx(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=p_(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>wn(e)));)n--;if(!s)return{x:0,y:0};const l=Cn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const m_=1e-4,Jx=1-m_,eT=1+m_,g_=.01,tT=0-g_,nT=0+g_;function Dt(t){return t.max-t.min}function rT(t,e,n){return Math.abs(t-e)<=n}function fg(t,e,n,s=.5){t.origin=s,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Jx&&t.scale<=eT||isNaN(t.scale))&&(t.scale=1),(t.translate>=tT&&t.translate<=nT||isNaN(t.translate))&&(t.translate=0)}function Is(t,e,n,s){fg(t.x,e.x,n.x,s?s.originX:void 0),fg(t.y,e.y,n.y,s?s.originY:void 0)}function pg(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function iT(t,e,n){pg(t.x,e.x,n.x),pg(t.y,e.y,n.y)}function mg(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function Rs(t,e,n){mg(t.x,e.x,n.x),mg(t.y,e.y,n.y)}function sT(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Le(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Le(n,t,s.max):Math.min(t,n)),t}function gg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oT(t,{top:e,left:n,bottom:s,right:o}){return{x:gg(t.x,n,o),y:gg(t.y,e,s)}}function yg(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function aT(t,e){return{x:yg(t.x,e.x),y:yg(t.y,e.y)}}function lT(t,e){let n=.5;const s=Dt(t),o=Dt(e);return o>s?n=yi(e.min,e.max-s,t.min):s>o&&(n=yi(t.min,t.max-o,e.min)),En(0,1,n)}function uT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zc=.35;function cT(t=Zc){return t===!1?t=0:t===!0&&(t=Zc),{x:vg(t,"left","right"),y:vg(t,"top","bottom")}}function vg(t,e,n){return{min:_g(t,e),max:_g(t,n)}}function _g(t,e){return typeof t=="number"?t:t[e]||0}const wg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ui=()=>({x:wg(),y:wg()}),Cg=()=>({min:0,max:0}),Ue=()=>({x:Cg(),y:Cg()});function Bt(t){return[t("x"),t("y")]}function y_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function dT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hT(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ec(t){return t===void 0||t===1}function Jc({scale:t,scaleX:e,scaleY:n}){return!Ec(t)||!Ec(e)||!Ec(n)}function wr(t){return Jc(t)||v_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function v_(t){return Sg(t.x)||Sg(t.y)}function Sg(t){return t&&t!=="0%"}function La(t,e,n){const s=t-n,o=e*s;return n+o}function Eg(t,e,n,s,o){return o!==void 0&&(t=La(t,o,s)),La(t,n,s)+e}function ed(t,e=0,n=1,s,o){t.min=Eg(t.min,e,n,s,o),t.max=Eg(t.max,e,n,s,o)}function __(t,{x:e,y:n}){ed(t.x,e.translate,e.scale,e.originPoint),ed(t.y,n.translate,n.scale,n.originPoint)}const xg=.999999999999,Tg=1.0000000000001;function fT(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&di(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,__(t,c)),s&&wr(l.latestValues)&&di(t,l.latestValues))}e.x<Tg&&e.x>xg&&(e.x=1),e.y<Tg&&e.y>xg&&(e.y=1)}function ci(t,e){t.min=t.min+e,t.max=t.max+e}function kg(t,e,n,s,o=.5){const l=Le(t.min,t.max,o);ed(t,e,n,l,s)}function di(t,e){kg(t.x,e.x,e.scaleX,e.scale,e.originX),kg(t.y,e.y,e.scaleY,e.scale,e.originY)}function w_(t,e){return y_(hT(t.getBoundingClientRect(),e))}function pT(t,e,n){const s=w_(t,n),{scroll:o}=e;return o&&(ci(s.x,o.offset.x),ci(s.y,o.offset.y)),s}const C_=({current:t})=>t?t.ownerDocument.defaultView:null,mT=new WeakMap;class gT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eo(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:C,onDragStart:k}=this.getProps();if(v&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yx(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(N=>{let O=this.getAxisMotionValue(N).get()||0;if(an.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const U=B.layout.layoutBox[N];U&&(O=Dt(U)*(parseFloat(O)/100))}}this.originPoint[N]=O}),k&&Ie.postRender(()=>k(g,y)),zc(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:C,onDirectionLock:k,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=y;if(C&&this.currentDirection===null){this.currentDirection=yT(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),A&&A(g,y)},h=(g,y)=>this.stop(g,y),f=()=>Bt(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new f_(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:C_(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ie.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!wa(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=sT(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&ai(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=oT(o.layoutBox,n):this.constraints=!1,this.elastic=cT(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Bt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=uT(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ai(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=pT(s,o.root,this.visualElement.getTransformPagePoint());let c=aT(o.layout.layoutBox,l);if(n){const h=n(dT(c));this.hasMutatedConstraints=!!h,h&&(c=y_(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Bt(g=>{if(!wa(g,n,this.currentDirection))return;let y=f&&f[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,C=o?40:1e7,k={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return zc(this.visualElement,e),s.start(Zd(e,s,0,n,this.visualElement,!1))}stopAnimation(){Bt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Bt(n=>{const{drag:s}=this.getProps();if(!wa(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];l.set(e[n]-Le(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ai(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Bt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();o[c]=lT({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bt(c=>{if(!wa(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(Le(f,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;mT.set(this.visualElement,this);const e=this.visualElement.current,n=Ps(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ai(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ie.read(s);const c=Bs(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Bt(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Zc,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function wa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yT(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vT extends rr{constructor(e){super(e),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new gT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pg=t=>(e,n)=>{t&&Ie.postRender(()=>t(e,n))};class _T extends rr{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(e){this.session=new f_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Pg(e),onStart:Pg(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Ie.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ps(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ka={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ig(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ys={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Ig(t,e.target.x),s=Ig(t,e.target.y);return`${n}% ${s}%`}},wT={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Jn.parse(t);if(o.length>5)return s;const l=Jn.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=f;const m=Le(h,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class CT extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;KS(ST),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ka.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ie.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S_(t){const[e,n]=lS(),s=Q.useContext(ov);return I.jsx(CT,{...t,layoutGroup:s,switchLayoutGroup:Q.useContext(pv),isPresent:e,safeToRemove:n})}const ST={borderRadius:{...ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ys,borderTopRightRadius:ys,borderBottomLeftRadius:ys,borderBottomRightRadius:ys,boxShadow:wT};function ET(t,e,n){const s=lt(t)?t:Vs(t);return s.start(Zd("",s,e,n)),s.animation}function xT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const TT=(t,e)=>t.depth-e.depth;class kT{constructor(){this.children=[],this.isDirty=!1}add(e){Vd(this.children,e),this.isDirty=!0}remove(e){jd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TT),this.isDirty=!1,this.children.forEach(e)}}function PT(t,e){const n=ln.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Zn(s),t(l-e))};return Ie.read(s,!0),()=>Zn(s)}const E_=["TopLeft","TopRight","BottomLeft","BottomRight"],IT=E_.length,Rg=t=>typeof t=="string"?parseFloat(t):t,Ag=t=>typeof t=="number"||ne.test(t);function RT(t,e,n,s,o,l){o?(t.opacity=Le(0,n.opacity!==void 0?n.opacity:1,AT(s)),t.opacityExit=Le(e.opacity!==void 0?e.opacity:1,0,NT(s))):l&&(t.opacity=Le(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<IT;c++){const h=`border${E_[c]}Radius`;let f=Ng(e,h),m=Ng(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Ag(f)===Ag(m)?(t[h]=Math.max(Le(Rg(f),Rg(m),s),0),(an.test(m)||an.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,s))}function Ng(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AT=x_(0,.5,Bv),NT=x_(.5,.95,Nt);function x_(t,e,n){return s=>s<t?0:s>e?1:n(yi(t,e,s))}function Dg(t,e){t.min=e.min,t.max=e.max}function jt(t,e){Dg(t.x,e.x),Dg(t.y,e.y)}function Mg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lg(t,e,n,s,o){return t-=e,t=La(t,1/n,s),o!==void 0&&(t=La(t,1/o,s)),t}function DT(t,e=0,n=1,s=.5,o,l=t,c=t){if(an.test(e)&&(e=parseFloat(e),e=Le(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Le(l.min,l.max,s);t===l&&(h-=e),t.min=Lg(t.min,e,n,h,o),t.max=Lg(t.max,e,n,h,o)}function Og(t,e,[n,s,o],l,c){DT(t,e[n],e[s],e[o],e.scale,l,c)}const MT=["x","scaleX","originX"],LT=["y","scaleY","originY"];function bg(t,e,n,s){Og(t.x,e,MT,n?n.x:void 0,s?s.x:void 0),Og(t.y,e,LT,n?n.y:void 0,s?s.y:void 0)}function Fg(t){return t.translate===0&&t.scale===1}function T_(t){return Fg(t.x)&&Fg(t.y)}function Vg(t,e){return t.min===e.min&&t.max===e.max}function OT(t,e){return Vg(t.x,e.x)&&Vg(t.y,e.y)}function jg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function k_(t,e){return jg(t.x,e.x)&&jg(t.y,e.y)}function Bg(t){return Dt(t.x)/Dt(t.y)}function Ug(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bT{constructor(){this.members=[]}add(e){Vd(this.members,e),e.scheduleRender()}remove(e){if(jd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FT(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:C,skewY:k}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),C&&(s+=`skewX(${C}deg) `),k&&(s+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Es=typeof window<"u"&&window.MotionDebug!==void 0,xc=["","X","Y","Z"],VT={visibility:"hidden"},zg=1e3;let jT=0;function Tc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function P_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Av(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&P_(s)}function I_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},h=e?.()){this.id=jT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Es&&(Cr.totalNodes=Cr.resolvedTargetDeltas=Cr.recalculatedProjection=0),this.nodes.forEach(zT),this.nodes.forEach(KT),this.nodes.forEach(YT),this.nodes.forEach(WT),Es&&window.MotionDebug.record(Cr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kT)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Bd),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xT(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=PT(v,250),ka.hasAnimatedSinceResize&&(ka.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:C,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||JT,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=g.getProps(),B=!this.targetLayout||!k_(this.targetLayout,k)||C,U=!v&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,U);const G={...Fd(A,"layout"),onPlay:N,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else v||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&P_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wg);return}this.isUpdating||this.nodes.forEach($T),this.isUpdating=!1,this.nodes.forEach(GT),this.nodes.forEach(BT),this.nodes.forEach(UT),this.clearAllSnapshots();const h=ln.now();et.delta=En(0,1e3/60,h-et.timestamp),et.timestamp=h,et.isProcessing=!0,gc.update.process(et),gc.preRender.process(et),gc.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HT),this.sharedNodes.forEach(QT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!T_(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||wr(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),ek(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Ue();const f=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(tk))){const{scroll:g}=this.root;g&&(ci(f.x,g.offset.x),ci(f.y,g.offset.y))}return f}removeElementScroll(c){var h;const f=Ue();if(jt(f,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&jt(f,c),ci(f.x,y.offset.x),ci(f.y,y.offset.y))}return f}applyTransform(c,h=!1){const f=Ue();jt(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&di(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),wr(g.latestValues)&&di(f,g.latestValues)}return wr(this.latestValues)&&di(f,this.latestValues),f}removeTransform(c){const h=Ue();jt(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!wr(m.latestValues))continue;Jc(m.latestValues)&&m.updateSnapshot();const g=Ue(),y=m.measurePageBox();jt(g,y),bg(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return wr(this.latestValues)&&bg(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Rs(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),__(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Rs(this.relativeTargetOrigin,this.target,C.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Es&&Cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jc(this.parent.latestValues)||v_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===et.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;jt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,C=this.treeScale.y;fT(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ue());const{target:k}=h;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mg(this.prevProjectionDelta.x,this.projectionDelta.x),Mg(this.prevProjectionDelta.y,this.projectionDelta.y)),Is(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==C||!Ug(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ug(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Es&&Cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ui(),this.projectionDelta=ui(),this.projectionDeltaWithTransform=ui()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},y=ui();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Ue(),C=f?f.source:void 0,k=this.layout?this.layout.source:void 0,A=C!==k,N=this.getStack(),O=!N||N.members.length<=1,B=!!(A&&!O&&this.options.crossfade===!0&&!this.path.some(ZT));this.animationProgress=0;let U;this.mixTargetDelta=G=>{const z=G/1e3;$g(y.x,c.x,z),$g(y.y,c.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rs(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XT(this.relativeTarget,this.relativeTargetOrigin,v,z),U&&OT(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ue()),jt(U,this.relativeTarget)),A&&(this.animationValues=g,RT(g,m,this.latestValues,z,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{ka.hasAnimatedSinceResize=!0,this.currentAnimation=ET(0,zg,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&R_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ue();const y=Dt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+y;const v=Dt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}jt(h,f),di(h,g),Is(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bT),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Tc("z",c,m,this.animationValues);for(let g=0;g<xc.length;g++)Tc(`rotate${xc[g]}`,c,m,this.animationValues),Tc(`skew${xc[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VT;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=xa(c?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=xa(c?.pointerEvents)||""),this.hasProjected&&!wr(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=FT(this.projectionDeltaWithTransform,this.treeScale,v),g&&(m.transform=g(v,m.transform));const{x:C,y:k}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${k.origin*100}% 0`,y.animationValues?m.opacity=y===this?(f=(h=v.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ra){if(v[A]===void 0)continue;const{correct:N,applyTo:O}=Ra[A],B=m.transform==="none"?v[A]:N(v[A],y);if(O){const U=O.length;for(let G=0;G<U;G++)m[O[G]]=B}else m[A]=B}return this.options.layoutId&&(m.pointerEvents=y===this?xa(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Wg),this.root.sharedNodes.clear()}}}function BT(t){t.updateLayout()}function UT(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Bt(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],C=Dt(v);v.min=s[y].min,v.max=v.min+C}):R_(l,n.layoutBox,s)&&Bt(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],C=Dt(s[y]);v.max=v.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+C)});const h=ui();Is(h,s,n.layoutBox);const f=ui();c?Is(f,t.applyTransform(o,!0),n.measuredBox):Is(f,s,n.layoutBox);const m=!T_(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:C}=y;if(v&&C){const k=Ue();Rs(k,n.layoutBox,v.layoutBox);const A=Ue();Rs(A,s,C.layoutBox),k_(k,A)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=k,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function zT(t){Es&&Cr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HT(t){t.clearSnapshot()}function Wg(t){t.clearMeasurements()}function $T(t){t.isLayoutDirty=!1}function GT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KT(t){t.resolveTargetDelta()}function YT(t){t.calcProjection()}function qT(t){t.resetSkewAndRotation()}function QT(t){t.removeLeadSnapshot()}function $g(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Gg(t,e,n,s){t.min=Le(e.min,n.min,s),t.max=Le(e.max,n.max,s)}function XT(t,e,n,s){Gg(t.x,e.x,n.x,s),Gg(t.y,e.y,n.y,s)}function ZT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JT={duration:.45,ease:[.4,0,.1,1]},Kg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yg=Kg("applewebkit/")&&!Kg("chrome/")?Math.round:Nt;function qg(t){t.min=Yg(t.min),t.max=Yg(t.max)}function ek(t){qg(t.x),qg(t.y)}function R_(t,e,n){return t==="position"||t==="preserve-aspect"&&!rT(Bg(e),Bg(n),.2)}function tk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const nk=I_({attachResizeListener:(t,e)=>Bs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kc={current:void 0},A_=I_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kc.current){const t=new nk({});t.mount(window),t.setOptions({layoutScroll:!0}),kc.current=t}return kc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rk={pan:{Feature:_T},drag:{Feature:vT,ProjectionNode:A_,MeasureLayout:S_}};function ik(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function N_(t,e){const n=ik(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function Qg(t){return e=>{e.pointerType==="touch"||h_()||t(e)}}function sk(t,e,n={}){const[s,o,l]=N_(t,n),c=Qg(h=>{const{target:f}=h,m=e(h);if(typeof m!="function"||!f)return;const g=Qg(y=>{m(y),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,o)});return s.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}function Xg(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ie.postRender(()=>l(e,eo(e)))}class ok extends rr{mount(){const{current:e}=this.node;e&&(this.unmount=sk(e,n=>(Xg(this.node,n,"Start"),s=>Xg(this.node,s,"End"))))}unmount(){}}class ak extends rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Js(Bs(this.node.current,"focus",()=>this.onFocus()),Bs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const D_=(t,e)=>e?t===e?!0:D_(t,e.parentElement):!1,lk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uk(t){return lk.has(t.tagName)||t.tabIndex!==-1}const xs=new WeakSet;function Zg(t){return e=>{e.key==="Enter"&&t(e)}}function Pc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ck=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Zg(()=>{if(xs.has(n))return;Pc(n,"down");const o=Zg(()=>{Pc(n,"up")}),l=()=>Pc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Jg(t){return Jd(t)&&!h_()}function dk(t,e,n={}){const[s,o,l]=N_(t,n),c=h=>{const f=h.currentTarget;if(!Jg(h)||xs.has(f))return;xs.add(f);const m=e(h),g=(C,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!Jg(C)||!xs.has(f))&&(xs.delete(f),typeof m=="function"&&m(C,{success:k}))},y=C=>{g(C,n.useGlobalTarget||D_(f,C.target))},v=C=>{g(C,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return s.forEach(h=>{!uk(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h.addEventListener("focus",m=>ck(m,o),o)}),l}function ey(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ie.postRender(()=>l(e,eo(e)))}class hk extends rr{mount(){const{current:e}=this.node;e&&(this.unmount=dk(e,n=>(ey(this.node,n,"Start"),(s,{success:o})=>ey(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const td=new WeakMap,Ic=new WeakMap,fk=t=>{const e=td.get(t.target);e&&e(t)},pk=t=>{t.forEach(fk)};function mk({root:t,...e}){const n=t||document;Ic.has(n)||Ic.set(n,{});const s=Ic.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(pk,{root:t,...e})),s[o]}function gk(t,e,n){const s=mk(e);return td.set(t,n),s.observe(t),()=>{td.delete(t),s.unobserve(t)}}const yk={some:0,all:1};class vk extends rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:yk[o]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(f)};return gk(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_k(e,n))&&this.startObserver()}unmount(){}}function _k({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wk={inView:{Feature:vk},tap:{Feature:hk},focus:{Feature:ak},hover:{Feature:ok}},Ck={layout:{ProjectionNode:A_,MeasureLayout:S_}},nd={current:null},M_={current:!1};function Sk(){if(M_.current=!0,!!Ed)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nd.current=t.matches;t.addListener(e),e()}else nd.current=!1}const Ek=[...e_,ot,Jn],xk=t=>Ek.find(Jv(t)),ty=new WeakMap;function Tk(t,e,n){for(const s in e){const o=e[s],l=n[s];if(lt(o))t.addValue(s,o);else if(lt(l))t.addValue(s,Vs(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,Vs(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ny=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kk{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=ln.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Ie.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=nl(n),this.isVariantNode=hv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in v){const k=v[C];f[C]!==void 0&&lt(k)&&k.set(f[C],!1)}}mount(e){this.current=e,ty.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),M_.current||Sk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ty.delete(this.current),this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Dr.has(e),o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gi){const n=gi[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ny.length;s++){const o=ny[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Tk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Vs(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Xv(o)||zv(o))?o=parseFloat(o):!xk(o)&&Jn.test(n)&&(o=Yv(e,n)),this.setBaseTarget(e,lt(o)?o.get():o)),lt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const c=Rd(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!lt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class L_ extends kk{constructor(){super(...arguments),this.KeyframeResolver=t_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pk(t){return window.getComputedStyle(t)}class Ik extends L_{constructor(){super(...arguments),this.type="html",this.renderInstance=Cv}readValueFromInstance(e,n){if(Dr.has(n)){const s=Yd(n);return s&&s.default||0}else{const s=Pk(e),o=(vv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return w_(e,n)}build(e,n,s){Dd(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return bd(e,n,s)}}class Rk extends L_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dr.has(n)){const s=Yd(n);return s&&s.default||0}return n=Sv.has(n)?n:kd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Tv(e,n,s)}build(e,n,s){Md(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,o){Ev(e,n,s,o)}mount(e){this.isSVGTag=Od(e.tagName),super.mount(e)}}const Ak=(t,e)=>Id(t)?new Rk(e):new Ik(e,{allowProjection:t!==Q.Fragment}),Nk=nE({...Kx,...wk,...rk,...Ck},Ak),Ts=yS(Nk),Dk=()=>{};var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw ki(e)},ki=function(t){return new Error("Firebase Database ("+O_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],f=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},eh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,g=l>>2,y=(l&3)<<4|h>>4;let v=(h&15)<<2|m>>6,C=m&63;f||(C=64,c||(v=64)),s.push(n[g],n[y],n[v],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||y==null)throw new Lk;const v=l<<2|h>>4;if(s.push(v),m!==64){const C=h<<4&240|m>>2;if(s.push(C),y!==64){const k=m<<6&192|y;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F_=function(t){const e=b_(t);return eh.encodeByteArray(e,!0)},Oa=function(t){return F_(t).replace(/\./g,"")},rd=function(t){try{return eh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){return V_(void 0,t)}function V_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!bk(n)||(t[n]=V_(t[n],e[n]));return t}function bk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=()=>Fk().__FIREBASE_DEFAULTS__,jk=()=>{if(typeof process>"u"||typeof ry>"u")return;const t=ry.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rd(t[1]);return e&&JSON.parse(e)},j_=()=>{try{return Dk()||Vk()||jk()||Bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uk=t=>j_()?.emulatorHosts?.[t],B_=t=>{const e=Uk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},U_=()=>j_()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Oa(JSON.stringify(n)),Oa(JSON.stringify(c)),""].join(".")}const As={};function zk(){const t={prod:[],emulator:[]};for(const e of Object.keys(As))As[e]?t.emulator.push(e):t.prod.push(e);return t}function Wk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iy=!1;function H_(t,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||As[t]===e||As[t]||iy)return;As[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=zk().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{iy=!0,c()},v}function g(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=Wk(s),C=n("text"),k=document.getElementById(C)||document.createElement("span"),A=n("learnmore"),N=document.getElementById(A)||document.createElement("a"),O=n("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;h(U),g(N,A);const G=m();f(B,O),U.append(B,k,N,G),document.body.appendChild(U)}l?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hk())}function $k(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gk(){return O_.NODE_ADMIN===!0}function Kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Yk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FirebaseError";class Pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qk,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G_.prototype.create)}}class G_{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?Qk(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Pi(o,h,s)}}function Qk(t,e){return t.replace(Xk,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(t){let e={},n={},s={},o="";try{const l=t.split(".");e=Us(rd(l[0])||""),n=Us(rd(l[1])||""),o=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},Zk=function(t){const e=K_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Jk=function(t){const e=K_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _i(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ba(t,e,n){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e.call(n,t[o],o,t));return s}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(oy(l)&&oy(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function oy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=h^l&(c^h),g=1518500249):(m=l^c^h,g=1859775393):y<60?(m=l&c|h&(l|c),g=2400959708):(m=l^c^h,g=3395469782);const v=(o<<5|o>>>27)+m+f+g+s[y]&4294967295;f=h,h=c,c=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const l=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}else for(;o<n;)if(l[c]=e[o],++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[o]>>l&255,++s;return e}}function th(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=55296&&o<=56319){const l=o-55296;s++,V(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;o=65536+(l<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},al=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){return t&&t._delegate?t._delegate:t}class wi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sP(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iP(t){return t===Sr?void 0:t}function sP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const aP={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},lP=Ee.INFO,uP={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},cP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=uP[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y_{constructor(e){this.name=e,this._logLevel=lP,this._logHandler=cP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const dP=(t,e)=>e.some(n=>t instanceof n);let ay,ly;function hP(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fP(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q_=new WeakMap,id=new WeakMap,Q_=new WeakMap,Rc=new WeakMap,nh=new WeakMap;function pP(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Yn(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&q_.set(n,t)}).catch(()=>{}),nh.set(e,t),e}function mP(t){if(id.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});id.set(t,e)}let sd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gP(t){sd=t(sd)}function yP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ac(this),e,...n);return Q_.set(s,e.sort?e.sort():[e]),Yn(s)}:fP().includes(t)?function(...e){return t.apply(Ac(this),e),Yn(q_.get(this))}:function(...e){return Yn(t.apply(Ac(this),e))}}function vP(t){return typeof t=="function"?yP(t):(t instanceof IDBTransaction&&mP(t),dP(t,hP())?new Proxy(t,sd):t)}function Yn(t){if(t instanceof IDBRequest)return pP(t);if(Rc.has(t))return Rc.get(t);const e=vP(t);return e!==t&&(Rc.set(t,e),nh.set(e,t)),e}const Ac=t=>nh.get(t);function _P(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=Yn(c);return s&&c.addEventListener("upgradeneeded",f=>{s(Yn(c.result),f.oldVersion,f.newVersion,Yn(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const wP=["get","getKey","getAll","getAllKeys","count"],CP=["put","add","delete","clear"],Nc=new Map;function uy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nc.get(e))return Nc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wP.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return Nc.set(e,l),l}gP(t=>({...t,get:(e,n,s)=>uy(e,n)||t.get(e,n,s),has:(e,n)=>!!uy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function EP(t){return t.getComponent()?.type==="VERSION"}const od="@firebase/app",cy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Y_("@firebase/app"),xP="@firebase/app-compat",TP="@firebase/analytics-compat",kP="@firebase/analytics",PP="@firebase/app-check-compat",IP="@firebase/app-check",RP="@firebase/auth",AP="@firebase/auth-compat",NP="@firebase/database",DP="@firebase/data-connect",MP="@firebase/database-compat",LP="@firebase/functions",OP="@firebase/functions-compat",bP="@firebase/installations",FP="@firebase/installations-compat",VP="@firebase/messaging",jP="@firebase/messaging-compat",BP="@firebase/performance",UP="@firebase/performance-compat",zP="@firebase/remote-config",WP="@firebase/remote-config-compat",HP="@firebase/storage",$P="@firebase/storage-compat",GP="@firebase/firestore",KP="@firebase/ai",YP="@firebase/firestore-compat",qP="firebase",QP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",XP={[od]:"fire-core",[xP]:"fire-core-compat",[kP]:"fire-analytics",[TP]:"fire-analytics-compat",[IP]:"fire-app-check",[PP]:"fire-app-check-compat",[RP]:"fire-auth",[AP]:"fire-auth-compat",[NP]:"fire-rtdb",[DP]:"fire-data-connect",[MP]:"fire-rtdb-compat",[LP]:"fire-fn",[OP]:"fire-fn-compat",[bP]:"fire-iid",[FP]:"fire-iid-compat",[VP]:"fire-fcm",[jP]:"fire-fcm-compat",[BP]:"fire-perf",[UP]:"fire-perf-compat",[zP]:"fire-rc",[WP]:"fire-rc-compat",[HP]:"fire-gcs",[$P]:"fire-gcs-compat",[GP]:"fire-fst",[YP]:"fire-fst-compat",[KP]:"fire-vertex","fire-js":"fire-js",[qP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Map,ZP=new Map,ld=new Map;function dy(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(ld.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,t);for(const n of Va.values())dy(n,t);for(const n of ZP.values())dy(n,t);return!0}function X_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Z_(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qn=new G_("app","Firebase",JP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=QP;function e0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ad,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qn.create("bad-app-name",{appName:String(o)});if(n||(n=U_()),!n)throw qn.create("no-options");const l=Va.get(o);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw qn.create("duplicate-app",{appName:o})}const c=new oP(o);for(const f of ld.values())c.addComponent(f);const h=new eI(n,s,c);return Va.set(o,h),h}function t0(t=ad){const e=Va.get(t);if(!e&&t===ad&&U_())return e0();if(!e)throw qn.create("no-app",{appName:t});return e}function Qn(t,e,n){let s=XP[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(c.join(" "));return}zs(new wi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebase-heartbeat-database",nI=1,Ws="firebase-heartbeat-store";let Dc=null;function n0(){return Dc||(Dc=_P(tI,nI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ws)}catch(n){console.warn(n)}}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),Dc}async function rI(t){try{const n=(await n0()).transaction(Ws),s=await n.objectStore(Ws).get(r0(t));return await n.done,s}catch(e){if(e instanceof Pi)xn.warn(e.message);else{const n=qn.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}}async function hy(t,e){try{const s=(await n0()).transaction(Ws,"readwrite");await s.objectStore(Ws).put(e,r0(t)),await s.done}catch(n){if(n instanceof Pi)xn.warn(n.message);else{const s=qn.create("idb-set",{originalErrorMessage:n?.message});xn.warn(s.message)}}}function r0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,sI=30;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sI){const o=uI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fy(),{heartbeatsToSend:n,unsentEntries:s}=aI(this._heartbeatsCache.heartbeats),o=Oa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xn.warn(e),""}}}function fy(){return new Date().toISOString().substring(0,10)}function aI(t,e=iI){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),py(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),py(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kk()?Yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function py(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}function uI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){zs(new wi("platform-logger",e=>new SP(e),"PRIVATE")),zs(new wi("heartbeat",e=>new oI(e),"PRIVATE")),Qn(od,cy,t),Qn(od,cy,"esm2020"),Qn("fire-js","")}cI("");var dI="firebase",hI="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(dI,hI,"app");var my={};const gy="@firebase/database",yy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0="";function fI(t){i0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Us(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pI(e)}}catch{}return new mI},Tr=s0("localStorage"),gI=s0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Y_("@firebase/database"),yI=(function(){let t=1;return function(){return t++}})(),o0=function(t){const e=nP(t),n=new tP;n.update(e);const s=n.digest();return eh.encodeByteArray(s)},to=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=to.apply(null,s):typeof s=="object"?e+=Xe(s):e+=s,e+=" "}return e};let Ns=null,vy=!0;const vI=function(t,e){V(!0,"Can't turn on custom loggers persistently."),fi.logLevel=Ee.VERBOSE,Ns=fi.log.bind(fi)},at=function(...t){if(vy===!0&&(vy=!1,Ns===null&&gI.get("logging_enabled")===!0&&vI()),Ns){const e=to.apply(null,t);Ns(e)}},no=function(t){return function(...e){at(t,...e)}},ud=function(...t){const e="FIREBASE INTERNAL ERROR: "+to(...t);fi.error(e)},Tn=function(...t){const e=`FIREBASE FATAL ERROR: ${to(...t)}`;throw fi.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+to(...t);fi.warn(e)},_I=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},a0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ci="[MIN_NAME]",Ir="[MAX_NAME]",Ii=function(t,e){if(t===e)return 0;if(t===Ci||e===Ir)return-1;if(e===Ci||t===Ir)return 1;{const n=_y(t),s=_y(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},CI=function(t,e){return t===e?0:t<e?-1:1},vs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},rh=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Xe(e[s]),n+=":",n+=rh(t[e[s]]);return n+="}",n},l0=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(t.substring(o,n)):s.push(t.substring(o,o+e));return s};function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const u0=function(t){V(!a0(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,l,c,h,f;t===0?(l=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=h+s,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,c=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(f=n;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const g=m.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},SI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const TI=new RegExp("^-?(0*)\\d{1,10}$"),kI=-2147483648,PI=2147483647,_y=function(t){if(TI.test(t)){const e=Number(t);if(e>=kI&&e<=PI)return e}return null},Ri=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},II=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ds=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Z_(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class Pa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="5",c0="v",d0="s",h0="r",f0="f",p0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,m0="ls",g0="p",cd="ac",y0="websocket",v0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,s,o,l=!1,c="",h=!1,f=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w0(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let s;if(e===y0)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===v0)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NI(t)&&(n.ns=t.namespace);const o=[];return xt(n,(l,c)=>{o.push(l+"="+c)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.counters_={}}incrementCounter(e,n=1){Pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ok(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={},Lc={};function sh(t){const e=t.toString();return Mc[e]||(Mc[e]=new DI),Mc[e]}function MI(t,e){const n=t.toString();return Lc[n]||(Lc[n]=e()),Lc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Ri(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="start",OI="close",bI="pLPCommand",FI="pRTLPCB",C0="id",S0="pw",E0="ser",VI="cb",jI="seg",BI="ts",UI="d",zI="dframe",x0=1870,T0=30,WI=x0-T0,HI=25e3,$I=3e4;class hi{constructor(e,n,s,o,l,c,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=no(e),this.stats_=sh(n),this.urlFn=f=>(this.appCheckToken&&(f[cd]=this.appCheckToken),w0(n,v0,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new LI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($I)),wI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oh((...l)=>{const[c,h,f,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===wy)this.id=h,this.password=f;else if(c===OI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[wy]="t",s[E0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[VI]=this.scriptTagHolder.uniqueCallbackIdentifier),s[c0]=ih,this.transportSessionId&&(s[d0]=this.transportSessionId),this.lastSessionId&&(s[m0]=this.lastSessionId),this.applicationId&&(s[g0]=this.applicationId),this.appCheckToken&&(s[cd]=this.appCheckToken),typeof location<"u"&&location.hostname&&p0.test(location.hostname)&&(s[h0]=f0);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hi.forceAllow_=!0}static forceDisallow(){hi.forceDisallow_=!0}static isAvailable(){return hi.forceAllow_?!0:!hi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SI()&&!EI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=F_(n),o=l0(s,WI);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[zI]="t",s[C0]=e,s[S0]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oh{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yI(),window[bI+this.uniqueCallbackIdentifier]=e,window[FI+this.uniqueCallbackIdentifier]=n,this.myIFrame=oh.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){at("frame writing exception"),h.stack&&at(h.stack),at(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[C0]=this.myID,e[S0]=this.myPW,e[E0]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+T0+s.length<=x0;){const c=this.pendingSegs.shift();s=s+"&"+jI+o+"="+c.seg+"&"+BI+o+"="+c.ts+"&"+UI+o+"="+c.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(HI)),l=()=>{clearTimeout(o),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=16384,KI=45e3;let ja=null;typeof MozWebSocket<"u"?ja=MozWebSocket:typeof WebSocket<"u"&&(ja=WebSocket);class Qt{constructor(e,n,s,o,l,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=no(this.connId),this.stats_=sh(n),this.connURL=Qt.connectionURL_(n,c,h,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,l){const c={};return c[c0]=ih,typeof location<"u"&&location.hostname&&p0.test(location.hostname)&&(c[h0]=f0),n&&(c[d0]=n),s&&(c[m0]=s),o&&(c[cd]=o),l&&(c[g0]=l),w0(e,y0,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tr.set("previous_websocket_failure",!0);try{let s;Gk(),this.mySock=new ja(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ja!==null&&!Qt.forceDisallow_}static previouslyFailed(){return Tr.isInMemoryStorage||Tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Us(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=l0(n,GI);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static get ALL_TRANSPORTS(){return[hi,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qt&&Qt.isAvailable();let s=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Qt];else{const o=this.transports_=[];for(const l of Hs.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Hs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=6e4,qI=5e3,QI=10*1024,XI=100*1024,Oc="t",Cy="d",ZI="s",Sy="r",JI="e",Ey="o",xy="a",Ty="n",ky="p",eR="h";class tR{constructor(e,n,s,o,l,c,h,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=no("c:"+this.id+":"),this.transportManager_=new Hs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ds(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Oc in e){const n=e[Oc];n===xy?this.upgradeIfSecondaryHealthy_():n===Sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ey&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vs("t",e),s=vs("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ky,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ty,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vs("t",e),s=vs("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vs(Oc,e);if(Cy in e){const s=e[Cy];if(n===eR){const o={...s};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Ty){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZI?this.onConnectionShutdown_(s):n===Sy?this.onReset_(s):n===JI?ud("Server Error: "+s):n===Ey?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ud("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ih!==s&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ds(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(YI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ds(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ky,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!s||s===o[l].context)){o.splice(l,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends P0{static getInstance(){return new Ba}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=32,Iy=768;class we{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ye(){return new we("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function er(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function I0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function R0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function A0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function $e(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof we)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new we(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=le(t),s=le(e);if(n===null)return e;if(n===s)return Ct(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ah(t,e){if(er(t)!==er(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Xt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(er(t)>er(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class rR{constructor(e,n){this.errorPrefix_=n,this.parts_=R0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=al(this.parts_[s]);N0(this)}}function iR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=al(e),N0(t)}function sR(t){const e=t.parts_.pop();t.byteLength_-=al(e),t.parts_.length>0&&(t.byteLength_-=1)}function N0(t){if(t.byteLength_>Iy)throw new Error(t.errorPrefix_+"has a key path longer than "+Iy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Py)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Py+") or object contains a cycle "+Er(t))}function Er(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends P0{static getInstance(){return new lh}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=1e3,oR=300*1e3,Ry=30*1e3,aR=1.3,lR=3e4,uR="server_kill",Ay=3;class Sn extends k0{constructor(e,n,s,o,l,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Sn.nextPersistentConnectionId_++,this.log_=no("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_s,this.maxReconnectDelay_=oR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ba.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Xe(l)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new sl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,o){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(c).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const l={p:s},c="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,h=>{const f=h.d,m=h.s;Sn.warnOnListenWarnings_(f,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Pn(e,"w")){const s=_i(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ry)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Zk(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const l=o.s,c=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},c="n";o&&(l.q=s,l.t=o),this.sendRequest(c,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,l){this.initConnection_();const c={p:n,d:s};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ud("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lR&&(this.reconnectDelay_=_s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Sn.nextConnectionId_++,l=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,s())},m=function(y){V(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new tR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,C=>{Et(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(uR)},l))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Et(y),f())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sy(this.interruptReasons_)&&(this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>rh(l)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new we(e).toString();let o;if(this.listens.has(s)){const l=this.listens.get(s);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ay&&(this.reconnectDelay_=Ry,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ay&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+i0.replace(/\./g,"-")]=1,$_()?e["framework.cordova"]=1:$k()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ba.getInstance().currentlyOnline();return sy(this.interruptReasons_)&&e}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ue(Ci,e),o=new ue(Ci,n);return this.compare(s,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class D0 extends ll{static get __EMPTY_NODE(){return Ca}static set __EMPTY_NODE(e){Ca=e}compare(e,n){return Ii(e.name,n.name)}isDefinedOn(e){throw ki("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Ir,Ca)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Ca)}toString(){return".key"}}const pi=new D0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,s,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??Qe.RED,this.left=o??St.EMPTY_NODE,this.right=l??St.EMPTY_NODE}copy(e,n,s,o,l){return new Qe(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class cR{copy(e,n,s,o,l){return this}insert(e,n,s){return new Qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,n=St.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new St(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Sa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Sa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Sa(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new cR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e){return Ii(t.name,e.name)}function uh(t,e){return Ii(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd;function hR(t){dd=t}const M0=function(t){return typeof t=="number"?"number:"+u0(t):"string:"+t},L0=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pn(e,".sv"),"Priority must be a string or number.")}else V(t===dd||t.isEmpty(),"priority of unexpected type.");V(t===dd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny;class qe{static set __childrenNodeConstructor(e){Ny=e}static get __childrenNodeConstructor(){return Ny}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),L0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:le(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=le(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=u0(this.value_):e+=this.value_,this.lazyHash_=o0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=qe.VALUE_TYPE_ORDER.indexOf(n),l=qe.VALUE_TYPE_ORDER.indexOf(s);return V(o>=0,"Unknown leaf type: "+n),V(l>=0,"Unknown leaf type: "+s),o===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0,b0;function fR(t){O0=t}function pR(t){b0=t}class mR extends ll{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),l=s.compareTo(o);return l===0?Ii(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Ir,new qe("[PRIORITY-POST]",b0))}makePost(e,n){const s=O0(e);return new ue(n,new qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new mR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=Math.log(2);class yR{constructor(e){const n=l=>parseInt(Math.log(l)/gR,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ua=function(t,e,n,s){t.sort(e);const o=function(f,m){const g=m-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,null,null);{const C=parseInt(g/2,10)+f,k=o(f,C),A=o(C+1,m);return y=t[C],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,k,A)}},l=function(f){let m=null,g=null,y=t.length;const v=function(k,A){const N=y-k,O=y;y-=k;const B=o(N+1,O),U=t[N],G=n?n(U):U;C(new Qe(G,U.node,A,null,B))},C=function(k){m?(m.left=k,m=k):(g=k,m=k)};for(let k=0;k<f.count;++k){const A=f.nextBitIsOne(),N=Math.pow(2,f.count-(k+1));A?v(N,Qe.BLACK):(v(N,Qe.BLACK),v(N,Qe.RED))}return g},c=new yR(t.length),h=l(c);return new St(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;const oi={};class _n{static get Default(){return V(oi&&Ve,"ChildrenNode.ts has not been loaded"),bc=bc||new _n({".priority":oi},{".priority":Ve}),bc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=_i(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof St?n:null}hasIndex(e){return Pn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const l=n.getIterator(ue.Wrap);let c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=l.getNext();let h;o?h=Ua(s,e.getCompare()):h=oi;const f=e.toString(),m={...this.indexSet_};m[f]=e;const g={...this.indexes_};return g[f]=h,new _n(g,m)}addToIndexes(e,n){const s=ba(this.indexes_,(o,l)=>{const c=_i(this.indexSet_,l);if(V(c,"Missing index implementation for "+l),o===oi)if(c.isDefinedOn(e.node)){const h=[],f=n.getIterator(ue.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&h.push(m),m=f.getNext();return h.push(e),Ua(h,c.getCompare())}else return oi;else{const h=n.get(e.name);let f=o;return h&&(f=f.remove(new ue(e.name,h))),f.insert(e,e.node)}});return new _n(s,this.indexSet_)}removeFromIndexes(e,n){const s=ba(this.indexes_,o=>{if(o===oi)return o;{const l=n.get(e.name);return l?o.remove(new ue(e.name,l)):o}});return new _n(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws;class re{static get EMPTY_NODE(){return ws||(ws=new re(new St(uh),null,_n.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&L0(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ws:n}}getChild(e){const n=le(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ue(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?ws:this.priorityNode_;return new re(o,c,l)}}updateChild(e,n){const s=le(e);if(s===null)return n;{V(le(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(xe(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,l=!0;if(this.forEachChild(Ve,(c,h)=>{n[c]=h.val(e),s++,l&&re.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*s){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+M0(this.getPriority().val())+":"),this.forEachChild(Ve,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":o0(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const l=o.getPredecessorKey(new ue(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ro?-1:0}withIndex(e){if(e===pi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ve),o=n.getIterator(Ve);let l=s.getNext(),c=o.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=s.getNext(),c=o.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===pi?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vR extends re{constructor(){super(new St(uh),re.EMPTY_NODE,_n.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const ro=new vR;Object.defineProperties(ue,{MIN:{value:new ue(Ci,re.EMPTY_NODE)},MAX:{value:new ue(Ir,ro)}});D0.__EMPTY_NODE=re.EMPTY_NODE;qe.__childrenNodeConstructor=re;hR(ro);pR(ro);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=!0;function tt(t,e=null){if(t===null)return re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,tt(e))}if(!(t instanceof Array)&&_R){const n=[];let s=!1;if(xt(t,(c,h)=>{if(c.substring(0,1)!=="."){const f=tt(h);f.isEmpty()||(s=s||!f.getPriority().isEmpty(),n.push(new ue(c,f)))}}),n.length===0)return re.EMPTY_NODE;const l=Ua(n,dR,c=>c.name,uh);if(s){const c=Ua(n,Ve.getCompare());return new re(l,tt(e),new _n({".priority":c},{".priority":Ve}))}else return new re(l,tt(e),_n.Default)}else{let n=re.EMPTY_NODE;return xt(t,(s,o)=>{if(Pn(t,s)&&s.substring(0,1)!=="."){const l=tt(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(tt(e))}}fR(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends ll{constructor(e){super(),this.indexPath_=e,V(!de(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),l=s.compareTo(o);return l===0?Ii(e.name,n.name):l}makePost(e,n){const s=tt(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(n,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,ro);return new ue(Ir,e)}toString(){return R0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends ll{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ii(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const s=tt(e);return new ue(n,s)}toString(){return".value"}}const SR=new CR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){return{type:"value",snapshotNode:t}}function Si(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ER(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.index_=e}updateChild(e,n,s,o,l,c){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange($s(n,h)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Si(n,s)):c.trackChildChange(Gs(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(o,l)=>{n.hasChild(o)||s.trackChildChange($s(o,l))}),n.isLeafNode()||n.forEachChild(Ve,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||s.trackChildChange(Gs(o,l,c))}else s.trackChildChange(Si(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.indexedFilter_=new ch(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ks.getStartPost_(e),this.endPost_=Ks.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,l,c){return this.matches(new ue(n,s))||(s=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,l,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=re.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const l=this;return n.forEachChild(Ve,(c,h)=>{l.matches(new ue(c,h))||(o=o.updateImmediateChild(c,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ks(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,l,c){return this.rangedFilter_.matches(new ue(n,s))||(s=re.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,l,c):this.fullLimitUpdateChild_(e,n,s,l,c)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let c=0;for(;l.hasNext();){const h=l.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,l){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,C)=>y(C,v)}else c=this.index_.getCompare();const h=e;V(h.numChildren()===this.limit_,"");const f=new ue(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(h.hasChild(n)){const y=h.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||h.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const C=v==null?1:c(v,f);if(g&&!s.isEmpty()&&C>=0)return l?.trackChildChange(Gs(n,s,y)),h.updateImmediateChild(n,s);{l?.trackChildChange($s(n,y));const A=h.updateImmediateChild(n,re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l?.trackChildChange(Si(v.name,v.node)),A.updateImmediateChild(v.name,v.node)):A}}else return s.isEmpty()?e:g&&c(m,f)>=0?(l!=null&&(l.trackChildChange($s(m.name,m.node)),l.trackChildChange(Si(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ci}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new dh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TR(t){return t.loadsAllData()?new ch(t.getIndex()):t.hasLimit()?new xR(t):new Ks(t)}function Dy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===SR?n="$value":t.index_===pi?n="$key":(V(t.index_ instanceof wR,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Xe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Xe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Xe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function My(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends k0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=no("p:rest:"),this.listens_={}}listen(e,n,s,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=za.getListenId_(e,s),h={};this.listens_[c]=h;const f=Dy(e._queryParams);this.restRequest_(l+".json",f,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,s),_i(this.listens_,c)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",o(v,null)}})}unlisten(e,n){const s=za.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Dy(e._queryParams),s=e._path.toString(),o=new sl;return this.restRequest_(s+".json",n,(l,c)=>{let h=c;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eP(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=Us(h.responseText)}catch{Et("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,f)}else h.status!==401&&h.status!==404&&Et("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(){return{value:null,children:new Map}}function V0(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=le(e);t.children.has(s)||t.children.set(s,Wa());const o=t.children.get(s);e=xe(e),V0(o,e,n)}}function hd(t,e,n){t.value!==null?n(e,t.value):PR(t,(s,o)=>{const l=new we(e.toString()+"/"+s);hd(o,l,n)})}function PR(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&xt(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=10*1e3,RR=30*1e3,AR=300*1e3;class NR{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IR(e);const s=Ly+(RR-Ly)*Math.random();Ds(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;xt(e,(o,l)=>{l>0&&Pn(this.statsToReport_,o)&&(n[o]=l,s=!0)}),s&&this.server_.reportStats(n),Ds(this.reportStats_.bind(this),Math.floor(Math.random()*2*AR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function j0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=j0()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new Ha(ye(),n,this.revert)}}else return V(le(this.path)===e,"operationForChild called for unrelated child."),new Ha(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Ys(this.source,ye()):new Ys(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return de(this.path)?new Rr(this.source,ye(),this.snap.getImmediateChild(e)):new Rr(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new Rr(this.source,ye(),n.value):new qs(this.source,ye(),n)}else return V(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qs(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function MR(t,e,n,s){const o=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(ER(c.childName,c.snapshotNode))}),Cs(t,o,"child_removed",e,s,n),Cs(t,o,"child_added",e,s,n),Cs(t,o,"child_moved",l,s,n),Cs(t,o,"child_changed",e,s,n),Cs(t,o,"value",e,s,n),o}function Cs(t,e,n,s,o,l){const c=s.filter(h=>h.type===n);c.sort((h,f)=>OR(t,h,f)),c.forEach(h=>{const f=LR(t,h,l);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(f,t.query_))})})}function LR(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function OR(t,e,n){if(e.childName==null||n.childName==null)throw ki("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),o=new ue(n.childName,n.snapshotNode);return t.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){return{eventCache:t,serverCache:e}}function Ms(t,e,n,s){return ul(new Ar(e,n,s),t.serverCache)}function B0(t,e,n,s){return ul(t.eventCache,new Ar(e,n,s))}function fd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const bR=()=>(Fc||(Fc=new St(CI)),Fc);class Pe{static fromObject(e){let n=new Pe(null);return xt(e,(s,o)=>{n=n.set(new we(s),o)}),n}constructor(e,n=bR()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(de(e))return null;{const s=le(e),o=this.children.get(s);if(o!==null){const l=o.findRootMostMatchingPathAndValue(xe(e),n);return l!=null?{path:$e(new we(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=le(e),s=this.children.get(n);return s!==null?s.subtree(xe(e)):new Pe(null)}}set(e,n){if(de(e))return new Pe(n,this.children);{const s=le(e),l=(this.children.get(s)||new Pe(null)).set(xe(e),n),c=this.children.insert(s,l);return new Pe(this.value,c)}}remove(e){if(de(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=le(e),s=this.children.get(n);if(s){const o=s.remove(xe(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Pe(null):new Pe(this.value,l)}else return this}}get(e){if(de(e))return this.value;{const n=le(e),s=this.children.get(n);return s?s.get(xe(e)):null}}setTree(e,n){if(de(e))return n;{const s=le(e),l=(this.children.get(s)||new Pe(null)).setTree(xe(e),n);let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),new Pe(this.value,c)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,l)=>{s[o]=l.fold_($e(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(de(e))return null;{const l=le(e),c=this.children.get(l);return c?c.findOnPath_(xe(e),$e(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,s){if(de(e))return this;{this.value&&s(n,this.value);const o=le(e),l=this.children.get(o);return l?l.foreachOnPath_(xe(e),$e(n,o),s):new Pe(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_($e(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new Pe(null))}}function Ls(t,e,n){if(de(e))return new en(new Pe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let l=s.value;const c=Ct(o,e);return l=l.updateChild(c,n),new en(t.writeTree_.set(o,l))}else{const o=new Pe(n),l=t.writeTree_.setTree(e,o);return new en(l)}}}function Oy(t,e,n){let s=t;return xt(n,(o,l)=>{s=Ls(s,$e(e,o),l)}),s}function by(t,e){if(de(e))return en.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new en(n)}}function pd(t,e){return Lr(t,e)!=null}function Lr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Fy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(s,o)=>{e.push(new ue(s,o))}):t.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new ue(s,o.value))}),e}function Xn(t,e){if(de(e))return t;{const n=Lr(t,e);return n!=null?new en(new Pe(n)):new en(t.writeTree_.subtree(e))}}function md(t){return t.writeTree_.isEmpty()}function Ei(t,e){return U0(ye(),t.writeTree_,e)}function U0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(V(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=U0($e(t,o),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild($e(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e){return $0(e,t)}function FR(t,e,n,s,o){V(s>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(t.visibleWrites=Ls(t.visibleWrites,e,n)),t.lastWriteId=s}function VR(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function jR(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let o=s.visible,l=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&BR(h,s.path)?o=!1:Xt(s.path,h.path)&&(l=!0)),c--}if(o){if(l)return UR(t),!0;if(s.snap)t.visibleWrites=by(t.visibleWrites,s.path);else{const h=s.children;xt(h,f=>{t.visibleWrites=by(t.visibleWrites,$e(s.path,f))})}return!0}else return!1}function BR(t,e){if(t.snap)return Xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xt($e(t.path,n),e))return!0;return!1}function UR(t){t.visibleWrites=z0(t.allWrites,zR,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zR(t){return t.visible}function z0(t,e,n){let s=en.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const c=l.path;let h;if(l.snap)Xt(n,c)?(h=Ct(n,c),s=Ls(s,h,l.snap)):Xt(c,n)&&(h=Ct(c,n),s=Ls(s,ye(),l.snap.getChild(h)));else if(l.children){if(Xt(n,c))h=Ct(n,c),s=Oy(s,h,l.children);else if(Xt(c,n))if(h=Ct(c,n),de(h))s=Oy(s,ye(),l.children);else{const f=_i(l.children,le(h));if(f){const m=f.getChild(xe(h));s=Ls(s,ye(),m)}}}else throw ki("WriteRecord should have .snap or .children")}}return s}function W0(t,e,n,s,o){if(!s&&!o){const l=Lr(t.visibleWrites,e);if(l!=null)return l;{const c=Xn(t.visibleWrites,e);if(md(c))return n;if(n==null&&!pd(c,ye()))return null;{const h=n||re.EMPTY_NODE;return Ei(c,h)}}}else{const l=Xn(t.visibleWrites,e);if(!o&&md(l))return n;if(!o&&n==null&&!pd(l,ye()))return null;{const c=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(Xt(m.path,e)||Xt(e,m.path))},h=z0(t.allWrites,c,e),f=n||re.EMPTY_NODE;return Ei(h,f)}}}function WR(t,e,n){let s=re.EMPTY_NODE;const o=Lr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ve,(l,c)=>{s=s.updateImmediateChild(l,c)}),s;if(n){const l=Xn(t.visibleWrites,e);return n.forEachChild(Ve,(c,h)=>{const f=Ei(Xn(l,new we(c)),h);s=s.updateImmediateChild(c,f)}),Fy(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const l=Xn(t.visibleWrites,e);return Fy(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function HR(t,e,n,s,o){V(s||o,"Either existingEventSnap or existingServerSnap must exist");const l=$e(e,n);if(pd(t.visibleWrites,l))return null;{const c=Xn(t.visibleWrites,l);return md(c)?o.getChild(n):Ei(c,o.getChild(n))}}function $R(t,e,n,s){const o=$e(e,n),l=Lr(t.visibleWrites,o);if(l!=null)return l;if(s.isCompleteForChild(n)){const c=Xn(t.visibleWrites,o);return Ei(c,s.getNode().getImmediateChild(n))}else return null}function GR(t,e){return Lr(t.visibleWrites,e)}function KR(t,e,n,s,o,l,c){let h;const f=Xn(t.visibleWrites,e),m=Lr(f,ye());if(m!=null)h=m;else if(n!=null)h=Ei(f,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),v=l?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let C=v.getNext();for(;C&&g.length<o;)y(C,s)!==0&&g.push(C),C=v.getNext();return g}else return[]}function YR(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function $a(t,e,n,s){return W0(t.writeTree,t.treePath,e,n,s)}function mh(t,e){return WR(t.writeTree,t.treePath,e)}function Vy(t,e,n,s){return HR(t.writeTree,t.treePath,e,n,s)}function Ga(t,e){return GR(t.writeTree,$e(t.treePath,e))}function qR(t,e,n,s,o,l){return KR(t.writeTree,t.treePath,e,n,s,o,l)}function gh(t,e,n){return $R(t.writeTree,t.treePath,e,n)}function H0(t,e){return $0($e(t.treePath,e),t.writeTree)}function $0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,Gs(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,$s(s,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,Si(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,Gs(s,e.snapshotNode,o.oldSnap));else throw ki("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const G0=new XR;class yh{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gh(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Nr(this.viewCache_),l=qR(this.writes_,o,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){return{filter:t}}function JR(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function eA(t,e,n,s,o){const l=new QR;let c,h;if(n.type===Zt.OVERWRITE){const m=n;m.source.fromUser?c=gd(t,e,m.path,m.snap,s,o,l):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),c=Ka(t,e,m.path,m.snap,s,o,h,l))}else if(n.type===Zt.MERGE){const m=n;m.source.fromUser?c=nA(t,e,m.path,m.children,s,o,l):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=yd(t,e,m.path,m.children,s,o,h,l))}else if(n.type===Zt.ACK_USER_WRITE){const m=n;m.revert?c=sA(t,e,m.path,s,o,l):c=rA(t,e,m.path,m.affectedTree,s,o,l)}else if(n.type===Zt.LISTEN_COMPLETE)c=iA(t,e,n.path,s,l);else throw ki("Unknown operation type: "+n.type);const f=l.getChanges();return tA(e,c,f),{viewCache:c,changes:f}}function tA(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=fd(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(F0(fd(e)))}}function K0(t,e,n,s,o,l){const c=e.eventCache;if(Ga(s,n)!=null)return e;{let h,f;if(de(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Nr(e),g=m instanceof re?m:re.EMPTY_NODE,y=mh(s,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=$a(s,Nr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=le(n);if(m===".priority"){V(er(n)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const y=Vy(s,n,g,f);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=xe(n);let y;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const v=Vy(s,n,c.getNode(),f);v!=null?y=c.getNode().getImmediateChild(m).updateChild(g,v):y=c.getNode().getImmediateChild(m)}else y=gh(s,m,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),m,y,g,o,l):h=c.getNode()}}return Ms(e,h,c.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function Ka(t,e,n,s,o,l,c,h){const f=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(de(n))m=g.updateFullNode(f.getNode(),s,null);else if(g.filtersNodes()&&!f.isFiltered()){const C=f.getNode().updateChild(n,s);m=g.updateFullNode(f.getNode(),C,null)}else{const C=le(n);if(!f.isCompleteForPath(n)&&er(n)>1)return e;const k=xe(n),N=f.getNode().getImmediateChild(C).updateChild(k,s);C===".priority"?m=g.updatePriority(f.getNode(),N):m=g.updateChild(f.getNode(),C,N,k,G0,null)}const y=B0(e,m,f.isFullyInitialized()||de(n),g.filtersNodes()),v=new yh(o,y,l);return K0(t,y,n,o,v,h)}function gd(t,e,n,s,o,l,c){const h=e.eventCache;let f,m;const g=new yh(o,e,l);if(de(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,c),f=Ms(e,m,!0,t.filter.filtersNodes());else{const y=le(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),f=Ms(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=xe(n),C=h.getNode().getImmediateChild(y);let k;if(de(v))k=s;else{const A=g.getCompleteChild(y);A!=null?I0(v)===".priority"&&A.getChild(A0(v)).isEmpty()?k=A:k=A.updateChild(v,s):k=re.EMPTY_NODE}if(C.equals(k))f=e;else{const A=t.filter.updateChild(h.getNode(),y,k,v,g,c);f=Ms(e,A,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function jy(t,e){return t.eventCache.isCompleteForChild(e)}function nA(t,e,n,s,o,l,c){let h=e;return s.foreach((f,m)=>{const g=$e(n,f);jy(e,le(g))&&(h=gd(t,h,g,m,o,l,c))}),s.foreach((f,m)=>{const g=$e(n,f);jy(e,le(g))||(h=gd(t,h,g,m,o,l,c))}),h}function By(t,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function yd(t,e,n,s,o,l,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;de(n)?m=s:m=new Pe(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const C=e.serverCache.getNode().getImmediateChild(y),k=By(t,C,v);f=Ka(t,f,new we(y),k,o,l,c,h)}}),m.children.inorderTraversal((y,v)=>{const C=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!C){const k=e.serverCache.getNode().getImmediateChild(y),A=By(t,k,v);f=Ka(t,f,new we(y),A,o,l,c,h)}}),f}function rA(t,e,n,s,o,l,c){if(Ga(o,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(s.value!=null){if(de(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Ka(t,e,n,f.getNode().getChild(n),o,l,h,c);if(de(n)){let m=new Pe(null);return f.getNode().forEachChild(pi,(g,y)=>{m=m.set(new we(g),y)}),yd(t,e,n,m,o,l,h,c)}else return e}else{let m=new Pe(null);return s.foreach((g,y)=>{const v=$e(n,g);f.isCompleteForPath(v)&&(m=m.set(g,f.getNode().getChild(v)))}),yd(t,e,n,m,o,l,h,c)}}function iA(t,e,n,s,o){const l=e.serverCache,c=B0(e,l.getNode(),l.isFullyInitialized()||de(n),l.isFiltered());return K0(t,c,n,s,G0,o)}function sA(t,e,n,s,o,l){let c;if(Ga(s,n)!=null)return e;{const h=new yh(s,e,o),f=e.eventCache.getNode();let m;if(de(n)||le(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=$a(s,Nr(e));else{const y=e.serverCache.getNode();V(y instanceof re,"serverChildren would be complete if leaf node"),g=mh(s,y)}g=g,m=t.filter.updateFullNode(f,g,l)}else{const g=le(n);let y=gh(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?m=t.filter.updateChild(f,g,y,xe(n),h,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,re.EMPTY_NODE,xe(n),h,l):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=$a(s,Nr(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,l)))}return c=e.serverCache.isFullyInitialized()||Ga(s,ye())!=null,Ms(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new ch(s.getIndex()),l=TR(s);this.processor_=ZR(l);const c=n.serverCache,h=n.eventCache,f=o.updateFullNode(re.EMPTY_NODE,c.getNode(),null),m=l.updateFullNode(re.EMPTY_NODE,h.getNode(),null),g=new Ar(f,c.isFullyInitialized(),o.filtersNodes()),y=new Ar(m,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=ul(y,g),this.eventGenerator_=new DR(this.query_)}get query(){return this.query_}}function aA(t){return t.viewCache_.serverCache.getNode()}function lA(t,e){const n=Nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function Uy(t){return t.eventRegistrations_.length===0}function uA(t,e){t.eventRegistrations_.push(e)}function zy(t,e,n){const s=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(n,o);c&&s.push(c)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const c=t.eventRegistrations_[l];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return s}function Wy(t,e,n,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(V(Nr(t.viewCache_),"We should always have a full cache before handling merges"),V(fd(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=eA(t.processor_,o,e,n,s);return JR(t.processor_,l.viewCache),V(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,Y0(t,l.changes,l.viewCache.eventCache.getNode(),null)}function cA(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(l,c)=>{s.push(Si(l,c))}),n.isFullyInitialized()&&s.push(F0(n.getNode())),Y0(t,s,n.getNode(),e)}function Y0(t,e,n,s){const o=s?[s]:t.eventRegistrations_;return MR(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;class dA{constructor(){this.views=new Map}}function hA(t){V(!Ya,"__referenceConstructor has already been defined"),Ya=t}function fA(){return V(Ya,"Reference.ts has not been loaded"),Ya}function pA(t){return t.views.size===0}function vh(t,e,n,s){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return V(l!=null,"SyncTree gave us an op for an invalid query."),Wy(l,e,n,s)}else{let l=[];for(const c of t.views.values())l=l.concat(Wy(c,e,n,s));return l}}function mA(t,e,n,s,o){const l=e._queryIdentifier,c=t.views.get(l);if(!c){let h=$a(n,o?s:null),f=!1;h?f=!0:s instanceof re?(h=mh(n,s),f=!1):(h=re.EMPTY_NODE,f=!1);const m=ul(new Ar(h,f,!1),new Ar(s,o,!1));return new oA(e,m)}return c}function gA(t,e,n,s,o,l){const c=mA(t,e,s,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),uA(c,n),cA(c,n)}function yA(t,e,n,s){const o=e._queryIdentifier,l=[];let c=[];const h=tr(t);if(o==="default")for(const[f,m]of t.views.entries())c=c.concat(zy(m,n,s)),Uy(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||l.push(m.query));else{const f=t.views.get(o);f&&(c=c.concat(zy(f,n,s)),Uy(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return h&&!tr(t)&&l.push(new(fA())(e._repo,e._path)),{removed:l,events:c}}function q0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function mi(t,e){let n=null;for(const s of t.views.values())n=n||lA(s,e);return n}function Q0(t,e){if(e._queryParams.loadsAllData())return cl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function X0(t,e){return Q0(t,e)!=null}function tr(t){return cl(t)!=null}function cl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;function vA(t){V(!qa,"__referenceConstructor has already been defined"),qa=t}function _A(){return V(qa,"Reference.ts has not been loaded"),qa}let wA=1;class Hy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=YR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Z0(t,e,n,s,o){return FR(t.pendingWriteTree_,e,n,s,o),o?io(t,new Rr(j0(),e,n)):[]}function kr(t,e,n=!1){const s=VR(t.pendingWriteTree_,e);if(jR(t.pendingWriteTree_,e)){let l=new Pe(null);return s.snap!=null?l=l.set(ye(),!0):xt(s.children,c=>{l=l.set(new we(c),!0)}),io(t,new Ha(s.path,l,n))}else return[]}function dl(t,e,n){return io(t,new Rr(hh(),e,n))}function CA(t,e,n){const s=Pe.fromObject(n);return io(t,new qs(hh(),e,s))}function SA(t,e){return io(t,new Ys(hh(),e))}function EA(t,e,n){const s=wh(t,n);if(s){const o=Ch(s),l=o.path,c=o.queryId,h=Ct(l,e),f=new Ys(fh(c),h);return Sh(t,l,f)}else return[]}function vd(t,e,n,s,o=!1){const l=e._path,c=t.syncPointTree_.get(l);let h=[];if(c&&(e._queryIdentifier==="default"||X0(c,e))){const f=yA(c,e,n,s);pA(c)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=f.removed;if(h=f.events,!o){const g=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,C)=>tr(C));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const C=kA(v);for(let k=0;k<C.length;++k){const A=C[k],N=A.query,O=t1(t,A);t.listenProvider_.startListening(Os(N),Qa(t,N),O.hashFn,O.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(Os(e),null):m.forEach(v=>{const C=t.queryToTagMap.get(hl(v));t.listenProvider_.stopListening(Os(v),C)}))}PA(t,m)}return h}function xA(t,e,n,s){const o=wh(t,s);if(o!=null){const l=Ch(o),c=l.path,h=l.queryId,f=Ct(c,e),m=new Rr(fh(h),f,n);return Sh(t,c,m)}else return[]}function TA(t,e,n,s){const o=wh(t,s);if(o){const l=Ch(o),c=l.path,h=l.queryId,f=Ct(c,e),m=Pe.fromObject(n),g=new qs(fh(h),f,m);return Sh(t,c,g)}else return[]}function $y(t,e,n,s=!1){const o=e._path;let l=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,C)=>{const k=Ct(v,o);l=l||mi(C,k),c=c||tr(C)});let h=t.syncPointTree_.get(o);h?(c=c||tr(h),l=l||mi(h,ye())):(h=new dA,t.syncPointTree_=t.syncPointTree_.set(o,h));let f;l!=null?f=!0:(f=!1,l=re.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((C,k)=>{const A=mi(k,ye());A&&(l=l.updateImmediateChild(C,A))}));const m=X0(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=hl(e);V(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=IA();t.queryToTagMap.set(v,C),t.tagToQueryMap.set(C,v)}const g=ph(t.pendingWriteTree_,o);let y=gA(h,e,n,g,l,f);if(!m&&!c&&!s){const v=Q0(h,e);y=y.concat(RA(t,e,v))}return y}function _h(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(c,h)=>{const f=Ct(c,e),m=mi(h,f);if(m)return m});return W0(o,e,l,n,!0)}function io(t,e){return J0(e,t.syncPointTree_,null,ph(t.pendingWriteTree_,ye()))}function J0(t,e,n,s){if(de(t.path))return e1(t,e,n,s);{const o=e.get(ye());n==null&&o!=null&&(n=mi(o,ye()));let l=[];const c=le(t.path),h=t.operationForChild(c),f=e.children.get(c);if(f&&h){const m=n?n.getImmediateChild(c):null,g=H0(s,c);l=l.concat(J0(h,f,m,g))}return o&&(l=l.concat(vh(o,t,s,n))),l}}function e1(t,e,n,s){const o=e.get(ye());n==null&&o!=null&&(n=mi(o,ye()));let l=[];return e.children.inorderTraversal((c,h)=>{const f=n?n.getImmediateChild(c):null,m=H0(s,c),g=t.operationForChild(c);g&&(l=l.concat(e1(g,h,f,m)))}),o&&(l=l.concat(vh(o,t,s,n))),l}function t1(t,e){const n=e.query,s=Qa(t,n);return{hashFn:()=>(aA(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?EA(t,n._path,s):SA(t,n._path);{const l=xI(o,n);return vd(t,n,null,l)}}}}function Qa(t,e){const n=hl(e);return t.queryToTagMap.get(n)}function hl(t){return t._path.toString()+"$"+t._queryIdentifier}function wh(t,e){return t.tagToQueryMap.get(e)}function Ch(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function Sh(t,e,n){const s=t.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const o=ph(t.pendingWriteTree_,e);return vh(s,n,o,null)}function kA(t){return t.fold((e,n,s)=>{if(n&&tr(n))return[cl(n)];{let o=[];return n&&(o=q0(n)),xt(s,(l,c)=>{o=o.concat(c)}),o}})}function Os(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_A())(t._repo,t._path):t}function PA(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=hl(s),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function IA(){return wA++}function RA(t,e,n){const s=e._path,o=Qa(t,e),l=t1(t,n),c=t.listenProvider_.startListening(Os(e),o,l.hashFn,l.onComplete),h=t.syncPointTree_.subtree(s);if(o)V(!tr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((m,g,y)=>{if(!de(m)&&g&&tr(g))return[cl(g).query];{let v=[];return g&&(v=v.concat(q0(g).map(C=>C.query))),xt(y,(C,k)=>{v=v.concat(k)}),v}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(Os(g),Qa(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Eh(n)}node(){return this.node_}}class xh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$e(this.path_,e);return new xh(this.syncTree_,n)}node(){return _h(this.syncTree_,this.path_)}}const AA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Gy=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return NA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return DA(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},NA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},DA=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const o=e.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},MA=function(t,e,n,s){return Th(e,new xh(n,t),s)},n1=function(t,e,n){return Th(t,new Eh(e),n)};function Th(t,e,n){const s=t.getPriority().val(),o=Gy(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const c=t,h=Gy(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new qe(h,tt(o)):t}else{const c=t;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new qe(o))),c.forEachChild(Ve,(h,f)=>{const m=Th(f,e.getImmediateChild(h),n);m!==f&&(l=l.updateImmediateChild(h,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ph(t,e){let n=e instanceof we?e:new we(e),s=t,o=le(n);for(;o!==null;){const l=_i(s.node.children,o)||{children:{},childCount:0};s=new kh(o,s,l),n=xe(n),o=le(n)}return s}function Ai(t){return t.node.value}function r1(t,e){t.node.value=e,_d(t)}function i1(t){return t.node.childCount>0}function LA(t){return Ai(t)===void 0&&!i1(t)}function fl(t,e){xt(t.node.children,(n,s)=>{e(new kh(n,t,s))})}function s1(t,e,n,s){n&&e(t),fl(t,o=>{s1(o,e,!0)})}function OA(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function so(t){return new we(t.parent===null?t.name:so(t.parent)+"/"+t.name)}function _d(t){t.parent!==null&&bA(t.parent,t.name,t)}function bA(t,e,n){const s=LA(n),o=Pn(t.node.children,e);s&&o?(delete t.node.children[e],t.node.childCount--,_d(t)):!s&&!o&&(t.node.children[e]=n.node,t.node.childCount++,_d(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=/[\[\].#$\/\u0000-\u001F\u007F]/,VA=/[\[\].#$\u0000-\u001F\u007F]/,Vc=10*1024*1024,o1=function(t){return typeof t=="string"&&t.length!==0&&!FA.test(t)},a1=function(t){return typeof t=="string"&&t.length!==0&&!VA.test(t)},jA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),a1(t)},l1=function(t,e,n,s){s&&e===void 0||Ih(th(t,"value"),e,n)},Ih=function(t,e,n){const s=n instanceof we?new rR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Er(s));if(typeof e=="function")throw new Error(t+"contains a function "+Er(s)+" with contents = "+e.toString());if(a0(e))throw new Error(t+"contains "+e.toString()+" "+Er(s));if(typeof e=="string"&&e.length>Vc/3&&al(e)>Vc)throw new Error(t+"contains a string greater than "+Vc+" utf8 bytes "+Er(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(xt(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!o1(c)))throw new Error(t+" contains an invalid key ("+c+") "+Er(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iR(s,c),Ih(t,h,s),sR(s)}),o&&l)throw new Error(t+' contains ".value" child '+Er(s)+" in addition to actual children.")}},u1=function(t,e,n,s){if(!a1(n))throw new Error(th(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BA=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),u1(t,e,n)},c1=function(t,e){if(le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},UA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!o1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jA(n))throw new Error(th(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rh(t,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],l=o.getPath();n!==null&&!ah(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function d1(t,e,n){Rh(t,n),h1(t,s=>ah(s,e))}function kn(t,e,n){Rh(t,n),h1(t,s=>Xt(s,e)||Xt(e,s))}function h1(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const o=t.eventLists_[s];if(o){const l=o.path;e(l)?(WA(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ns&&at("event: "+n.toString()),Ri(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="repo_interrupt",$A=25;class GA{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wa(),this.transactionQueueTree_=new kh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KA(t,e,n){if(t.stats_=sh(t.repoInfo_),t.forceRestClient_||II())t.server_=new za(t.repoInfo_,(s,o,l,c)=>{Ky(t,s,o,l,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Sn(t.repoInfo_,e,(s,o,l,c)=>{Ky(t,s,o,l,c)},s=>{Yy(t,s)},s=>{YA(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=MI(t.repoInfo_,()=>new NR(t.stats_,t.server_)),t.infoData_=new kR,t.infoSyncTree_=new Hy({startListening:(s,o,l,c)=>{let h=[];const f=t.infoData_.getNode(s._path);return f.isEmpty()||(h=dl(t.infoSyncTree_,s._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Nh(t,"connected",!1),t.serverSyncTree_=new Hy({startListening:(s,o,l,c)=>(t.server_.listen(s,l,o,(h,f)=>{const m=c(h,f);kn(t.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{t.server_.unlisten(s,o)}})}function f1(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ah(t){return AA({timestamp:f1(t)})}function Ky(t,e,n,s,o){t.dataUpdateCount++;const l=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(s){const f=ba(n,m=>tt(m));c=TA(t.serverSyncTree_,l,f,o)}else{const f=tt(n);c=xA(t.serverSyncTree_,l,f,o)}else if(s){const f=ba(n,m=>tt(m));c=CA(t.serverSyncTree_,l,f)}else{const f=tt(n);c=dl(t.serverSyncTree_,l,f)}let h=l;c.length>0&&(h=pl(t,l)),kn(t.eventQueue_,h,c)}function Yy(t,e){Nh(t,"connected",e),e===!1&&QA(t)}function YA(t,e){xt(e,(n,s)=>{Nh(t,n,s)})}function Nh(t,e,n){const s=new we("/.info/"+e),o=tt(n);t.infoData_.updateSnapshot(s,o);const l=dl(t.infoSyncTree_,s,o);kn(t.eventQueue_,s,l)}function p1(t){return t.nextWriteId_++}function qA(t,e,n,s,o){Dh(t,"set",{path:e.toString(),value:n,priority:s});const l=Ah(t),c=tt(n,s),h=_h(t.serverSyncTree_,e),f=n1(c,h,l),m=p1(t),g=Z0(t.serverSyncTree_,e,f,m,!0);Rh(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,C)=>{const k=v==="ok";k||Et("set at "+e+" failed: "+v);const A=kr(t.serverSyncTree_,m,!k);kn(t.eventQueue_,e,A),JA(t,o,v,C)});const y=w1(t,e);pl(t,y),kn(t.eventQueue_,y,[])}function QA(t){Dh(t,"onDisconnectEvents");const e=Ah(t),n=Wa();hd(t.onDisconnect_,ye(),(o,l)=>{const c=MA(o,l,t.serverSyncTree_,e);V0(n,o,c)});let s=[];hd(n,ye(),(o,l)=>{s=s.concat(dl(t.serverSyncTree_,o,l));const c=w1(t,o);pl(t,c)}),t.onDisconnect_=Wa(),kn(t.eventQueue_,ye(),s)}function XA(t,e,n){let s;le(e._path)===".info"?s=$y(t.infoSyncTree_,e,n):s=$y(t.serverSyncTree_,e,n),d1(t.eventQueue_,e._path,s)}function m1(t,e,n){let s;le(e._path)===".info"?s=vd(t.infoSyncTree_,e,n):s=vd(t.serverSyncTree_,e,n),d1(t.eventQueue_,e._path,s)}function ZA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(HA)}function Dh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function JA(t,e,n,s){e&&Ri(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;s&&(l+=": "+s);const c=new Error(l);c.code=o,e(c)}})}function g1(t,e,n){return _h(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function Mh(t,e=t.transactionQueueTree_){if(e||ml(t,e),Ai(e)){const n=v1(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&eN(t,so(e),n)}else i1(e)&&fl(e,n=>{Mh(t,n)})}function eN(t,e,n){const s=n.map(m=>m.currentWriteId),o=g1(t,e,s);let l=o;const c=o.hash();for(let m=0;m<n.length;m++){const g=n[m];V(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ct(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const h=l.val(!0),f=e;t.server_.put(f.toString(),h,m=>{Dh(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(kr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ml(t,Ph(t.transactionQueueTree_,e)),Mh(t,t.transactionQueueTree_),kn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)Ri(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Et("transaction at "+f.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}pl(t,e)}},c)}function pl(t,e){const n=y1(t,e),s=so(n),o=v1(t,n);return tN(t,o,s),s}function tN(t,e,n){if(e.length===0)return;const s=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],m=Ct(n,f.path);let g=!1,y;if(V(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,o=o.concat(kr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=$A)g=!0,y="maxretry",o=o.concat(kr(t.serverSyncTree_,f.currentWriteId,!0));else{const v=g1(t,f.path,c);f.currentInputSnapshot=v;const C=e[h].update(v.val());if(C!==void 0){Ih("transaction failed: Data returned ",C,f.path);let k=tt(C);typeof C=="object"&&C!=null&&Pn(C,".priority")||(k=k.updatePriority(v.getPriority()));const N=f.currentWriteId,O=Ah(t),B=n1(k,v,O);f.currentOutputSnapshotRaw=k,f.currentOutputSnapshotResolved=B,f.currentWriteId=p1(t),c.splice(c.indexOf(N),1),o=o.concat(Z0(t.serverSyncTree_,f.path,B,f.currentWriteId,f.applyLocally)),o=o.concat(kr(t.serverSyncTree_,N,!0))}else g=!0,y="nodata",o=o.concat(kr(t.serverSyncTree_,f.currentWriteId,!0))}kn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}ml(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)Ri(s[h]);Mh(t,t.transactionQueueTree_)}function y1(t,e){let n,s=t.transactionQueueTree_;for(n=le(e);n!==null&&Ai(s)===void 0;)s=Ph(s,n),e=xe(e),n=le(e);return s}function v1(t,e){const n=[];return _1(t,e,n),n.sort((s,o)=>s.order-o.order),n}function _1(t,e,n){const s=Ai(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);fl(e,o=>{_1(t,o,n)})}function ml(t,e){const n=Ai(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,r1(e,n.length>0?n:void 0)}fl(e,s=>{ml(t,s)})}function w1(t,e){const n=so(y1(t,e)),s=Ph(t.transactionQueueTree_,e);return OA(s,o=>{jc(t,o)}),jc(t,s),s1(s,o=>{jc(t,o)}),n}function jc(t,e){const n=Ai(e);if(n){const s=[];let o=[],l=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(V(l===c-1,"All SENT items should be at beginning of queue."),l=c,n[c].status=3,n[c].abortReason="set"):(V(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(kr(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?r1(e,void 0):n.length=l+1,kn(t.eventQueue_,so(e),o);for(let c=0;c<s.length;c++)Ri(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function rN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const qy=function(t,e){const n=iN(t),s=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_I();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new _0(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new we(n.pathString)}},iN=function(t){let e="",n="",s="",o="",l="",c=!0,h="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=nN(t.substring(g,y)));const v=rN(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const k=e.indexOf(".");s=e.substring(0,k).toLowerCase(),n=e.substring(k+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:s,secure:c,scheme:h,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sN=(function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Qy.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let c=l.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Qy.charAt(e[o]);return V(c.length===20,"nextPushId: Length should be 20."),c}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class aN{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return de(this._path)?null:I0(this._path)}get ref(){return new ir(this._repo,this._path)}get _queryIdentifier(){const e=My(this._queryParams),n=rh(e);return n==="{}"?"default":n}get _queryObject(){return My(this._queryParams)}isEqual(e){if(e=Mr(e),!(e instanceof Lh))return!1;const n=this._repo===e._repo,s=ah(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nR(this._path)}}class ir extends Lh{constructor(e,n){super(e,n,new dh,!1)}get parent(){const e=A0(this._path);return e===null?null:new ir(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xa{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new we(e),s=Qs(this.ref,e);return new Xa(this._node.getChild(n),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Xa(o,Qs(this.ref,s),Ve)))}hasChild(e){const n=new we(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function S1(t,e){return t=Mr(t),t._checkNotDeleted("ref"),Qs(t._root,e)}function Qs(t,e){return t=Mr(t),le(t._path)===null?BA("child","path",e):u1("child","path",e),new ir(t._repo,$e(t._path,e))}function lN(t,e){t=Mr(t),c1("push",t._path),l1("push",e,t._path,!0);const n=f1(t._repo),s=sN(n),o=Qs(t,s),l=Qs(t,s);let c;return e!=null?c=uN(l,e).then(()=>l):c=Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function uN(t,e){t=Mr(t),c1("set",t._path),l1("set",e,t._path,!1);const n=new sl;return qA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class gl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new oN("value",this,new Xa(e.snapshotNode,new ir(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new aN(this,e,n):null}matches(e){return e instanceof gl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function cN(t,e,n,s,o){const l=new C1(n,void 0),c=new gl(l);return XA(t._repo,t,c),()=>m1(t._repo,t,c)}function dN(t,e,n,s){return cN(t,"value",e)}function hN(t,e,n){let s=null;const o=n?new C1(n):null;s=new gl(o),m1(t._repo,t,s)}hA(ir);vA(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="FIREBASE_DATABASE_EMULATOR_HOST",wd={};let pN=!1;function mN(t,e,n,s){const o=e.lastIndexOf(":"),l=e.substring(0,o),c=ol(l);t.repoInfo_=new _0(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function gN(t,e,n,s,o){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=qy(l,o),h=c.repoInfo,f;typeof process<"u"&&my&&(f=my[fN]),f?(l=`http://${f}?ns=${h.namespace}`,c=qy(l,o),h=c.repoInfo):c.repoInfo.secure;const m=new AI(t.name,t.options,e);UA("Invalid Firebase Database URL",c),de(c.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=vN(h,t,m,new RI(t,n));return new _N(g,t)}function yN(t,e){const n=wd[e];(!n||n[t.key]!==t)&&Tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ZA(t),delete n[t.key]}function vN(t,e,n,s){let o=wd[e.name];o||(o={},wd[e.name]=o);let l=o[t.toURLString()];return l&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new GA(t,pN,n,s),o[t.toURLString()]=l,l}class _N{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ir(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function wN(t=t0(),e){const n=X_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=B_("database");s&&CN(n,...s)}return n}function CN(t,e,n,s={}){t=Mr(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Fa(s,l.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Pa(Pa.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:W_(s.mockUserToken,t.app.options.projectId);c=new Pa(h)}ol(e)&&(z_(e),H_("Database",!0)),mN(l,o,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){fI(J_),zs(new wi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return gN(s,o,l,n)},"PUBLIC").setMultipleInstances(!0)),Qn(gy,yy,t),Qn(gy,yy,"esm2020")}Sn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Sn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};SN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebasestorage.googleapis.com",EN="storageBucket",xN=120*1e3,TN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Pi{constructor(e,n,s=0){super(Bc(e),`Firebase Storage: ${n} (${Bc(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function Bc(t){return"storage/"+t}function kN(){const t="An unknown error occurred, please check the error payload for server response.";return new cn(un.UNKNOWN,t)}function PN(){return new cn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IN(){return new cn(un.CANCELED,"User canceled the upload/download.")}function RN(t){return new cn(un.INVALID_URL,"Invalid URL '"+t+"'.")}function AN(t){return new cn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Xy(t){return new cn(un.INVALID_ARGUMENT,t)}function x1(){return new cn(un.APP_DELETED,"The Firebase app was deleted.")}function NN(t){return new cn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(s.path==="")return s;throw AN(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${g}/b/${o}/o${v}`,"i"),k={bucket:1,path:3},A=n===E1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",O=new RegExp(`^https?://${A}/${o}/${N}`,"i"),U=[{regex:h,indices:f,postModify:l},{regex:C,indices:k,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<U.length;G++){const z=U[G],X=z.regex.exec(e);if(X){const he=X[z.indices.bucket];let Z=X[z.indices.path];Z||(Z=""),s=new Jt(he,Z),z.postModify(s);break}}if(s==null)throw RN(e);return s}}class DN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e,n){let s=1,o=null,l=null,c=!1,h=0;function f(){return h===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function y(N){o=setTimeout(()=>{o=null,t(C,f())},N)}function v(){l&&clearTimeout(l)}function C(N,...O){if(m){v();return}if(N){v(),g.call(null,N,...O);return}if(f()||c){v(),g.call(null,N,...O);return}s<64&&(s*=2);let U;h===1?(h=2,U=0):U=(s+Math.random())*1e3,y(U)}let k=!1;function A(N){k||(k=!0,v(),!m&&(o!==null?(N||(h=2),clearTimeout(o),y(0)):N||(h=1)))}return y(0),l=setTimeout(()=>{c=!0,A(!0)},n),A}function LN(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){return t!==void 0}function Zy(t,e,n,s){if(s<e)throw Xy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Xy(`Invalid value for '${t}'. Expected ${n} or less.`)}function bN(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,s,o,l,c,h,f,m,g,y,v=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,A)=>{this.resolve_=k,this.reject_=A,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Ea(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Za.NO_ERROR,f=l.getStatus();if(!h||FN(f,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Za.ABORT;s(!1,new Ea(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new Ea(m,l))})},n=(s,o)=>{const l=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());ON(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=kN();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?x1():IN();c(f)}else{const f=PN();c(f)}};this.canceled_?n(!1,new Ea(!1,null,!0)):this.backoffId_=MN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ea{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function jN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WN(t,e,n,s,o,l,c=!0,h=!1){const f=bN(t.urlParams),m=t.url+f,g=Object.assign({},t.headers);return UN(g,e),jN(g,n),BN(g,l),zN(g,s),new VN(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $N(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ja(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $N(this._location.path)}get storage(){return this._service}get parent(){const e=HN(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new Ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NN(e)}}function Jy(t,e){const n=e?.[EN];return n==null?null:Jt.makeFromBucketSpec(n,t)}function GN(t,e,n,s={}){t.host=`${e}:${n}`;const o=ol(e);o&&(z_(`https://${t.host}/b`),H_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:W_(l,t.app.options.projectId))}class KN{constructor(e,n,s,o,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=E1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xN,this._maxUploadRetryTime=TN,this._requests=new Set,o!=null?this._bucket=Jt.makeFromBucketSpec(o,this._host):this._bucket=Jy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=Jy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Z_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ja(this,e)}_makeRequest(e,n,s,o,l=!0){if(this._deleted)return new DN(x1());{const c=WN(e,this._appId,s,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const ev="@firebase/storage",tv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="storage";function YN(t=t0(),e){t=Mr(t);const s=X_(t,T1).getImmediate({identifier:e}),o=B_("storage");return o&&qN(s,...o),s}function qN(t,e,n,s={}){GN(t,e,n,s)}function QN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new KN(n,s,o,e,J_)}function XN(){zs(new wi(T1,QN,"PUBLIC").setMultipleInstances(!0)),Qn(ev,tv,""),Qn(ev,tv,"esm2020")}XN();var _r={};const ZN={apiKey:_r.REACT_APP_FIREBASE_API_KEY||"AIzaSyCauC5NvMol_9fX0i2q7wI8zht1xKdS2v4",authDomain:_r.REACT_APP_FIREBASE_AUTH_DOMAIN||"aster-music-player.firebaseapp.com",databaseURL:_r.REACT_APP_FIREBASE_DATABASE_URL||"https://aster-music-player-default-rtdb.firebaseio.com/",projectId:_r.REACT_APP_FIREBASE_PROJECT_ID||"aster-music-player",storageBucket:_r.REACT_APP_FIREBASE_STORAGE_BUCKET||"aster-music-player.firebasestorage.app",messagingSenderId:_r.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"764474066780",appId:_r.REACT_APP_FIREBASE_APP_ID||"1:764474066780:web:45430a3130f383aa8aa399"},k1=e0(ZN),Oh=wN(k1);YN(k1);const P1=async t=>{try{const e=S1(Oh,"music-tracks"),n={...t,createdAt:Date.now()},s=await lN(e,n);return console.log("  :",s.key),s.key}catch(e){throw console.error("    :",e),e}},I1=t=>{const e=S1(Oh,"music-tracks"),n=dN(e,s=>{const o=s.val();if(o){const l=Object.entries(o).map(([c,h])=>({id:c,...h}));l.sort((c,h)=>h.createdAt-c.createdAt),t(l)}else t([])});return()=>hN(e,"value",n)},bh=async t=>{try{const e={name:t.name,title:`${t.name}  `,artist:"Aster AI",duration:t.duration||60,audioUrl:t.audioUrl,charmTraits:t.charmTraits,source:"aster-alarm"};return await P1(e)}catch(e){throw console.error("Alarm    :",e),e}},JN=Object.freeze(Object.defineProperty({__proto__:null,addMusicFromAlarm:bh,addMusicTrack:P1,database:Oh,subscribeMusicTracks:I1},Symbol.toStringTag,{value:"Module"})),eD=()=>I.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",viewBox:"0 0 1000 800",children:[I.jsx("defs",{children:I.jsxs("linearGradient",{id:"starGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[I.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),I.jsx("stop",{offset:"100%",stopColor:"#67e8f9"})]})}),I.jsx(Ts.path,{d:"M100,100 L200,150 L300,120 L400,180 L500,140",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:.5}}),I.jsx(Ts.path,{d:"M600,200 L700,250 L800,220 L900,280",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:1}}),I.jsx(Ts.path,{d:"M150,400 L250,450 L350,420 L450,480 L550,440",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:1.5}}),[{x:100,y:100},{x:200,y:150},{x:300,y:120},{x:400,y:180},{x:500,y:140},{x:600,y:200},{x:700,y:250},{x:800,y:220},{x:900,y:280},{x:150,y:400},{x:250,y:450},{x:350,y:420},{x:450,y:480},{x:550,y:440}].map((t,e)=>I.jsx(Ts.circle,{cx:t.x,cy:t.y,r:"2",fill:"url(#starGradient)",initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1,1.5,1],opacity:[0,1,.7,1,.8]},transition:{duration:2,delay:.5+e*.1,repeat:1/0,repeatDelay:3+e*.2}},e))]});function tD(){const[t,e]=Q.useState([]),[n,s]=Q.useState(null),[o,l]=Q.useState(!0);Q.useEffect(()=>{const h=async()=>{const y=new URLSearchParams(window.location.search).get("auto-add");if(y)try{const v=JSON.parse(decodeURIComponent(y));console.log(" Alarm   :",v);const{addMusicFromAlarm:C}=await FC(async()=>{const{addMusicFromAlarm:k}=await Promise.resolve().then(()=>JN);return{addMusicFromAlarm:k}},void 0);await C({name:v.name,audioUrl:v.audioUrl,charmTraits:v.charmTraits,duration:v.duration}),console.log(" Firebase   !"),window.history.replaceState({},document.title,window.location.pathname)}catch(v){console.error("    :",v)}},f=async()=>{try{const g=I1(y=>{const v=y.map(C=>({id:C.id||"",name:C.name,title:C.title,artist:C.artist,duration:C.duration,audioUrl:C.audioUrl,traits:C.charmTraits}));e(v),v.length>0&&!n&&s(v[0]),l(!1)});return setTimeout(()=>{t.length===0&&m()},5e3),()=>g()}catch(g){console.error("Firebase  ,   :",g),m()}},m=()=>{const g=[{id:"1",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:"",stage:6},{charm_name:"",stage:5},{charm_name:"",stage:4}],duration:60,audioUrl:""},{id:"2",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:" ",stage:6},{charm_name:" ",stage:5},{charm_name:" ",stage:4}],duration:45,audioUrl:""},{id:"3",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:"",stage:8},{charm_name:"",stage:7},{charm_name:"",stage:6}],duration:90,audioUrl:""}];e(g),g.length>0&&s(g[0]),l(!1)};h().then(()=>{f()})},[]);const c=h=>{s(h)};return I.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[I.jsx(eD,{}),I.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((h,f)=>I.jsx(Ts.div,{className:"absolute w-1 h-1 bg-cyan-300 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[.3,1,.3],scale:[.5,1.2,.5]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},f))}),I.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:o?I.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:I.jsxs("div",{className:"text-white flex flex-col items-center gap-4",children:[I.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin"}),I.jsx("p",{children:"  ..."})]})}):I.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 max-w-7xl mx-auto",style:{height:"calc(100vh - 80px)"},children:[I.jsx("div",{className:"flex items-center justify-center",children:n&&I.jsx(sS,{track:n})}),I.jsx("div",{style:{height:"calc(100vh - 80px)"},children:I.jsx(oS,{tracks:t,currentTrack:n,onTrackSelect:c})})]})})]})}const R1=async t=>{try{console.log("   :",t);const e=await bh(t);return console.log("  ! Track ID:",e),{success:!0,trackId:e,message:"   ."}}catch(e){return console.error("  :",e),{success:!1,error:e instanceof Error?e.message:"   ",message:"  ."}}},nD=t=>{const e={empathy:[""," ","",""," "," ",""],responsibility:["","","","","","",""],curiosity:["",""," ",""," ",""," ",""],stability:["",""," ",""," "," ","",""],morality:["","",""," ","",""],humor:[" "," "," ","   ","    "," "],passion:[" ","","  ","","",""," "]},n={};t.forEach(o=>{for(const[l,c]of Object.entries(e))if(c.some(h=>o.charm_name.includes(h)||h.includes(o.charm_name))){n[l]=(n[l]||0)+o.stage;break}});const s=Object.entries(n).sort(([,o],[,l])=>l-o)[0];return s?s[0]:"passion"},rD=async()=>await R1({name:" ",audioUrl:"https://example.com/test-audio.mp3",charmTraits:[{charm_name:"",stage:8},{charm_name:" ",stage:6},{charm_name:"",stage:7}],duration:45});typeof window<"u"&&(window.AsterPlayerAPI={uploadMusic:R1,analyzeDominantCharm:nD,testUpload:rD});window.addEventListener("message",async t=>{if(t.origin!=="https://aster-alarm.vercel.app")return;const{type:e,data:n}=t.data;if(e==="MUSIC_GENERATED")try{console.log(" Alarm  :",n);const s=await bh({name:n.userName||"",audioUrl:n.audioUrl,charmTraits:n.charmTraits||[],duration:n.duration||60});console.log("    :",s),t.source?.postMessage({type:"MUSIC_UPLOAD_SUCCESS",trackId:s},t.origin)}catch(s){console.error("    :",s),t.source?.postMessage({type:"MUSIC_UPLOAD_ERROR",error:s.message},t.origin)}});LC.createRoot(document.getElementById("root")).render(I.jsx(tD,{}));
