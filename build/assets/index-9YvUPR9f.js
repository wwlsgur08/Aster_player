(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var dc={exports:{}},gs={},hc={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function RC(){if(Fm)return le;Fm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,P={};function N(T,M,oe){this.props=T,this.context=M,this.refs=P,this.updater=oe||C}N.prototype.isReactComponent={},N.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=N.prototype;function B(T,M,oe){this.props=T,this.context=M,this.refs=P,this.updater=oe||C}var U=B.prototype=new O;U.constructor=B,x(U,N.prototype),U.isPureReactComponent=!0;var H=Array.isArray,G=Object.prototype.hasOwnProperty,Y={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function q(T,M,oe){var de,pe={},me=null,Ce=null;if(M!=null)for(de in M.ref!==void 0&&(Ce=M.ref),M.key!==void 0&&(me=""+M.key),M)G.call(M,de)&&!se.hasOwnProperty(de)&&(pe[de]=M[de]);var ve=arguments.length-2;if(ve===1)pe.children=oe;else if(1<ve){for(var Re=Array(ve),kt=0;kt<ve;kt++)Re[kt]=arguments[kt+2];pe.children=Re}if(T&&T.defaultProps)for(de in ve=T.defaultProps,ve)pe[de]===void 0&&(pe[de]=ve[de]);return{$$typeof:t,type:T,key:me,ref:Ce,props:pe,_owner:Y.current}}function Ne(T,M){return{$$typeof:t,type:T.type,key:M,ref:T.ref,props:T.props,_owner:T._owner}}function Oe(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ft(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(oe){return M[oe]})}var Tt=/\/+/g;function ut(T,M){return typeof T=="object"&&T!==null&&T.key!=null?ft(""+T.key):M.toString(36)}function pt(T,M,oe,de,pe){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var Ce=!1;if(T===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(T.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=T,pe=pe(Ce),T=de===""?"."+ut(Ce,0):de,H(pe)?(oe="",T!=null&&(oe=T.replace(Tt,"$&/")+"/"),pt(pe,M,oe,"",function(kt){return kt})):pe!=null&&(Oe(pe)&&(pe=Ne(pe,oe+(!pe.key||Ce&&Ce.key===pe.key?"":(""+pe.key).replace(Tt,"$&/")+"/")+T)),M.push(pe)),1;if(Ce=0,de=de===""?".":de+":",H(T))for(var ve=0;ve<T.length;ve++){me=T[ve];var Re=de+ut(me,ve);Ce+=pt(me,M,oe,Re,pe)}else if(Re=v(T),typeof Re=="function")for(T=Re.call(T),ve=0;!(me=T.next()).done;)me=me.value,Re=de+ut(me,ve++),Ce+=pt(me,M,oe,Re,pe);else if(me==="object")throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Ut(T,M,oe){if(T==null)return T;var de=[],pe=0;return pt(T,de,"","",function(me){return M.call(oe,me,pe++)}),de}function ct(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(oe){(T._status===0||T._status===-1)&&(T._status=1,T._result=oe)},function(oe){(T._status===0||T._status===-1)&&(T._status=2,T._result=oe)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var ae={current:null},j={transition:null},J={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:j,ReactCurrentOwner:Y};function W(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Ut,forEach:function(T,M,oe){Ut(T,function(){M.apply(this,arguments)},oe)},count:function(T){var M=0;return Ut(T,function(){M++}),M},toArray:function(T){return Ut(T,function(M){return M})||[]},only:function(T){if(!Oe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},le.Component=N,le.Fragment=n,le.Profiler=o,le.PureComponent=B,le.StrictMode=s,le.Suspense=f,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,le.act=W,le.cloneElement=function(T,M,oe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var de=x({},T.props),pe=T.key,me=T.ref,Ce=T._owner;if(M!=null){if(M.ref!==void 0&&(me=M.ref,Ce=Y.current),M.key!==void 0&&(pe=""+M.key),T.type&&T.type.defaultProps)var ve=T.type.defaultProps;for(Re in M)G.call(M,Re)&&!se.hasOwnProperty(Re)&&(de[Re]=M[Re]===void 0&&ve!==void 0?ve[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)de.children=oe;else if(1<Re){ve=Array(Re);for(var kt=0;kt<Re;kt++)ve[kt]=arguments[kt+2];de.children=ve}return{$$typeof:t,type:T.type,key:pe,ref:me,props:de,_owner:Ce}},le.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},le.createElement=q,le.createFactory=function(T){var M=q.bind(null,T);return M.type=T,M},le.createRef=function(){return{current:null}},le.forwardRef=function(T){return{$$typeof:h,render:T}},le.isValidElement=Oe,le.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:ct}},le.memo=function(T,M){return{$$typeof:m,type:T,compare:M===void 0?null:M}},le.startTransition=function(T){var M=j.transition;j.transition={};try{T()}finally{j.transition=M}},le.unstable_act=W,le.useCallback=function(T,M){return ae.current.useCallback(T,M)},le.useContext=function(T){return ae.current.useContext(T)},le.useDebugValue=function(){},le.useDeferredValue=function(T){return ae.current.useDeferredValue(T)},le.useEffect=function(T,M){return ae.current.useEffect(T,M)},le.useId=function(){return ae.current.useId()},le.useImperativeHandle=function(T,M,oe){return ae.current.useImperativeHandle(T,M,oe)},le.useInsertionEffect=function(T,M){return ae.current.useInsertionEffect(T,M)},le.useLayoutEffect=function(T,M){return ae.current.useLayoutEffect(T,M)},le.useMemo=function(T,M){return ae.current.useMemo(T,M)},le.useReducer=function(T,M,oe){return ae.current.useReducer(T,M,oe)},le.useRef=function(T){return ae.current.useRef(T)},le.useState=function(T){return ae.current.useState(T)},le.useSyncExternalStore=function(T,M,oe){return ae.current.useSyncExternalStore(T,M,oe)},le.useTransition=function(){return ae.current.useTransition()},le.version="18.3.1",le}var Vm;function Ed(){return Vm||(Vm=1,hc.exports=RC()),hc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function AC(){if(jm)return gs;jm=1;var t=Ed(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,y={},v=null,C=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(C=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:v,ref:C,props:y,_owner:o.current}}return gs.Fragment=n,gs.jsx=c,gs.jsxs=c,gs}var Bm;function NC(){return Bm||(Bm=1,dc.exports=AC()),dc.exports}var R=NC(),ya={},fc={exports:{}},wt={},pc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function DC(){return Um||(Um=1,(function(t){function e(j,J){var W=j.length;j.push(J);e:for(;0<W;){var T=W-1>>>1,M=j[T];if(0<o(M,J))j[T]=J,j[W]=M,W=T;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var J=j[0],W=j.pop();if(W!==J){j[0]=W;e:for(var T=0,M=j.length,oe=M>>>1;T<oe;){var de=2*(T+1)-1,pe=j[de],me=de+1,Ce=j[me];if(0>o(pe,W))me<M&&0>o(Ce,pe)?(j[T]=Ce,j[me]=W,T=me):(j[T]=pe,j[de]=W,T=de);else if(me<M&&0>o(Ce,W))j[T]=Ce,j[me]=W,T=me;else break e}}return J}function o(j,J){var W=j.sortIndex-J.sortIndex;return W!==0?W:j.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,y=null,v=3,C=!1,x=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(j){for(var J=n(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=j)s(m),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(m)}}function H(j){if(P=!1,U(j),!x)if(n(f)!==null)x=!0,ct(G);else{var J=n(m);J!==null&&ae(H,J.startTime-j)}}function G(j,J){x=!1,P&&(P=!1,O(q),q=-1),C=!0;var W=v;try{for(U(J),y=n(f);y!==null&&(!(y.expirationTime>J)||j&&!ft());){var T=y.callback;if(typeof T=="function"){y.callback=null,v=y.priorityLevel;var M=T(y.expirationTime<=J);J=t.unstable_now(),typeof M=="function"?y.callback=M:y===n(f)&&s(f),U(J)}else s(f);y=n(f)}if(y!==null)var oe=!0;else{var de=n(m);de!==null&&ae(H,de.startTime-J),oe=!1}return oe}finally{y=null,v=W,C=!1}}var Y=!1,se=null,q=-1,Ne=5,Oe=-1;function ft(){return!(t.unstable_now()-Oe<Ne)}function Tt(){if(se!==null){var j=t.unstable_now();Oe=j;var J=!0;try{J=se(!0,j)}finally{J?ut():(Y=!1,se=null)}}else Y=!1}var ut;if(typeof B=="function")ut=function(){B(Tt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,Ut=pt.port2;pt.port1.onmessage=Tt,ut=function(){Ut.postMessage(null)}}else ut=function(){N(Tt,0)};function ct(j){se=j,Y||(Y=!0,ut())}function ae(j,J){q=N(function(){j(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||C||(x=!0,ct(G))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var W=v;v=J;try{return j()}finally{v=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,J){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=v;v=j;try{return J()}finally{v=W}},t.unstable_scheduleCallback=function(j,J,W){var T=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=W+M,j={id:g++,callback:J,priorityLevel:j,startTime:W,expirationTime:M,sortIndex:-1},W>T?(j.sortIndex=W,e(m,j),n(f)===null&&j===n(m)&&(P?(O(q),q=-1):P=!0,ae(H,W-T))):(j.sortIndex=M,e(f,j),x||C||(x=!0,ct(G))),j},t.unstable_shouldYield=ft,t.unstable_wrapCallback=function(j){var J=v;return function(){var W=v;v=J;try{return j.apply(this,arguments)}finally{v=W}}}})(mc)),mc}var zm;function MC(){return zm||(zm=1,pc.exports=DC()),pc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function LC(){if(Wm)return wt;Wm=1;var t=Ed(),e=MC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return f.call(y,r)?!0:f.call(g,r)?!1:m.test(r)?y[r]=!0:(g[r]=!0,!1)}function C(r,i,a,u){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,i,a,u){if(i===null||typeof i>"u"||C(r,i,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(r,i,a,u,d,p,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=p,this.removeEmptyString=_}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];N[i]=new P(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,B);N[i]=new P(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,B);N[i]=new P(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,B);N[i]=new P(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,i,a,u){var d=N.hasOwnProperty(i)?N[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,a,d,u)&&(a=null),u||d===null?v(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,u=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?r.setAttributeNS(u,i,a):r.setAttribute(i,a))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Y=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),ft=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),j=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var W=Object.assign,T;function M(r){if(T===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+r}var oe=!1;function de(r,i){if(!r||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(A){var u=A}Reflect.construct(r,[],i)}else{try{i.call()}catch(A){u=A}r.call(i.prototype)}else{try{throw Error()}catch(A){u=A}r()}}catch(A){if(A&&u&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),p=u.stack.split(`
`),_=d.length-1,w=p.length-1;1<=_&&0<=w&&d[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(d[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||d[_]!==p[w]){var S=`
`+d[_].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=_&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?M(r):""}function pe(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=de(r.type,!1),r;case 11:return r=de(r.type.render,!1),r;case 1:return r=de(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case se:return"Fragment";case Y:return"Portal";case Ne:return"Profiler";case q:return"StrictMode";case ut:return"Suspense";case pt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ft:return(r.displayName||"Context")+".Consumer";case Oe:return(r._context.displayName||"Context")+".Provider";case Tt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ut:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case ct:i=r._payload,r=r._init;try{return me(r(i))}catch{}}return null}function Ce(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kt(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function oo(r){r._valueTracker||(r._valueTracker=kt(r))}function zh(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=Re(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function vl(r,i){var a=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Wh(r,i){var a=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;a=ve(i.value!=null?i.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function $h(r,i){i=i.checked,i!=null&&U(r,"checked",i,!1)}function _l(r,i){$h(r,i);var a=ve(i.value),u=i.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?wl(r,i.type,a):i.hasOwnProperty("defaultValue")&&wl(r,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Hh(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function wl(r,i,a){(i!=="number"||ao(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Ni=Array.isArray;function Or(r,i,a,u){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&u&&(r[a].defaultSelected=!0)}else{for(a=""+ve(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Cl(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Gh(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Ni(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:ve(a)}}function Kh(r,i){var a=ve(i.value),u=ve(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function Yh(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function qh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?qh(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var lo,Qh=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,u,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,u,d)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Di(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M1=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(r){M1.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Mi[i]=Mi[r]})});function Xh(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Mi.hasOwnProperty(r)&&Mi[r]?(""+i).trim():i+"px"}function Zh(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=Xh(a,i[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,d):r[a]=d}}var L1=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(r,i){if(i){if(L1[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function xl(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=null;function kl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pl=null,br=null,Fr=null;function Jh(r){if(r=ts(r)){if(typeof Pl!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Do(i),Pl(r.stateNode,r.type,i))}}function ef(r){br?Fr?Fr.push(r):Fr=[r]:br=r}function tf(){if(br){var r=br,i=Fr;if(Fr=br=null,Jh(r),i)for(r=0;r<i.length;r++)Jh(i[r])}}function nf(r,i){return r(i)}function rf(){}var Il=!1;function sf(r,i,a){if(Il)return r(i,a);Il=!0;try{return nf(r,i,a)}finally{Il=!1,(br!==null||Fr!==null)&&(rf(),tf())}}function Li(r,i){var a=r.stateNode;if(a===null)return null;var u=Do(a);if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Rl=!1;if(h)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Rl=!1}function O1(r,i,a,u,d,p,_,w,S){var A=Array.prototype.slice.call(arguments,3);try{i.apply(a,A)}catch(L){this.onError(L)}}var bi=!1,uo=null,co=!1,Al=null,b1={onError:function(r){bi=!0,uo=r}};function F1(r,i,a,u,d,p,_,w,S){bi=!1,uo=null,O1.apply(b1,arguments)}function V1(r,i,a,u,d,p,_,w,S){if(F1.apply(this,arguments),bi){if(bi){var A=uo;bi=!1,uo=null}else throw Error(n(198));co||(co=!0,Al=A)}}function sr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function of(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function af(r){if(sr(r)!==r)throw Error(n(188))}function j1(r){var i=r.alternate;if(!i){if(i=sr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,u=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return af(d),r;if(p===u)return af(d),i;p=p.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=p;else{for(var _=!1,w=d.child;w;){if(w===a){_=!0,a=d,u=p;break}if(w===u){_=!0,u=d,a=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===a){_=!0,a=p,u=d;break}if(w===u){_=!0,u=p,a=d;break}w=w.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function lf(r){return r=j1(r),r!==null?uf(r):null}function uf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=uf(r);if(i!==null)return i;r=r.sibling}return null}var cf=e.unstable_scheduleCallback,df=e.unstable_cancelCallback,B1=e.unstable_shouldYield,U1=e.unstable_requestPaint,je=e.unstable_now,z1=e.unstable_getCurrentPriorityLevel,Nl=e.unstable_ImmediatePriority,hf=e.unstable_UserBlockingPriority,ho=e.unstable_NormalPriority,W1=e.unstable_LowPriority,ff=e.unstable_IdlePriority,fo=null,tn=null;function $1(r){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fo,r,void 0,(r.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:K1,H1=Math.log,G1=Math.LN2;function K1(r){return r>>>=0,r===0?32:31-(H1(r)/G1|0)|0}var po=64,mo=4194304;function Fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function go(r,i){var a=r.pendingLanes;if(a===0)return 0;var u=0,d=r.suspendedLanes,p=r.pingedLanes,_=a&268435455;if(_!==0){var w=_&~d;w!==0?u=Fi(w):(p&=_,p!==0&&(u=Fi(p)))}else _=a&~d,_!==0?u=Fi(_):p!==0&&(u=Fi(p));if(u===0)return 0;if(i!==0&&i!==u&&(i&d)===0&&(d=u&-u,p=i&-i,d>=p||d===16&&(p&4194240)!==0))return i;if((u&4)!==0&&(u|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)a=31-zt(i),d=1<<a,u|=r[a],i&=~d;return u}function Y1(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var _=31-zt(p),w=1<<_,S=d[_];S===-1?((w&a)===0||(w&u)!==0)&&(d[_]=Y1(w,i)):S<=i&&(r.expiredLanes|=w),p&=~w}}function Dl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function pf(){var r=po;return po<<=1,(po&4194240)===0&&(po=64),r}function Ml(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Vi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-zt(i),r[i]=a}function Q1(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-zt(a),p=1<<d;i[d]=0,u[d]=-1,r[d]=-1,a&=~p}}function Ll(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-zt(a),d=1<<u;d&i|r[u]&i&&(r[u]|=i),a&=~d}}var _e=0;function mf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var gf,Ol,yf,vf,_f,bl=!1,yo=[],Rn=null,An=null,Nn=null,ji=new Map,Bi=new Map,Dn=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wf(r,i){switch(r){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(i.pointerId)}}function Ui(r,i,a,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=ts(i),i!==null&&Ol(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Z1(r,i,a,u,d){switch(i){case"focusin":return Rn=Ui(Rn,r,i,a,u,d),!0;case"dragenter":return An=Ui(An,r,i,a,u,d),!0;case"mouseover":return Nn=Ui(Nn,r,i,a,u,d),!0;case"pointerover":var p=d.pointerId;return ji.set(p,Ui(ji.get(p)||null,r,i,a,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Bi.set(p,Ui(Bi.get(p)||null,r,i,a,u,d)),!0}return!1}function Cf(r){var i=or(r.target);if(i!==null){var a=sr(i);if(a!==null){if(i=a.tag,i===13){if(i=of(a),i!==null){r.blockedOn=i,_f(r.priority,function(){yf(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Vl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Tl=u,a.target.dispatchEvent(u),Tl=null}else return i=ts(a),i!==null&&Ol(i),r.blockedOn=a,!1;i.shift()}return!0}function Sf(r,i,a){vo(r)&&a.delete(i)}function J1(){bl=!1,Rn!==null&&vo(Rn)&&(Rn=null),An!==null&&vo(An)&&(An=null),Nn!==null&&vo(Nn)&&(Nn=null),ji.forEach(Sf),Bi.forEach(Sf)}function zi(r,i){r.blockedOn===i&&(r.blockedOn=null,bl||(bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,J1)))}function Wi(r){function i(d){return zi(d,r)}if(0<yo.length){zi(yo[0],r);for(var a=1;a<yo.length;a++){var u=yo[a];u.blockedOn===r&&(u.blockedOn=null)}}for(Rn!==null&&zi(Rn,r),An!==null&&zi(An,r),Nn!==null&&zi(Nn,r),ji.forEach(i),Bi.forEach(i),a=0;a<Dn.length;a++)u=Dn[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Dn.length&&(a=Dn[0],a.blockedOn===null);)Cf(a),a.blockedOn===null&&Dn.shift()}var Vr=H.ReactCurrentBatchConfig,_o=!0;function ew(r,i,a,u){var d=_e,p=Vr.transition;Vr.transition=null;try{_e=1,Fl(r,i,a,u)}finally{_e=d,Vr.transition=p}}function tw(r,i,a,u){var d=_e,p=Vr.transition;Vr.transition=null;try{_e=4,Fl(r,i,a,u)}finally{_e=d,Vr.transition=p}}function Fl(r,i,a,u){if(_o){var d=Vl(r,i,a,u);if(d===null)tu(r,i,u,wo,a),wf(r,u);else if(Z1(d,r,i,a,u))u.stopPropagation();else if(wf(r,u),i&4&&-1<X1.indexOf(r)){for(;d!==null;){var p=ts(d);if(p!==null&&gf(p),p=Vl(r,i,a,u),p===null&&tu(r,i,u,wo,a),p===d)break;d=p}d!==null&&u.stopPropagation()}else tu(r,i,u,null,a)}}var wo=null;function Vl(r,i,a,u){if(wo=null,r=kl(u),r=or(r),r!==null)if(i=sr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=of(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return wo=r,null}function Ef(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z1()){case Nl:return 1;case hf:return 4;case ho:case W1:return 16;case ff:return 536870912;default:return 16}default:return 16}}var Mn=null,jl=null,Co=null;function xf(){if(Co)return Co;var r,i=jl,a=i.length,u,d="value"in Mn?Mn.value:Mn.textContent,p=d.length;for(r=0;r<a&&i[r]===d[r];r++);var _=a-r;for(u=1;u<=_&&i[a-u]===d[p-u];u++);return Co=d.slice(r,1<u?1-u:void 0)}function So(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Eo(){return!0}function Tf(){return!1}function Pt(r){function i(a,u,d,p,_){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Eo:Tf,this.isPropagationStopped=Tf,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),i}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Pt(jr),$i=W({},jr,{view:0,detail:0}),nw=Pt($i),Ul,zl,Hi,xo=W({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hi&&(Hi&&r.type==="mousemove"?(Ul=r.screenX-Hi.screenX,zl=r.screenY-Hi.screenY):zl=Ul=0,Hi=r),Ul)},movementY:function(r){return"movementY"in r?r.movementY:zl}}),kf=Pt(xo),rw=W({},xo,{dataTransfer:0}),iw=Pt(rw),sw=W({},$i,{relatedTarget:0}),Wl=Pt(sw),ow=W({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),aw=Pt(ow),lw=W({},jr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uw=Pt(lw),cw=W({},jr,{data:0}),Pf=Pt(cw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=fw[r])?!!i[r]:!1}function $l(){return pw}var mw=W({},$i,{key:function(r){if(r.key){var i=dw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=So(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(r){return r.type==="keypress"?So(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?So(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),gw=Pt(mw),yw=W({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=Pt(yw),vw=W({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),_w=Pt(vw),ww=W({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cw=Pt(ww),Sw=W({},xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ew=Pt(Sw),xw=[9,13,27,32],Hl=h&&"CompositionEvent"in window,Gi=null;h&&"documentMode"in document&&(Gi=document.documentMode);var Tw=h&&"TextEvent"in window&&!Gi,Rf=h&&(!Hl||Gi&&8<Gi&&11>=Gi),Af=" ",Nf=!1;function Df(r,i){switch(r){case"keyup":return xw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Br=!1;function kw(r,i){switch(r){case"compositionend":return Mf(i);case"keypress":return i.which!==32?null:(Nf=!0,Af);case"textInput":return r=i.data,r===Af&&Nf?null:r;default:return null}}function Pw(r,i){if(Br)return r==="compositionend"||!Hl&&Df(r,i)?(r=xf(),Co=jl=Mn=null,Br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Rf&&i.locale!=="ko"?null:i.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Iw[r.type]:i==="textarea"}function Of(r,i,a,u){ef(u),i=Ro(i,"onChange"),0<i.length&&(a=new Bl("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Ki=null,Yi=null;function Rw(r){Jf(r,0)}function To(r){var i=Hr(r);if(zh(i))return r}function Aw(r,i){if(r==="change")return i}var bf=!1;if(h){var Gl;if(h){var Kl="oninput"in document;if(!Kl){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Kl=typeof Ff.oninput=="function"}Gl=Kl}else Gl=!1;bf=Gl&&(!document.documentMode||9<document.documentMode)}function Vf(){Ki&&(Ki.detachEvent("onpropertychange",jf),Yi=Ki=null)}function jf(r){if(r.propertyName==="value"&&To(Yi)){var i=[];Of(i,Yi,r,kl(r)),sf(Rw,i)}}function Nw(r,i,a){r==="focusin"?(Vf(),Ki=i,Yi=a,Ki.attachEvent("onpropertychange",jf)):r==="focusout"&&Vf()}function Dw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return To(Yi)}function Mw(r,i){if(r==="click")return To(i)}function Lw(r,i){if(r==="input"||r==="change")return To(i)}function Ow(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wt=typeof Object.is=="function"?Object.is:Ow;function qi(r,i){if(Wt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!f.call(i,d)||!Wt(r[d],i[d]))return!1}return!0}function Bf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uf(r,i){var a=Bf(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bf(a)}}function zf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?zf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Wf(){for(var r=window,i=ao();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=ao(r.document)}return i}function Yl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function bw(r){var i=Wf(),a=r.focusedElem,u=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&zf(a.ownerDocument.documentElement,a)){if(u!==null&&Yl(a)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!r.extend&&p>u&&(d=u,u=p,p=d),d=Uf(a,p);var _=Uf(a,u);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),p>u?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Fw=h&&"documentMode"in document&&11>=document.documentMode,Ur=null,ql=null,Qi=null,Ql=!1;function $f(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ql||Ur==null||Ur!==ao(u)||(u=Ur,"selectionStart"in u&&Yl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&qi(Qi,u)||(Qi=u,u=Ro(ql,"onSelect"),0<u.length&&(i=new Bl("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=Ur)))}function ko(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var zr={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Xl={},Hf={};h&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Po(r){if(Xl[r])return Xl[r];if(!zr[r])return r;var i=zr[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hf)return Xl[r]=i[a];return r}var Gf=Po("animationend"),Kf=Po("animationiteration"),Yf=Po("animationstart"),qf=Po("transitionend"),Qf=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(r,i){Qf.set(r,i),l(i,[r])}for(var Zl=0;Zl<Xf.length;Zl++){var Jl=Xf[Zl],Vw=Jl.toLowerCase(),jw=Jl[0].toUpperCase()+Jl.slice(1);Ln(Vw,"on"+jw)}Ln(Gf,"onAnimationEnd"),Ln(Kf,"onAnimationIteration"),Ln(Yf,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(qf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Zf(r,i,a){var u=r.type||"unknown-event";r.currentTarget=a,V1(u,i,void 0,r),r.currentTarget=null}function Jf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],S=w.instance,A=w.currentTarget;if(w=w.listener,S!==p&&d.isPropagationStopped())break e;Zf(d,w,A),p=S}else for(_=0;_<u.length;_++){if(w=u[_],S=w.instance,A=w.currentTarget,w=w.listener,S!==p&&d.isPropagationStopped())break e;Zf(d,w,A),p=S}}}if(co)throw r=Al,co=!1,Al=null,r}function Te(r,i){var a=i[au];a===void 0&&(a=i[au]=new Set);var u=r+"__bubble";a.has(u)||(ep(i,r,2,!1),a.add(u))}function eu(r,i,a){var u=0;i&&(u|=4),ep(a,r,u,i)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Zi(r){if(!r[Io]){r[Io]=!0,s.forEach(function(a){a!=="selectionchange"&&(Bw.has(a)||eu(a,!1,r),eu(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Io]||(i[Io]=!0,eu("selectionchange",!1,i))}}function ep(r,i,a,u){switch(Ef(i)){case 1:var d=ew;break;case 4:d=tw;break;default:d=Fl}a=d.bind(null,i,a,r),d=void 0,!Rl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function tu(r,i,a,u,d){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;_=_.return}for(;w!==null;){if(_=or(w),_===null)return;if(S=_.tag,S===5||S===6){u=p=_;continue e}w=w.parentNode}}u=u.return}sf(function(){var A=p,L=kl(a),b=[];e:{var D=Qf.get(r);if(D!==void 0){var z=Bl,K=r;switch(r){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":z=gw;break;case"focusin":K="focus",z=Wl;break;case"focusout":K="blur",z=Wl;break;case"beforeblur":case"afterblur":z=Wl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=_w;break;case Gf:case Kf:case Yf:z=aw;break;case qf:z=Cw;break;case"scroll":z=nw;break;case"wheel":z=Ew;break;case"copy":case"cut":case"paste":z=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=If}var Q=(i&4)!==0,Be=!Q&&r==="scroll",k=Q?D!==null?D+"Capture":null:D;Q=[];for(var E=A,I;E!==null;){I=E;var F=I.stateNode;if(I.tag===5&&F!==null&&(I=F,k!==null&&(F=Li(E,k),F!=null&&Q.push(Ji(E,F,I)))),Be)break;E=E.return}0<Q.length&&(D=new z(D,K,null,a,L),b.push({event:D,listeners:Q}))}}if((i&7)===0){e:{if(D=r==="mouseover"||r==="pointerover",z=r==="mouseout"||r==="pointerout",D&&a!==Tl&&(K=a.relatedTarget||a.fromElement)&&(or(K)||K[hn]))break e;if((z||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,z?(K=a.relatedTarget||a.toElement,z=A,K=K?or(K):null,K!==null&&(Be=sr(K),K!==Be||K.tag!==5&&K.tag!==6)&&(K=null)):(z=null,K=A),z!==K)){if(Q=kf,F="onMouseLeave",k="onMouseEnter",E="mouse",(r==="pointerout"||r==="pointerover")&&(Q=If,F="onPointerLeave",k="onPointerEnter",E="pointer"),Be=z==null?D:Hr(z),I=K==null?D:Hr(K),D=new Q(F,E+"leave",z,a,L),D.target=Be,D.relatedTarget=I,F=null,or(L)===A&&(Q=new Q(k,E+"enter",K,a,L),Q.target=I,Q.relatedTarget=Be,F=Q),Be=F,z&&K)t:{for(Q=z,k=K,E=0,I=Q;I;I=Wr(I))E++;for(I=0,F=k;F;F=Wr(F))I++;for(;0<E-I;)Q=Wr(Q),E--;for(;0<I-E;)k=Wr(k),I--;for(;E--;){if(Q===k||k!==null&&Q===k.alternate)break t;Q=Wr(Q),k=Wr(k)}Q=null}else Q=null;z!==null&&tp(b,D,z,Q,!1),K!==null&&Be!==null&&tp(b,Be,K,Q,!0)}}e:{if(D=A?Hr(A):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var X=Aw;else if(Lf(D))if(bf)X=Lw;else{X=Dw;var ee=Nw}else(z=D.nodeName)&&z.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(X=Mw);if(X&&(X=X(r,A))){Of(b,X,a,L);break e}ee&&ee(r,D,A),r==="focusout"&&(ee=D._wrapperState)&&ee.controlled&&D.type==="number"&&wl(D,"number",D.value)}switch(ee=A?Hr(A):window,r){case"focusin":(Lf(ee)||ee.contentEditable==="true")&&(Ur=ee,ql=A,Qi=null);break;case"focusout":Qi=ql=Ur=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,$f(b,a,L);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":$f(b,a,L)}var te;if(Hl)e:{switch(r){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Br?Df(r,a)&&(ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(Rf&&a.locale!=="ko"&&(Br||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Br&&(te=xf()):(Mn=L,jl="value"in Mn?Mn.value:Mn.textContent,Br=!0)),ee=Ro(A,ie),0<ee.length&&(ie=new Pf(ie,r,null,a,L),b.push({event:ie,listeners:ee}),te?ie.data=te:(te=Mf(a),te!==null&&(ie.data=te)))),(te=Tw?kw(r,a):Pw(r,a))&&(A=Ro(A,"onBeforeInput"),0<A.length&&(L=new Pf("onBeforeInput","beforeinput",null,a,L),b.push({event:L,listeners:A}),L.data=te))}Jf(b,i)})}function Ji(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Ro(r,i){for(var a=i+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Li(r,a),p!=null&&u.unshift(Ji(r,p,d)),p=Li(r,i),p!=null&&u.push(Ji(r,p,d))),r=r.return}return u}function Wr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tp(r,i,a,u,d){for(var p=i._reactName,_=[];a!==null&&a!==u;){var w=a,S=w.alternate,A=w.stateNode;if(S!==null&&S===u)break;w.tag===5&&A!==null&&(w=A,d?(S=Li(a,p),S!=null&&_.unshift(Ji(a,S,w))):d||(S=Li(a,p),S!=null&&_.push(Ji(a,S,w)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var Uw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function np(r){return(typeof r=="string"?r:""+r).replace(Uw,`
`).replace(zw,"")}function Ao(r,i,a){if(i=np(i),np(r)!==i&&a)throw Error(n(425))}function No(){}var nu=null,ru=null;function iu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(r){return rp.resolve(null).then(r).catch(Hw)}:su;function Hw(r){setTimeout(function(){throw r})}function ou(r,i){var a=i,u=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){r.removeChild(d),Wi(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);Wi(i)}function On(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function ip(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var $r=Math.random().toString(36).slice(2),nn="__reactFiber$"+$r,es="__reactProps$"+$r,hn="__reactContainer$"+$r,au="__reactEvents$"+$r,Gw="__reactListeners$"+$r,Kw="__reactHandles$"+$r;function or(r){var i=r[nn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[hn]||a[nn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=ip(r);r!==null;){if(a=r[nn])return a;r=ip(r)}return i}r=a,a=r.parentNode}return null}function ts(r){return r=r[nn]||r[hn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Hr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Do(r){return r[es]||null}var lu=[],Gr=-1;function bn(r){return{current:r}}function ke(r){0>Gr||(r.current=lu[Gr],lu[Gr]=null,Gr--)}function Se(r,i){Gr++,lu[Gr]=r.current,r.current=i}var Fn={},nt=bn(Fn),mt=bn(!1),ar=Fn;function Kr(r,i){var a=r.type.contextTypes;if(!a)return Fn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=i[p];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function gt(r){return r=r.childContextTypes,r!=null}function Mo(){ke(mt),ke(nt)}function sp(r,i,a){if(nt.current!==Fn)throw Error(n(168));Se(nt,i),Se(mt,a)}function op(r,i,a){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(n(108,Ce(r)||"Unknown",d));return W({},a,u)}function Lo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Fn,ar=nt.current,Se(nt,r),Se(mt,mt.current),!0}function ap(r,i,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=op(r,i,ar),u.__reactInternalMemoizedMergedChildContext=r,ke(mt),ke(nt),Se(nt,r)):ke(mt),Se(mt,a)}var fn=null,Oo=!1,uu=!1;function lp(r){fn===null?fn=[r]:fn.push(r)}function Yw(r){Oo=!0,lp(r)}function Vn(){if(!uu&&fn!==null){uu=!0;var r=0,i=_e;try{var a=fn;for(_e=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}fn=null,Oo=!1}catch(d){throw fn!==null&&(fn=fn.slice(r+1)),cf(Nl,Vn),d}finally{_e=i,uu=!1}}return null}var Yr=[],qr=0,bo=null,Fo=0,Mt=[],Lt=0,lr=null,pn=1,mn="";function ur(r,i){Yr[qr++]=Fo,Yr[qr++]=bo,bo=r,Fo=i}function up(r,i,a){Mt[Lt++]=pn,Mt[Lt++]=mn,Mt[Lt++]=lr,lr=r;var u=pn;r=mn;var d=32-zt(u)-1;u&=~(1<<d),a+=1;var p=32-zt(i)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,pn=1<<32-zt(i)+d|a<<d|u,mn=p+r}else pn=1<<p|a<<d|u,mn=r}function cu(r){r.return!==null&&(ur(r,1),up(r,1,0))}function du(r){for(;r===bo;)bo=Yr[--qr],Yr[qr]=null,Fo=Yr[--qr],Yr[qr]=null;for(;r===lr;)lr=Mt[--Lt],Mt[Lt]=null,mn=Mt[--Lt],Mt[Lt]=null,pn=Mt[--Lt],Mt[Lt]=null}var It=null,Rt=null,Ae=!1,$t=null;function cp(r,i){var a=Vt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function dp(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,It=r,Rt=On(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,It=r,Rt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=lr!==null?{id:pn,overflow:mn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Vt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,It=r,Rt=null,!0):!1;default:return!1}}function hu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fu(r){if(Ae){var i=Rt;if(i){var a=i;if(!dp(r,i)){if(hu(r))throw Error(n(418));i=On(a.nextSibling);var u=It;i&&dp(r,i)?cp(u,a):(r.flags=r.flags&-4097|2,Ae=!1,It=r)}}else{if(hu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ae=!1,It=r}}}function hp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;It=r}function Vo(r){if(r!==It)return!1;if(!Ae)return hp(r),Ae=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!iu(r.type,r.memoizedProps)),i&&(i=Rt)){if(hu(r))throw fp(),Error(n(418));for(;i;)cp(r,i),i=On(i.nextSibling)}if(hp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Rt=On(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Rt=null}}else Rt=It?On(r.stateNode.nextSibling):null;return!0}function fp(){for(var r=Rt;r;)r=On(r.nextSibling)}function Qr(){Rt=It=null,Ae=!1}function pu(r){$t===null?$t=[r]:$t.push(r)}var qw=H.ReactCurrentBatchConfig;function ns(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var d=u,p=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(_){var w=d.refs;_===null?delete w[p]:w[p]=_},i._stringRef=p,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function jo(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function pp(r){var i=r._init;return i(r._payload)}function mp(r){function i(k,E){if(r){var I=k.deletions;I===null?(k.deletions=[E],k.flags|=16):I.push(E)}}function a(k,E){if(!r)return null;for(;E!==null;)i(k,E),E=E.sibling;return null}function u(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function d(k,E){return k=Gn(k,E),k.index=0,k.sibling=null,k}function p(k,E,I){return k.index=I,r?(I=k.alternate,I!==null?(I=I.index,I<E?(k.flags|=2,E):I):(k.flags|=2,E)):(k.flags|=1048576,E)}function _(k){return r&&k.alternate===null&&(k.flags|=2),k}function w(k,E,I,F){return E===null||E.tag!==6?(E=sc(I,k.mode,F),E.return=k,E):(E=d(E,I),E.return=k,E)}function S(k,E,I,F){var X=I.type;return X===se?L(k,E,I.props.children,F,I.key):E!==null&&(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ct&&pp(X)===E.type)?(F=d(E,I.props),F.ref=ns(k,E,I),F.return=k,F):(F=ua(I.type,I.key,I.props,null,k.mode,F),F.ref=ns(k,E,I),F.return=k,F)}function A(k,E,I,F){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=oc(I,k.mode,F),E.return=k,E):(E=d(E,I.children||[]),E.return=k,E)}function L(k,E,I,F,X){return E===null||E.tag!==7?(E=yr(I,k.mode,F,X),E.return=k,E):(E=d(E,I),E.return=k,E)}function b(k,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sc(""+E,k.mode,I),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case G:return I=ua(E.type,E.key,E.props,null,k.mode,I),I.ref=ns(k,null,E),I.return=k,I;case Y:return E=oc(E,k.mode,I),E.return=k,E;case ct:var F=E._init;return b(k,F(E._payload),I)}if(Ni(E)||J(E))return E=yr(E,k.mode,I,null),E.return=k,E;jo(k,E)}return null}function D(k,E,I,F){var X=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return X!==null?null:w(k,E,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return I.key===X?S(k,E,I,F):null;case Y:return I.key===X?A(k,E,I,F):null;case ct:return X=I._init,D(k,E,X(I._payload),F)}if(Ni(I)||J(I))return X!==null?null:L(k,E,I,F,null);jo(k,I)}return null}function z(k,E,I,F,X){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(I)||null,w(E,k,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return k=k.get(F.key===null?I:F.key)||null,S(E,k,F,X);case Y:return k=k.get(F.key===null?I:F.key)||null,A(E,k,F,X);case ct:var ee=F._init;return z(k,E,I,ee(F._payload),X)}if(Ni(F)||J(F))return k=k.get(I)||null,L(E,k,F,X,null);jo(E,F)}return null}function K(k,E,I,F){for(var X=null,ee=null,te=E,ie=E=0,Ye=null;te!==null&&ie<I.length;ie++){te.index>ie?(Ye=te,te=null):Ye=te.sibling;var ge=D(k,te,I[ie],F);if(ge===null){te===null&&(te=Ye);break}r&&te&&ge.alternate===null&&i(k,te),E=p(ge,E,ie),ee===null?X=ge:ee.sibling=ge,ee=ge,te=Ye}if(ie===I.length)return a(k,te),Ae&&ur(k,ie),X;if(te===null){for(;ie<I.length;ie++)te=b(k,I[ie],F),te!==null&&(E=p(te,E,ie),ee===null?X=te:ee.sibling=te,ee=te);return Ae&&ur(k,ie),X}for(te=u(k,te);ie<I.length;ie++)Ye=z(te,k,ie,I[ie],F),Ye!==null&&(r&&Ye.alternate!==null&&te.delete(Ye.key===null?ie:Ye.key),E=p(Ye,E,ie),ee===null?X=Ye:ee.sibling=Ye,ee=Ye);return r&&te.forEach(function(Kn){return i(k,Kn)}),Ae&&ur(k,ie),X}function Q(k,E,I,F){var X=J(I);if(typeof X!="function")throw Error(n(150));if(I=X.call(I),I==null)throw Error(n(151));for(var ee=X=null,te=E,ie=E=0,Ye=null,ge=I.next();te!==null&&!ge.done;ie++,ge=I.next()){te.index>ie?(Ye=te,te=null):Ye=te.sibling;var Kn=D(k,te,ge.value,F);if(Kn===null){te===null&&(te=Ye);break}r&&te&&Kn.alternate===null&&i(k,te),E=p(Kn,E,ie),ee===null?X=Kn:ee.sibling=Kn,ee=Kn,te=Ye}if(ge.done)return a(k,te),Ae&&ur(k,ie),X;if(te===null){for(;!ge.done;ie++,ge=I.next())ge=b(k,ge.value,F),ge!==null&&(E=p(ge,E,ie),ee===null?X=ge:ee.sibling=ge,ee=ge);return Ae&&ur(k,ie),X}for(te=u(k,te);!ge.done;ie++,ge=I.next())ge=z(te,k,ie,ge.value,F),ge!==null&&(r&&ge.alternate!==null&&te.delete(ge.key===null?ie:ge.key),E=p(ge,E,ie),ee===null?X=ge:ee.sibling=ge,ee=ge);return r&&te.forEach(function(IC){return i(k,IC)}),Ae&&ur(k,ie),X}function Be(k,E,I,F){if(typeof I=="object"&&I!==null&&I.type===se&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case G:e:{for(var X=I.key,ee=E;ee!==null;){if(ee.key===X){if(X=I.type,X===se){if(ee.tag===7){a(k,ee.sibling),E=d(ee,I.props.children),E.return=k,k=E;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ct&&pp(X)===ee.type){a(k,ee.sibling),E=d(ee,I.props),E.ref=ns(k,ee,I),E.return=k,k=E;break e}a(k,ee);break}else i(k,ee);ee=ee.sibling}I.type===se?(E=yr(I.props.children,k.mode,F,I.key),E.return=k,k=E):(F=ua(I.type,I.key,I.props,null,k.mode,F),F.ref=ns(k,E,I),F.return=k,k=F)}return _(k);case Y:e:{for(ee=I.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){a(k,E.sibling),E=d(E,I.children||[]),E.return=k,k=E;break e}else{a(k,E);break}else i(k,E);E=E.sibling}E=oc(I,k.mode,F),E.return=k,k=E}return _(k);case ct:return ee=I._init,Be(k,E,ee(I._payload),F)}if(Ni(I))return K(k,E,I,F);if(J(I))return Q(k,E,I,F);jo(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(a(k,E.sibling),E=d(E,I),E.return=k,k=E):(a(k,E),E=sc(I,k.mode,F),E.return=k,k=E),_(k)):a(k,E)}return Be}var Xr=mp(!0),gp=mp(!1),Bo=bn(null),Uo=null,Zr=null,mu=null;function gu(){mu=Zr=Uo=null}function yu(r){var i=Bo.current;ke(Bo),r._currentValue=i}function vu(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function Jr(r,i){Uo=r,mu=Zr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(yt=!0),r.firstContext=null)}function Ot(r){var i=r._currentValue;if(mu!==r)if(r={context:r,memoizedValue:i,next:null},Zr===null){if(Uo===null)throw Error(n(308));Zr=r,Uo.dependencies={lanes:0,firstContext:r}}else Zr=Zr.next=r;return i}var cr=null;function _u(r){cr===null?cr=[r]:cr.push(r)}function yp(r,i,a,u){var d=i.interleaved;return d===null?(a.next=a,_u(i)):(a.next=d.next,d.next=a),i.interleaved=a,gn(r,u)}function gn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var jn=!1;function wu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Bn(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(fe&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,gn(r,a)}return d=u.interleaved,d===null?(i.next=i,_u(u)):(i.next=d.next,d.next=i),u.interleaved=i,gn(r,a)}function zo(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Ll(r,a)}}function _p(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Wo(r,i,a,u){var d=r.updateQueue;jn=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var S=w,A=S.next;S.next=null,_===null?p=A:_.next=A,_=S;var L=r.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==_&&(w===null?L.firstBaseUpdate=A:w.next=A,L.lastBaseUpdate=S))}if(p!==null){var b=d.baseState;_=0,L=A=S=null,w=p;do{var D=w.lane,z=w.eventTime;if((u&D)===D){L!==null&&(L=L.next={eventTime:z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var K=r,Q=w;switch(D=i,z=a,Q.tag){case 1:if(K=Q.payload,typeof K=="function"){b=K.call(z,b,D);break e}b=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Q.payload,D=typeof K=="function"?K.call(z,b,D):K,D==null)break e;b=W({},b,D);break e;case 2:jn=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,D=d.effects,D===null?d.effects=[w]:D.push(w))}else z={eventTime:z,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(A=L=z,S=b):L=L.next=z,_|=D;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(L===null&&(S=b),d.baseState=S,d.firstBaseUpdate=A,d.lastBaseUpdate=L,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else p===null&&(d.shared.lanes=0);fr|=_,r.lanes=_,r.memoizedState=b}}function wp(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var rs={},rn=bn(rs),is=bn(rs),ss=bn(rs);function dr(r){if(r===rs)throw Error(n(174));return r}function Cu(r,i){switch(Se(ss,i),Se(is,r),Se(rn,rs),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Sl(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Sl(i,r)}ke(rn),Se(rn,i)}function ei(){ke(rn),ke(is),ke(ss)}function Cp(r){dr(ss.current);var i=dr(rn.current),a=Sl(i,r.type);i!==a&&(Se(is,r),Se(rn,a))}function Su(r){is.current===r&&(ke(rn),ke(is))}var De=bn(0);function $o(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Eu=[];function xu(){for(var r=0;r<Eu.length;r++)Eu[r]._workInProgressVersionPrimary=null;Eu.length=0}var Ho=H.ReactCurrentDispatcher,Tu=H.ReactCurrentBatchConfig,hr=0,Me=null,We=null,Ge=null,Go=!1,os=!1,as=0,Qw=0;function rt(){throw Error(n(321))}function ku(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Wt(r[a],i[a]))return!1;return!0}function Pu(r,i,a,u,d,p){if(hr=p,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ho.current=r===null||r.memoizedState===null?eC:tC,r=a(u,d),os){p=0;do{if(os=!1,as=0,25<=p)throw Error(n(301));p+=1,Ge=We=null,i.updateQueue=null,Ho.current=nC,r=a(u,d)}while(os)}if(Ho.current=qo,i=We!==null&&We.next!==null,hr=0,Ge=We=Me=null,Go=!1,i)throw Error(n(300));return r}function Iu(){var r=as!==0;return as=0,r}function sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Me.memoizedState=Ge=r:Ge=Ge.next=r,Ge}function bt(){if(We===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Ge===null?Me.memoizedState:Ge.next;if(i!==null)Ge=i,We=r;else{if(r===null)throw Error(n(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Me.memoizedState=Ge=r:Ge=Ge.next=r}return Ge}function ls(r,i){return typeof i=="function"?i(r):i}function Ru(r){var i=bt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=We,d=u.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}u.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,u=u.baseState;var w=_=null,S=null,A=p;do{var L=A.lane;if((hr&L)===L)S!==null&&(S=S.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),u=A.hasEagerState?A.eagerState:r(u,A.action);else{var b={lane:L,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};S===null?(w=S=b,_=u):S=S.next=b,Me.lanes|=L,fr|=L}A=A.next}while(A!==null&&A!==p);S===null?_=u:S.next=w,Wt(u,i.memoizedState)||(yt=!0),i.memoizedState=u,i.baseState=_,i.baseQueue=S,a.lastRenderedState=u}if(r=a.interleaved,r!==null){d=r;do p=d.lane,Me.lanes|=p,fr|=p,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Au(r){var i=bt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=r(p,_.action),_=_.next;while(_!==d);Wt(p,i.memoizedState)||(yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function Sp(){}function Ep(r,i){var a=Me,u=bt(),d=i(),p=!Wt(u.memoizedState,d);if(p&&(u.memoizedState=d,yt=!0),u=u.queue,Nu(kp.bind(null,a,u,r),[r]),u.getSnapshot!==i||p||Ge!==null&&Ge.memoizedState.tag&1){if(a.flags|=2048,us(9,Tp.bind(null,a,u,d,i),void 0,null),Ke===null)throw Error(n(349));(hr&30)!==0||xp(a,i,d)}return d}function xp(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i={lastEffect:null,stores:null},Me.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Tp(r,i,a,u){i.value=a,i.getSnapshot=u,Pp(i)&&Ip(r)}function kp(r,i,a){return a(function(){Pp(i)&&Ip(r)})}function Pp(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Wt(r,a)}catch{return!0}}function Ip(r){var i=gn(r,1);i!==null&&Yt(i,r,1,-1)}function Rp(r){var i=sn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},i.queue=r,r=r.dispatch=Jw.bind(null,Me,r),[i.memoizedState,r]}function us(r,i,a,u){return r={tag:r,create:i,destroy:a,deps:u,next:null},i=Me.updateQueue,i===null?(i={lastEffect:null,stores:null},Me.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r)),r}function Ap(){return bt().memoizedState}function Ko(r,i,a,u){var d=sn();Me.flags|=r,d.memoizedState=us(1|i,a,void 0,u===void 0?null:u)}function Yo(r,i,a,u){var d=bt();u=u===void 0?null:u;var p=void 0;if(We!==null){var _=We.memoizedState;if(p=_.destroy,u!==null&&ku(u,_.deps)){d.memoizedState=us(i,a,p,u);return}}Me.flags|=r,d.memoizedState=us(1|i,a,p,u)}function Np(r,i){return Ko(8390656,8,r,i)}function Nu(r,i){return Yo(2048,8,r,i)}function Dp(r,i){return Yo(4,2,r,i)}function Mp(r,i){return Yo(4,4,r,i)}function Lp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Op(r,i,a){return a=a!=null?a.concat([r]):null,Yo(4,4,Lp.bind(null,i,r),a)}function Du(){}function bp(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&ku(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function Fp(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&ku(i,u[1])?u[0]:(r=r(),a.memoizedState=[r,i],r)}function Vp(r,i,a){return(hr&21)===0?(r.baseState&&(r.baseState=!1,yt=!0),r.memoizedState=a):(Wt(a,i)||(a=pf(),Me.lanes|=a,fr|=a,r.baseState=!0),i)}function Xw(r,i){var a=_e;_e=a!==0&&4>a?a:4,r(!0);var u=Tu.transition;Tu.transition={};try{r(!1),i()}finally{_e=a,Tu.transition=u}}function jp(){return bt().memoizedState}function Zw(r,i,a){var u=$n(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Bp(r))Up(i,a);else if(a=yp(r,i,a,u),a!==null){var d=ht();Yt(a,r,u,d),zp(a,i,u)}}function Jw(r,i,a){var u=$n(r),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bp(r))Up(i,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,w=p(_,a);if(d.hasEagerState=!0,d.eagerState=w,Wt(w,_)){var S=i.interleaved;S===null?(d.next=d,_u(i)):(d.next=S.next,S.next=d),i.interleaved=d;return}}catch{}finally{}a=yp(r,i,d,u),a!==null&&(d=ht(),Yt(a,r,u,d),zp(a,i,u))}}function Bp(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function Up(r,i){os=Go=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function zp(r,i,a){if((a&4194240)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Ll(r,a)}}var qo={readContext:Ot,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},eC={readContext:Ot,useCallback:function(r,i){return sn().memoizedState=[r,i===void 0?null:i],r},useContext:Ot,useEffect:Np,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Ko(4194308,4,Lp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Ko(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ko(4,2,r,i)},useMemo:function(r,i){var a=sn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var u=sn();return i=a!==void 0?a(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=Zw.bind(null,Me,r),[u.memoizedState,r]},useRef:function(r){var i=sn();return r={current:r},i.memoizedState=r},useState:Rp,useDebugValue:Du,useDeferredValue:function(r){return sn().memoizedState=r},useTransition:function(){var r=Rp(!1),i=r[0];return r=Xw.bind(null,r[1]),sn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var u=Me,d=sn();if(Ae){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Ke===null)throw Error(n(349));(hr&30)!==0||xp(u,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,Np(kp.bind(null,u,p,r),[r]),u.flags|=2048,us(9,Tp.bind(null,u,p,a,i),void 0,null),a},useId:function(){var r=sn(),i=Ke.identifierPrefix;if(Ae){var a=mn,u=pn;a=(u&~(1<<32-zt(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=as++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Qw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},tC={readContext:Ot,useCallback:bp,useContext:Ot,useEffect:Nu,useImperativeHandle:Op,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:Fp,useReducer:Ru,useRef:Ap,useState:function(){return Ru(ls)},useDebugValue:Du,useDeferredValue:function(r){var i=bt();return Vp(i,We.memoizedState,r)},useTransition:function(){var r=Ru(ls)[0],i=bt().memoizedState;return[r,i]},useMutableSource:Sp,useSyncExternalStore:Ep,useId:jp,unstable_isNewReconciler:!1},nC={readContext:Ot,useCallback:bp,useContext:Ot,useEffect:Nu,useImperativeHandle:Op,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:Fp,useReducer:Au,useRef:Ap,useState:function(){return Au(ls)},useDebugValue:Du,useDeferredValue:function(r){var i=bt();return We===null?i.memoizedState=r:Vp(i,We.memoizedState,r)},useTransition:function(){var r=Au(ls)[0],i=bt().memoizedState;return[r,i]},useMutableSource:Sp,useSyncExternalStore:Ep,useId:jp,unstable_isNewReconciler:!1};function Ht(r,i){if(r&&r.defaultProps){i=W({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Mu(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:W({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Qo={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var u=ht(),d=$n(r),p=yn(u,d);p.payload=i,a!=null&&(p.callback=a),i=Bn(r,p,d),i!==null&&(Yt(i,r,d,u),zo(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=ht(),d=$n(r),p=yn(u,d);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Bn(r,p,d),i!==null&&(Yt(i,r,d,u),zo(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ht(),u=$n(r),d=yn(a,u);d.tag=2,i!=null&&(d.callback=i),i=Bn(r,d,u),i!==null&&(Yt(i,r,u,a),zo(i,r,u))}};function Wp(r,i,a,u,d,p,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,_):i.prototype&&i.prototype.isPureReactComponent?!qi(a,u)||!qi(d,p):!0}function $p(r,i,a){var u=!1,d=Fn,p=i.contextType;return typeof p=="object"&&p!==null?p=Ot(p):(d=gt(i)?ar:nt.current,u=i.contextTypes,p=(u=u!=null)?Kr(r,d):Fn),i=new i(a,p),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Qo,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),i}function Hp(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&Qo.enqueueReplaceState(i,i.state,null)}function Lu(r,i,a,u){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},wu(r);var p=i.contextType;typeof p=="object"&&p!==null?d.context=Ot(p):(p=gt(i)?ar:nt.current,d.context=Kr(r,p)),d.state=r.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Mu(r,i,p,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Qo.enqueueReplaceState(d,d.state,null),Wo(r,a,d,u),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ti(r,i){try{var a="",u=i;do a+=pe(u),u=u.return;while(u);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:i,stack:d,digest:null}}function Ou(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function bu(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var rC=typeof WeakMap=="function"?WeakMap:Map;function Gp(r,i,a){a=yn(-1,a),a.tag=3,a.payload={element:null};var u=i.value;return a.callback=function(){ra||(ra=!0,Xu=u),bu(r,i)},a}function Kp(r,i,a){a=yn(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;a.payload=function(){return u(d)},a.callback=function(){bu(r,i)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){bu(r,i),typeof u!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Yp(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new rC;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(d.add(a),r=yC.bind(null,r,i,a),i.then(r,r))}function qp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Qp(r,i,a,u,d){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=yn(-1,1),i.tag=2,Bn(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var iC=H.ReactCurrentOwner,yt=!1;function dt(r,i,a,u){i.child=r===null?gp(i,null,a,u):Xr(i,r.child,a,u)}function Xp(r,i,a,u,d){a=a.render;var p=i.ref;return Jr(i,d),u=Pu(r,i,a,u,p,d),a=Iu(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,vn(r,i,d)):(Ae&&a&&cu(i),i.flags|=1,dt(r,i,u,d),i.child)}function Zp(r,i,a,u,d){if(r===null){var p=a.type;return typeof p=="function"&&!ic(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=p,Jp(r,i,p,u,d)):(r=ua(a.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,(r.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:qi,a(_,u)&&r.ref===i.ref)return vn(r,i,d)}return i.flags|=1,r=Gn(p,u),r.ref=i.ref,r.return=i,i.child=r}function Jp(r,i,a,u,d){if(r!==null){var p=r.memoizedProps;if(qi(p,u)&&r.ref===i.ref)if(yt=!1,i.pendingProps=u=p,(r.lanes&d)!==0)(r.flags&131072)!==0&&(yt=!0);else return i.lanes=r.lanes,vn(r,i,d)}return Fu(r,i,a,u,d)}function em(r,i,a){var u=i.pendingProps,d=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ri,At),At|=a;else{if((a&1073741824)===0)return r=p!==null?p.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Se(ri,At),At|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,Se(ri,At),At|=u}else p!==null?(u=p.baseLanes|a,i.memoizedState=null):u=a,Se(ri,At),At|=u;return dt(r,i,d,a),i.child}function tm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Fu(r,i,a,u,d){var p=gt(a)?ar:nt.current;return p=Kr(i,p),Jr(i,d),a=Pu(r,i,a,u,p,d),u=Iu(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,vn(r,i,d)):(Ae&&u&&cu(i),i.flags|=1,dt(r,i,a,d),i.child)}function nm(r,i,a,u,d){if(gt(a)){var p=!0;Lo(i)}else p=!1;if(Jr(i,d),i.stateNode===null)Zo(r,i),$p(i,a,u),Lu(i,a,u,d),u=!0;else if(r===null){var _=i.stateNode,w=i.memoizedProps;_.props=w;var S=_.context,A=a.contextType;typeof A=="object"&&A!==null?A=Ot(A):(A=gt(a)?ar:nt.current,A=Kr(i,A));var L=a.getDerivedStateFromProps,b=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function";b||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||S!==A)&&Hp(i,_,u,A),jn=!1;var D=i.memoizedState;_.state=D,Wo(i,u,_,d),S=i.memoizedState,w!==u||D!==S||mt.current||jn?(typeof L=="function"&&(Mu(i,a,L,u),S=i.memoizedState),(w=jn||Wp(i,a,w,u,D,S,A))?(b||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=S),_.props=u,_.state=S,_.context=A,u=w):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{_=i.stateNode,vp(r,i),w=i.memoizedProps,A=i.type===i.elementType?w:Ht(i.type,w),_.props=A,b=i.pendingProps,D=_.context,S=a.contextType,typeof S=="object"&&S!==null?S=Ot(S):(S=gt(a)?ar:nt.current,S=Kr(i,S));var z=a.getDerivedStateFromProps;(L=typeof z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==b||D!==S)&&Hp(i,_,u,S),jn=!1,D=i.memoizedState,_.state=D,Wo(i,u,_,d);var K=i.memoizedState;w!==b||D!==K||mt.current||jn?(typeof z=="function"&&(Mu(i,a,z,u),K=i.memoizedState),(A=jn||Wp(i,a,A,u,D,K,S)||!1)?(L||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,K,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,K,S)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),_.props=u,_.state=K,_.context=S,u=A):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),u=!1)}return Vu(r,i,a,u,p,d)}function Vu(r,i,a,u,d,p){tm(r,i);var _=(i.flags&128)!==0;if(!u&&!_)return d&&ap(i,a,!1),vn(r,i,p);u=i.stateNode,iC.current=i;var w=_&&typeof a.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&_?(i.child=Xr(i,r.child,null,p),i.child=Xr(i,null,w,p)):dt(r,i,w,p),i.memoizedState=u.state,d&&ap(i,a,!0),i.child}function rm(r){var i=r.stateNode;i.pendingContext?sp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&sp(r,i.context,!1),Cu(r,i.containerInfo)}function im(r,i,a,u,d){return Qr(),pu(d),i.flags|=256,dt(r,i,a,u),i.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Bu(r){return{baseLanes:r,cachePool:null,transitions:null}}function sm(r,i,a){var u=i.pendingProps,d=De.current,p=!1,_=(i.flags&128)!==0,w;if((w=_)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(p=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Se(De,d&1),r===null)return fu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=u.children,r=u.fallback,p?(u=i.mode,p=i.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=ca(_,u,0,null),r=yr(r,u,a,null),p.return=i,r.return=i,p.sibling=r,i.child=p,i.child.memoizedState=Bu(a),i.memoizedState=ju,r):Uu(i,_));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return sC(r,i,_,u,w,d,a);if(p){p=u.fallback,_=i.mode,d=r.child,w=d.sibling;var S={mode:"hidden",children:u.children};return(_&1)===0&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=S,i.deletions=null):(u=Gn(d,S),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?p=Gn(w,p):(p=yr(p,_,a,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,_=r.child.memoizedState,_=_===null?Bu(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=r.childLanes&~a,i.memoizedState=ju,u}return p=r.child,r=p.sibling,u=Gn(p,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=a),u.return=i,u.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=u,i.memoizedState=null,u}function Uu(r,i){return i=ca({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Xo(r,i,a,u){return u!==null&&pu(u),Xr(i,r.child,null,a),r=Uu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function sC(r,i,a,u,d,p,_){if(a)return i.flags&256?(i.flags&=-257,u=Ou(Error(n(422))),Xo(r,i,_,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(p=u.fallback,d=i.mode,u=ca({mode:"visible",children:u.children},d,0,null),p=yr(p,d,_,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,(i.mode&1)!==0&&Xr(i,r.child,null,_),i.child.memoizedState=Bu(_),i.memoizedState=ju,p);if((i.mode&1)===0)return Xo(r,i,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=Ou(p,u,void 0),Xo(r,i,_,u)}if(w=(_&r.childLanes)!==0,yt||w){if(u=Ke,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,gn(r,d),Yt(u,r,d,-1))}return rc(),u=Ou(Error(n(421))),Xo(r,i,_,u)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=vC.bind(null,r),d._reactRetry=i,null):(r=p.treeContext,Rt=On(d.nextSibling),It=i,Ae=!0,$t=null,r!==null&&(Mt[Lt++]=pn,Mt[Lt++]=mn,Mt[Lt++]=lr,pn=r.id,mn=r.overflow,lr=i),i=Uu(i,u.children),i.flags|=4096,i)}function om(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),vu(r.return,i,a)}function zu(r,i,a,u,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=d)}function am(r,i,a){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(dt(r,i,u.children,a),u=De.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&om(r,a,i);else if(r.tag===19)om(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Se(De,u),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&$o(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),zu(i,!1,d,a,p);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&$o(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}zu(i,!0,a,null,p);break;case"together":zu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zo(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function vn(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),fr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=Gn(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Gn(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function oC(r,i,a){switch(i.tag){case 3:rm(i),Qr();break;case 5:Cp(i);break;case 1:gt(i.type)&&Lo(i);break;case 4:Cu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;Se(Bo,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Se(De,De.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?sm(r,i,a):(Se(De,De.current&1),r=vn(r,i,a),r!==null?r.sibling:null);Se(De,De.current&1);break;case 19:if(u=(a&i.childLanes)!==0,(r.flags&128)!==0){if(u)return am(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Se(De,De.current),u)break;return null;case 22:case 23:return i.lanes=0,em(r,i,a)}return vn(r,i,a)}var lm,Wu,um,cm;lm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Wu=function(){},um=function(r,i,a,u){var d=r.memoizedProps;if(d!==u){r=i.stateNode,dr(rn.current);var p=null;switch(a){case"input":d=vl(r,d),u=vl(r,u),p=[];break;case"select":d=W({},d,{value:void 0}),u=W({},u,{value:void 0}),p=[];break;case"textarea":d=Cl(r,d),u=Cl(r,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=No)}El(a,u);var _;a=null;for(A in d)if(!u.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var w=d[A];for(_ in w)w.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?p||(p=[]):(p=p||[]).push(A,null));for(A in u){var S=u[A];if(w=d?.[A],u.hasOwnProperty(A)&&S!==w&&(S!=null||w!=null))if(A==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in S)S.hasOwnProperty(_)&&w[_]!==S[_]&&(a||(a={}),a[_]=S[_])}else a||(p||(p=[]),p.push(A,a)),a=S;else A==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(p=p||[]).push(A,S)):A==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(A,""+S):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(o.hasOwnProperty(A)?(S!=null&&A==="onScroll"&&Te("scroll",r),p||w===S||(p=[])):(p=p||[]).push(A,S))}a&&(p=p||[]).push("style",a);var A=p;(i.updateQueue=A)&&(i.flags|=4)}},cm=function(r,i,a,u){a!==u&&(i.flags|=4)};function cs(r,i){if(!Ae)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function it(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function aC(r,i,a){var u=i.pendingProps;switch(du(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return gt(i.type)&&Mo(),it(i),null;case 3:return u=i.stateNode,ei(),ke(mt),ke(nt),xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Vo(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$t!==null&&(ec($t),$t=null))),Wu(r,i),it(i),null;case 5:Su(i);var d=dr(ss.current);if(a=i.type,r!==null&&i.stateNode!=null)um(r,i,a,u,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return it(i),null}if(r=dr(rn.current),Vo(i)){u=i.stateNode,a=i.type;var p=i.memoizedProps;switch(u[nn]=i,u[es]=p,r=(i.mode&1)!==0,a){case"dialog":Te("cancel",u),Te("close",u);break;case"iframe":case"object":case"embed":Te("load",u);break;case"video":case"audio":for(d=0;d<Xi.length;d++)Te(Xi[d],u);break;case"source":Te("error",u);break;case"img":case"image":case"link":Te("error",u),Te("load",u);break;case"details":Te("toggle",u);break;case"input":Wh(u,p),Te("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Te("invalid",u);break;case"textarea":Gh(u,p),Te("invalid",u)}El(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Ao(u.textContent,w,r),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Ao(u.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&Te("scroll",u)}switch(a){case"input":oo(u),Hh(u,p,!0);break;case"textarea":oo(u),Yh(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=No)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=qh(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=_.createElement(a,{is:u.is}):(r=_.createElement(a),a==="select"&&(_=r,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):r=_.createElementNS(r,a),r[nn]=i,r[es]=u,lm(r,i,!1,!1),i.stateNode=r;e:{switch(_=xl(a,u),a){case"dialog":Te("cancel",r),Te("close",r),d=u;break;case"iframe":case"object":case"embed":Te("load",r),d=u;break;case"video":case"audio":for(d=0;d<Xi.length;d++)Te(Xi[d],r);d=u;break;case"source":Te("error",r),d=u;break;case"img":case"image":case"link":Te("error",r),Te("load",r),d=u;break;case"details":Te("toggle",r),d=u;break;case"input":Wh(r,u),d=vl(r,u),Te("invalid",r);break;case"option":d=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},d=W({},u,{value:void 0}),Te("invalid",r);break;case"textarea":Gh(r,u),d=Cl(r,u),Te("invalid",r);break;default:d=u}El(a,d),w=d;for(p in w)if(w.hasOwnProperty(p)){var S=w[p];p==="style"?Zh(r,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Qh(r,S)):p==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&Di(r,S):typeof S=="number"&&Di(r,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Te("scroll",r):S!=null&&U(r,p,S,_))}switch(a){case"input":oo(r),Hh(r,u,!1);break;case"textarea":oo(r),Yh(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ve(u.value));break;case"select":r.multiple=!!u.multiple,p=u.value,p!=null?Or(r,!!u.multiple,p,!1):u.defaultValue!=null&&Or(r,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=No)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return it(i),null;case 6:if(r&&i.stateNode!=null)cm(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(a=dr(ss.current),dr(rn.current),Vo(i)){if(u=i.stateNode,a=i.memoizedProps,u[nn]=i,(p=u.nodeValue!==a)&&(r=It,r!==null))switch(r.tag){case 3:Ao(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ao(u.nodeValue,a,(r.mode&1)!==0)}p&&(i.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[nn]=i,i.stateNode=u}return it(i),null;case 13:if(ke(De),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&Rt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)fp(),Qr(),i.flags|=98560,p=!1;else if(p=Vo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[nn]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),p=!1}else $t!==null&&(ec($t),$t=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(De.current&1)!==0?$e===0&&($e=3):rc())),i.updateQueue!==null&&(i.flags|=4),it(i),null);case 4:return ei(),Wu(r,i),r===null&&Zi(i.stateNode.containerInfo),it(i),null;case 10:return yu(i.type._context),it(i),null;case 17:return gt(i.type)&&Mo(),it(i),null;case 19:if(ke(De),p=i.memoizedState,p===null)return it(i),null;if(u=(i.flags&128)!==0,_=p.rendering,_===null)if(u)cs(p,!1);else{if($e!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=$o(r),_!==null){for(i.flags|=128,cs(p,!1),u=_.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=a,a=i.child;a!==null;)p=a,r=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,r=_.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Se(De,De.current&1|2),i.child}r=r.sibling}p.tail!==null&&je()>ii&&(i.flags|=128,u=!0,cs(p,!1),i.lanes=4194304)}else{if(!u)if(r=$o(_),r!==null){if(i.flags|=128,u=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),cs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ae)return it(i),null}else 2*je()-p.renderingStartTime>ii&&a!==1073741824&&(i.flags|=128,u=!0,cs(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(a=p.last,a!==null?a.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=je(),i.sibling=null,a=De.current,Se(De,u?a&1|2:a&1),i):(it(i),null);case 22:case 23:return nc(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(At&1073741824)!==0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function lC(r,i){switch(du(i),i.tag){case 1:return gt(i.type)&&Mo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ei(),ke(mt),ke(nt),xu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Su(i),null;case 13:if(ke(De),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Qr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ke(De),null;case 4:return ei(),null;case 10:return yu(i.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var Jo=!1,st=!1,uC=typeof WeakSet=="function"?WeakSet:Set,$=null;function ni(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){be(r,i,u)}else a.current=null}function $u(r,i,a){try{a()}catch(u){be(r,i,u)}}var dm=!1;function cC(r,i){if(nu=_o,r=Wf(),Yl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,w=-1,S=-1,A=0,L=0,b=r,D=null;t:for(;;){for(var z;b!==a||d!==0&&b.nodeType!==3||(w=_+d),b!==p||u!==0&&b.nodeType!==3||(S=_+u),b.nodeType===3&&(_+=b.nodeValue.length),(z=b.firstChild)!==null;)D=b,b=z;for(;;){if(b===r)break t;if(D===a&&++A===d&&(w=_),D===p&&++L===u&&(S=_),(z=b.nextSibling)!==null)break;b=D,D=b.parentNode}b=z}a=w===-1||S===-1?null:{start:w,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(ru={focusedElem:r,selectionRange:a},_o=!1,$=i;$!==null;)if(i=$,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,$=r;else for(;$!==null;){i=$;try{var K=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Q=K.memoizedProps,Be=K.memoizedState,k=i.stateNode,E=k.getSnapshotBeforeUpdate(i.elementType===i.type?Q:Ht(i.type,Q),Be);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=i.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(F){be(i,i.return,F)}if(r=i.sibling,r!==null){r.return=i.return,$=r;break}$=i.return}return K=dm,dm=!1,K}function ds(r,i,a){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&$u(i,a,p)}d=d.next}while(d!==u)}}function ea(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==i)}}function Hu(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function hm(r){var i=r.alternate;i!==null&&(r.alternate=null,hm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[nn],delete i[es],delete i[au],delete i[Gw],delete i[Kw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fm(r){return r.tag===5||r.tag===3||r.tag===4}function pm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gu(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=No));else if(u!==4&&(r=r.child,r!==null))for(Gu(r,i,a),r=r.sibling;r!==null;)Gu(r,i,a),r=r.sibling}function Ku(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Ku(r,i,a),r=r.sibling;r!==null;)Ku(r,i,a),r=r.sibling}var Ze=null,Gt=!1;function Un(r,i,a){for(a=a.child;a!==null;)mm(r,i,a),a=a.sibling}function mm(r,i,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fo,a)}catch{}switch(a.tag){case 5:st||ni(a,i);case 6:var u=Ze,d=Gt;Ze=null,Un(r,i,a),Ze=u,Gt=d,Ze!==null&&(Gt?(r=Ze,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ze.removeChild(a.stateNode));break;case 18:Ze!==null&&(Gt?(r=Ze,a=a.stateNode,r.nodeType===8?ou(r.parentNode,a):r.nodeType===1&&ou(r,a),Wi(r)):ou(Ze,a.stateNode));break;case 4:u=Ze,d=Gt,Ze=a.stateNode.containerInfo,Gt=!0,Un(r,i,a),Ze=u,Gt=d;break;case 0:case 11:case 14:case 15:if(!st&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&$u(a,i,_),d=d.next}while(d!==u)}Un(r,i,a);break;case 1:if(!st&&(ni(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(w){be(a,i,w)}Un(r,i,a);break;case 21:Un(r,i,a);break;case 22:a.mode&1?(st=(u=st)||a.memoizedState!==null,Un(r,i,a),st=u):Un(r,i,a);break;default:Un(r,i,a)}}function gm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new uC),i.forEach(function(u){var d=_C.bind(null,r,u);a.has(u)||(a.add(u),u.then(d,d))})}}function Kt(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var p=r,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 5:Ze=w.stateNode,Gt=!1;break e;case 3:Ze=w.stateNode.containerInfo,Gt=!0;break e;case 4:Ze=w.stateNode.containerInfo,Gt=!0;break e}w=w.return}if(Ze===null)throw Error(n(160));mm(p,_,d),Ze=null,Gt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(A){be(d,i,A)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ym(i,r),i=i.sibling}function ym(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kt(i,r),on(r),u&4){try{ds(3,r,r.return),ea(3,r)}catch(Q){be(r,r.return,Q)}try{ds(5,r,r.return)}catch(Q){be(r,r.return,Q)}}break;case 1:Kt(i,r),on(r),u&512&&a!==null&&ni(a,a.return);break;case 5:if(Kt(i,r),on(r),u&512&&a!==null&&ni(a,a.return),r.flags&32){var d=r.stateNode;try{Di(d,"")}catch(Q){be(r,r.return,Q)}}if(u&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,_=a!==null?a.memoizedProps:p,w=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&$h(d,p),xl(w,_);var A=xl(w,p);for(_=0;_<S.length;_+=2){var L=S[_],b=S[_+1];L==="style"?Zh(d,b):L==="dangerouslySetInnerHTML"?Qh(d,b):L==="children"?Di(d,b):U(d,L,b,A)}switch(w){case"input":_l(d,p);break;case"textarea":Kh(d,p);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var z=p.value;z!=null?Or(d,!!p.multiple,z,!1):D!==!!p.multiple&&(p.defaultValue!=null?Or(d,!!p.multiple,p.defaultValue,!0):Or(d,!!p.multiple,p.multiple?[]:"",!1))}d[es]=p}catch(Q){be(r,r.return,Q)}}break;case 6:if(Kt(i,r),on(r),u&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(Q){be(r,r.return,Q)}}break;case 3:if(Kt(i,r),on(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(Q){be(r,r.return,Q)}break;case 4:Kt(i,r),on(r);break;case 13:Kt(i,r),on(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Qu=je())),u&4&&gm(r);break;case 22:if(L=a!==null&&a.memoizedState!==null,r.mode&1?(st=(A=st)||L,Kt(i,r),st=A):Kt(i,r),on(r),u&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!L&&(r.mode&1)!==0)for($=r,L=r.child;L!==null;){for(b=$=L;$!==null;){switch(D=$,z=D.child,D.tag){case 0:case 11:case 14:case 15:ds(4,D,D.return);break;case 1:ni(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){u=D,a=D.return;try{i=u,K.props=i.memoizedProps,K.state=i.memoizedState,K.componentWillUnmount()}catch(Q){be(u,a,Q)}}break;case 5:ni(D,D.return);break;case 22:if(D.memoizedState!==null){wm(b);continue}}z!==null?(z.return=D,$=z):wm(b)}L=L.sibling}e:for(L=null,b=r;;){if(b.tag===5){if(L===null){L=b;try{d=b.stateNode,A?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=b.stateNode,S=b.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Xh("display",_))}catch(Q){be(r,r.return,Q)}}}else if(b.tag===6){if(L===null)try{b.stateNode.nodeValue=A?"":b.memoizedProps}catch(Q){be(r,r.return,Q)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===r)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;L===b&&(L=null),b=b.return}L===b&&(L=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Kt(i,r),on(r),u&4&&gm(r);break;case 21:break;default:Kt(i,r),on(r)}}function on(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(fm(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Di(d,""),u.flags&=-33);var p=pm(r);Ku(r,p,d);break;case 3:case 4:var _=u.stateNode.containerInfo,w=pm(r);Gu(r,w,_);break;default:throw Error(n(161))}}catch(S){be(r,r.return,S)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function dC(r,i,a){$=r,vm(r)}function vm(r,i,a){for(var u=(r.mode&1)!==0;$!==null;){var d=$,p=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Jo;if(!_){var w=d.alternate,S=w!==null&&w.memoizedState!==null||st;w=Jo;var A=st;if(Jo=_,(st=S)&&!A)for($=d;$!==null;)_=$,S=_.child,_.tag===22&&_.memoizedState!==null?Cm(d):S!==null?(S.return=_,$=S):Cm(d);for(;p!==null;)$=p,vm(p),p=p.sibling;$=d,Jo=w,st=A}_m(r)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,$=p):_m(r)}}function _m(r){for(;$!==null;){var i=$;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:st||ea(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!st)if(a===null)u.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Ht(i.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&wp(i,p,u);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}wp(i,_,a)}break;case 5:var w=i.stateNode;if(a===null&&i.flags&4){a=w;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var A=i.alternate;if(A!==null){var L=A.memoizedState;if(L!==null){var b=L.dehydrated;b!==null&&Wi(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}st||i.flags&512&&Hu(i)}catch(D){be(i,i.return,D)}}if(i===r){$=null;break}if(a=i.sibling,a!==null){a.return=i.return,$=a;break}$=i.return}}function wm(r){for(;$!==null;){var i=$;if(i===r){$=null;break}var a=i.sibling;if(a!==null){a.return=i.return,$=a;break}$=i.return}}function Cm(r){for(;$!==null;){var i=$;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ea(4,i)}catch(S){be(i,a,S)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(S){be(i,d,S)}}var p=i.return;try{Hu(i)}catch(S){be(i,p,S)}break;case 5:var _=i.return;try{Hu(i)}catch(S){be(i,_,S)}}}catch(S){be(i,i.return,S)}if(i===r){$=null;break}var w=i.sibling;if(w!==null){w.return=i.return,$=w;break}$=i.return}}var hC=Math.ceil,ta=H.ReactCurrentDispatcher,Yu=H.ReactCurrentOwner,Ft=H.ReactCurrentBatchConfig,fe=0,Ke=null,ze=null,Je=0,At=0,ri=bn(0),$e=0,hs=null,fr=0,na=0,qu=0,fs=null,vt=null,Qu=0,ii=1/0,_n=null,ra=!1,Xu=null,zn=null,ia=!1,Wn=null,sa=0,ps=0,Zu=null,oa=-1,aa=0;function ht(){return(fe&6)!==0?je():oa!==-1?oa:oa=je()}function $n(r){return(r.mode&1)===0?1:(fe&2)!==0&&Je!==0?Je&-Je:qw.transition!==null?(aa===0&&(aa=pf()),aa):(r=_e,r!==0||(r=window.event,r=r===void 0?16:Ef(r.type)),r)}function Yt(r,i,a,u){if(50<ps)throw ps=0,Zu=null,Error(n(185));Vi(r,a,u),((fe&2)===0||r!==Ke)&&(r===Ke&&((fe&2)===0&&(na|=a),$e===4&&Hn(r,Je)),_t(r,u),a===1&&fe===0&&(i.mode&1)===0&&(ii=je()+500,Oo&&Vn()))}function _t(r,i){var a=r.callbackNode;q1(r,i);var u=go(r,r===Ke?Je:0);if(u===0)a!==null&&df(a),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(a!=null&&df(a),i===1)r.tag===0?Yw(Em.bind(null,r)):lp(Em.bind(null,r)),$w(function(){(fe&6)===0&&Vn()}),a=null;else{switch(mf(u)){case 1:a=Nl;break;case 4:a=hf;break;case 16:a=ho;break;case 536870912:a=ff;break;default:a=ho}a=Nm(a,Sm.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Sm(r,i){if(oa=-1,aa=0,(fe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(si()&&r.callbackNode!==a)return null;var u=go(r,r===Ke?Je:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||i)i=la(r,u);else{i=u;var d=fe;fe|=2;var p=Tm();(Ke!==r||Je!==i)&&(_n=null,ii=je()+500,mr(r,i));do try{mC();break}catch(w){xm(r,w)}while(!0);gu(),ta.current=p,fe=d,ze!==null?i=0:(Ke=null,Je=0,i=$e)}if(i!==0){if(i===2&&(d=Dl(r),d!==0&&(u=d,i=Ju(r,d))),i===1)throw a=hs,mr(r,0),Hn(r,u),_t(r,je()),a;if(i===6)Hn(r,u);else{if(d=r.current.alternate,(u&30)===0&&!fC(d)&&(i=la(r,u),i===2&&(p=Dl(r),p!==0&&(u=p,i=Ju(r,p))),i===1))throw a=hs,mr(r,0),Hn(r,u),_t(r,je()),a;switch(r.finishedWork=d,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:gr(r,vt,_n);break;case 3:if(Hn(r,u),(u&130023424)===u&&(i=Qu+500-je(),10<i)){if(go(r,0)!==0)break;if(d=r.suspendedLanes,(d&u)!==u){ht(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=su(gr.bind(null,r,vt,_n),i);break}gr(r,vt,_n);break;case 4:if(Hn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,d=-1;0<u;){var _=31-zt(u);p=1<<_,_=i[_],_>d&&(d=_),u&=~p}if(u=d,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*hC(u/1960))-u,10<u){r.timeoutHandle=su(gr.bind(null,r,vt,_n),u);break}gr(r,vt,_n);break;case 5:gr(r,vt,_n);break;default:throw Error(n(329))}}}return _t(r,je()),r.callbackNode===a?Sm.bind(null,r):null}function Ju(r,i){var a=fs;return r.current.memoizedState.isDehydrated&&(mr(r,i).flags|=256),r=la(r,i),r!==2&&(i=vt,vt=a,i!==null&&ec(i)),r}function ec(r){vt===null?vt=r:vt.push.apply(vt,r)}function fC(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],p=d.getSnapshot;d=d.value;try{if(!Wt(p(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(r,i){for(i&=~qu,i&=~na,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-zt(i),u=1<<a;r[a]=-1,i&=~u}}function Em(r){if((fe&6)!==0)throw Error(n(327));si();var i=go(r,0);if((i&1)===0)return _t(r,je()),null;var a=la(r,i);if(r.tag!==0&&a===2){var u=Dl(r);u!==0&&(i=u,a=Ju(r,u))}if(a===1)throw a=hs,mr(r,0),Hn(r,i),_t(r,je()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,gr(r,vt,_n),_t(r,je()),null}function tc(r,i){var a=fe;fe|=1;try{return r(i)}finally{fe=a,fe===0&&(ii=je()+500,Oo&&Vn())}}function pr(r){Wn!==null&&Wn.tag===0&&(fe&6)===0&&si();var i=fe;fe|=1;var a=Ft.transition,u=_e;try{if(Ft.transition=null,_e=1,r)return r()}finally{_e=u,Ft.transition=a,fe=i,(fe&6)===0&&Vn()}}function nc(){At=ri.current,ke(ri)}function mr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Ww(a)),ze!==null)for(a=ze.return;a!==null;){var u=a;switch(du(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Mo();break;case 3:ei(),ke(mt),ke(nt),xu();break;case 5:Su(u);break;case 4:ei();break;case 13:ke(De);break;case 19:ke(De);break;case 10:yu(u.type._context);break;case 22:case 23:nc()}a=a.return}if(Ke=r,ze=r=Gn(r.current,null),Je=At=i,$e=0,hs=null,qu=na=fr=0,vt=fs=null,cr!==null){for(i=0;i<cr.length;i++)if(a=cr[i],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,u.next=_}a.pending=u}cr=null}return r}function xm(r,i){do{var a=ze;try{if(gu(),Ho.current=qo,Go){for(var u=Me.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Go=!1}if(hr=0,Ge=We=Me=null,os=!1,as=0,Yu.current=null,a===null||a.return===null){$e=1,hs=i,ze=null;break}e:{var p=r,_=a.return,w=a,S=i;if(i=Je,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var A=S,L=w,b=L.tag;if((L.mode&1)===0&&(b===0||b===11||b===15)){var D=L.alternate;D?(L.updateQueue=D.updateQueue,L.memoizedState=D.memoizedState,L.lanes=D.lanes):(L.updateQueue=null,L.memoizedState=null)}var z=qp(_);if(z!==null){z.flags&=-257,Qp(z,_,w,p,i),z.mode&1&&Yp(p,A,i),i=z,S=A;var K=i.updateQueue;if(K===null){var Q=new Set;Q.add(S),i.updateQueue=Q}else K.add(S);break e}else{if((i&1)===0){Yp(p,A,i),rc();break e}S=Error(n(426))}}else if(Ae&&w.mode&1){var Be=qp(_);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Qp(Be,_,w,p,i),pu(ti(S,w));break e}}p=S=ti(S,w),$e!==4&&($e=2),fs===null?fs=[p]:fs.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var k=Gp(p,S,i);_p(p,k);break e;case 1:w=S;var E=p.type,I=p.stateNode;if((p.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(zn===null||!zn.has(I)))){p.flags|=65536,i&=-i,p.lanes|=i;var F=Kp(p,w,i);_p(p,F);break e}}p=p.return}while(p!==null)}Pm(a)}catch(X){i=X,ze===a&&a!==null&&(ze=a=a.return);continue}break}while(!0)}function Tm(){var r=ta.current;return ta.current=qo,r===null?qo:r}function rc(){($e===0||$e===3||$e===2)&&($e=4),Ke===null||(fr&268435455)===0&&(na&268435455)===0||Hn(Ke,Je)}function la(r,i){var a=fe;fe|=2;var u=Tm();(Ke!==r||Je!==i)&&(_n=null,mr(r,i));do try{pC();break}catch(d){xm(r,d)}while(!0);if(gu(),fe=a,ta.current=u,ze!==null)throw Error(n(261));return Ke=null,Je=0,$e}function pC(){for(;ze!==null;)km(ze)}function mC(){for(;ze!==null&&!B1();)km(ze)}function km(r){var i=Am(r.alternate,r,At);r.memoizedProps=r.pendingProps,i===null?Pm(r):ze=i,Yu.current=null}function Pm(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=aC(a,i,At),a!==null){ze=a;return}}else{if(a=lC(a,i),a!==null){a.flags&=32767,ze=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$e=6,ze=null;return}}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);$e===0&&($e=5)}function gr(r,i,a){var u=_e,d=Ft.transition;try{Ft.transition=null,_e=1,gC(r,i,a,u)}finally{Ft.transition=d,_e=u}return null}function gC(r,i,a,u){do si();while(Wn!==null);if((fe&6)!==0)throw Error(n(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(Q1(r,p),r===Ke&&(ze=Ke=null,Je=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ia||(ia=!0,Nm(ho,function(){return si(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Ft.transition,Ft.transition=null;var _=_e;_e=1;var w=fe;fe|=4,Yu.current=null,cC(r,a),ym(a,r),bw(ru),_o=!!nu,ru=nu=null,r.current=a,dC(a),U1(),fe=w,_e=_,Ft.transition=p}else r.current=a;if(ia&&(ia=!1,Wn=r,sa=d),p=r.pendingLanes,p===0&&(zn=null),$1(a.stateNode),_t(r,je()),i!==null)for(u=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(ra)throw ra=!1,r=Xu,Xu=null,r;return(sa&1)!==0&&r.tag!==0&&si(),p=r.pendingLanes,(p&1)!==0?r===Zu?ps++:(ps=0,Zu=r):ps=0,Vn(),null}function si(){if(Wn!==null){var r=mf(sa),i=Ft.transition,a=_e;try{if(Ft.transition=null,_e=16>r?16:r,Wn===null)var u=!1;else{if(r=Wn,Wn=null,sa=0,(fe&6)!==0)throw Error(n(331));var d=fe;for(fe|=4,$=r.current;$!==null;){var p=$,_=p.child;if(($.flags&16)!==0){var w=p.deletions;if(w!==null){for(var S=0;S<w.length;S++){var A=w[S];for($=A;$!==null;){var L=$;switch(L.tag){case 0:case 11:case 15:ds(8,L,p)}var b=L.child;if(b!==null)b.return=L,$=b;else for(;$!==null;){L=$;var D=L.sibling,z=L.return;if(hm(L),L===A){$=null;break}if(D!==null){D.return=z,$=D;break}$=z}}}var K=p.alternate;if(K!==null){var Q=K.child;if(Q!==null){K.child=null;do{var Be=Q.sibling;Q.sibling=null,Q=Be}while(Q!==null)}}$=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,$=_;else e:for(;$!==null;){if(p=$,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ds(9,p,p.return)}var k=p.sibling;if(k!==null){k.return=p.return,$=k;break e}$=p.return}}var E=r.current;for($=E;$!==null;){_=$;var I=_.child;if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,$=I;else e:for(_=E;$!==null;){if(w=$,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ea(9,w)}}catch(X){be(w,w.return,X)}if(w===_){$=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,$=F;break e}$=w.return}}if(fe=d,Vn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fo,r)}catch{}u=!0}return u}finally{_e=a,Ft.transition=i}}return!1}function Im(r,i,a){i=ti(a,i),i=Gp(r,i,1),r=Bn(r,i,1),i=ht(),r!==null&&(Vi(r,1,i),_t(r,i))}function be(r,i,a){if(r.tag===3)Im(r,r,a);else for(;i!==null;){if(i.tag===3){Im(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zn===null||!zn.has(u))){r=ti(a,r),r=Kp(i,r,1),i=Bn(i,r,1),r=ht(),i!==null&&(Vi(i,1,r),_t(i,r));break}}i=i.return}}function yC(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),i=ht(),r.pingedLanes|=r.suspendedLanes&a,Ke===r&&(Je&a)===a&&($e===4||$e===3&&(Je&130023424)===Je&&500>je()-Qu?mr(r,0):qu|=a),_t(r,i)}function Rm(r,i){i===0&&((r.mode&1)===0?i=1:(i=mo,mo<<=1,(mo&130023424)===0&&(mo=4194304)));var a=ht();r=gn(r,i),r!==null&&(Vi(r,i,a),_t(r,a))}function vC(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Rm(r,a)}function _C(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),Rm(r,a)}var Am;Am=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||mt.current)yt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return yt=!1,oC(r,i,a);yt=(r.flags&131072)!==0}else yt=!1,Ae&&(i.flags&1048576)!==0&&up(i,Fo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Zo(r,i),r=i.pendingProps;var d=Kr(i,nt.current);Jr(i,a),d=Pu(null,i,u,r,d,a);var p=Iu();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gt(u)?(p=!0,Lo(i)):p=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,wu(i),d.updater=Qo,i.stateNode=d,d._reactInternals=i,Lu(i,u,r,a),i=Vu(null,i,u,!0,p,a)):(i.tag=0,Ae&&p&&cu(i),dt(null,i,d,a),i=i.child),i;case 16:u=i.elementType;e:{switch(Zo(r,i),r=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=CC(u),r=Ht(u,r),d){case 0:i=Fu(null,i,u,r,a);break e;case 1:i=nm(null,i,u,r,a);break e;case 11:i=Xp(null,i,u,r,a);break e;case 14:i=Zp(null,i,u,Ht(u.type,r),a);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Ht(u,d),Fu(r,i,u,d,a);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Ht(u,d),nm(r,i,u,d,a);case 3:e:{if(rm(i),r===null)throw Error(n(387));u=i.pendingProps,p=i.memoizedState,d=p.element,vp(r,i),Wo(i,u,null,a);var _=i.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){d=ti(Error(n(423)),i),i=im(r,i,u,a,d);break e}else if(u!==d){d=ti(Error(n(424)),i),i=im(r,i,u,a,d);break e}else for(Rt=On(i.stateNode.containerInfo.firstChild),It=i,Ae=!0,$t=null,a=gp(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qr(),u===d){i=vn(r,i,a);break e}dt(r,i,u,a)}i=i.child}return i;case 5:return Cp(i),r===null&&fu(i),u=i.type,d=i.pendingProps,p=r!==null?r.memoizedProps:null,_=d.children,iu(u,d)?_=null:p!==null&&iu(u,p)&&(i.flags|=32),tm(r,i),dt(r,i,_,a),i.child;case 6:return r===null&&fu(i),null;case 13:return sm(r,i,a);case 4:return Cu(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Xr(i,null,u,a):dt(r,i,u,a),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Ht(u,d),Xp(r,i,u,d,a);case 7:return dt(r,i,i.pendingProps,a),i.child;case 8:return dt(r,i,i.pendingProps.children,a),i.child;case 12:return dt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,p=i.memoizedProps,_=d.value,Se(Bo,u._currentValue),u._currentValue=_,p!==null)if(Wt(p.value,_)){if(p.children===d.children&&!mt.current){i=vn(r,i,a);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var S=w.firstContext;S!==null;){if(S.context===u){if(p.tag===1){S=yn(-1,a&-a),S.tag=2;var A=p.updateQueue;if(A!==null){A=A.shared;var L=A.pending;L===null?S.next=S:(S.next=L.next,L.next=S),A.pending=S}}p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),vu(p.return,a,i),w.lanes|=a;break}S=S.next}}else if(p.tag===10)_=p.type===i.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=a,w=_.alternate,w!==null&&(w.lanes|=a),vu(_,a,i),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}dt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,Jr(i,a),d=Ot(d),u=u(d),i.flags|=1,dt(r,i,u,a),i.child;case 14:return u=i.type,d=Ht(u,i.pendingProps),d=Ht(u.type,d),Zp(r,i,u,d,a);case 15:return Jp(r,i,i.type,i.pendingProps,a);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Ht(u,d),Zo(r,i),i.tag=1,gt(u)?(r=!0,Lo(i)):r=!1,Jr(i,a),$p(i,u,d),Lu(i,u,d,a),Vu(null,i,u,!0,r,a);case 19:return am(r,i,a);case 22:return em(r,i,a)}throw Error(n(156,i.tag))};function Nm(r,i){return cf(r,i)}function wC(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(r,i,a,u){return new wC(r,i,a,u)}function ic(r){return r=r.prototype,!(!r||!r.isReactComponent)}function CC(r){if(typeof r=="function")return ic(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Tt)return 11;if(r===Ut)return 14}return 2}function Gn(r,i){var a=r.alternate;return a===null?(a=Vt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ua(r,i,a,u,d,p){var _=2;if(u=r,typeof r=="function")ic(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case se:return yr(a.children,d,p,i);case q:_=8,d|=8;break;case Ne:return r=Vt(12,a,i,d|2),r.elementType=Ne,r.lanes=p,r;case ut:return r=Vt(13,a,i,d),r.elementType=ut,r.lanes=p,r;case pt:return r=Vt(19,a,i,d),r.elementType=pt,r.lanes=p,r;case ae:return ca(a,d,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Oe:_=10;break e;case ft:_=9;break e;case Tt:_=11;break e;case Ut:_=14;break e;case ct:_=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Vt(_,a,i,d),i.elementType=r,i.type=u,i.lanes=p,i}function yr(r,i,a,u){return r=Vt(7,r,u,i),r.lanes=a,r}function ca(r,i,a,u){return r=Vt(22,r,u,i),r.elementType=ae,r.lanes=a,r.stateNode={isHidden:!1},r}function sc(r,i,a){return r=Vt(6,r,null,i),r.lanes=a,r}function oc(r,i,a){return i=Vt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function SC(r,i,a,u,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ac(r,i,a,u,d,p,_,w,S){return r=new SC(r,i,a,w,S),i===1?(i=1,p===!0&&(i|=8)):i=0,p=Vt(3,null,null,i),r.current=p,p.stateNode=r,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(p),r}function EC(r,i,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:u==null?null:""+u,children:r,containerInfo:i,implementation:a}}function Dm(r){if(!r)return Fn;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(gt(a))return op(r,a,i)}return i}function Mm(r,i,a,u,d,p,_,w,S){return r=ac(a,u,!0,r,d,p,_,w,S),r.context=Dm(null),a=r.current,u=ht(),d=$n(a),p=yn(u,d),p.callback=i??null,Bn(a,p,d),r.current.lanes=d,Vi(r,d,u),_t(r,u),r}function da(r,i,a,u){var d=i.current,p=ht(),_=$n(d);return a=Dm(a),i.context===null?i.context=a:i.pendingContext=a,i=yn(p,_),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=Bn(d,i,_),r!==null&&(Yt(r,d,_,p),zo(r,d,_)),_}function ha(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Lm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function lc(r,i){Lm(r,i),(r=r.alternate)&&Lm(r,i)}function xC(){return null}var Om=typeof reportError=="function"?reportError:function(r){console.error(r)};function uc(r){this._internalRoot=r}fa.prototype.render=uc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));da(r,i,null,null)},fa.prototype.unmount=uc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;pr(function(){da(null,r,null,null)}),i[hn]=null}};function fa(r){this._internalRoot=r}fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=vf();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Dn.length&&i!==0&&i<Dn[a].priority;a++);Dn.splice(a,0,r),a===0&&Cf(r)}};function cc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bm(){}function TC(r,i,a,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var A=ha(_);p.call(A)}}var _=Mm(i,u,r,0,null,!1,!1,"",bm);return r._reactRootContainer=_,r[hn]=_.current,Zi(r.nodeType===8?r.parentNode:r),pr(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var A=ha(S);w.call(A)}}var S=ac(r,0,!1,null,null,!1,!1,"",bm);return r._reactRootContainer=S,r[hn]=S.current,Zi(r.nodeType===8?r.parentNode:r),pr(function(){da(i,S,a,u)}),S}function ma(r,i,a,u,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var w=d;d=function(){var S=ha(_);w.call(S)}}da(i,_,r,d)}else _=TC(a,i,r,d,u);return ha(_)}gf=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Fi(i.pendingLanes);a!==0&&(Ll(i,a|1),_t(i,je()),(fe&6)===0&&(ii=je()+500,Vn()))}break;case 13:pr(function(){var u=gn(r,1);if(u!==null){var d=ht();Yt(u,r,1,d)}}),lc(r,1)}},Ol=function(r){if(r.tag===13){var i=gn(r,134217728);if(i!==null){var a=ht();Yt(i,r,134217728,a)}lc(r,134217728)}},yf=function(r){if(r.tag===13){var i=$n(r),a=gn(r,i);if(a!==null){var u=ht();Yt(a,r,i,u)}lc(r,i)}},vf=function(){return _e},_f=function(r,i){var a=_e;try{return _e=r,i()}finally{_e=a}},Pl=function(r,i,a){switch(i){case"input":if(_l(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var d=Do(u);if(!d)throw Error(n(90));zh(u),_l(u,d)}}}break;case"textarea":Kh(r,a);break;case"select":i=a.value,i!=null&&Or(r,!!a.multiple,i,!1)}},nf=tc,rf=pr;var kC={usingClientEntryPoint:!1,Events:[ts,Hr,Do,ef,tf,tc]},ms={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PC={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=lf(r),r===null?null:r.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||xC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{fo=ga.inject(PC),tn=ga}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC,wt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(i))throw Error(n(200));return EC(r,i,null,a)},wt.createRoot=function(r,i){if(!cc(r))throw Error(n(299));var a=!1,u="",d=Om;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=ac(r,1,!1,null,null,a,!1,u,d),r[hn]=i.current,Zi(r.nodeType===8?r.parentNode:r),new uc(i)},wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=lf(i),r=r===null?null:r.stateNode,r},wt.flushSync=function(r){return pr(r)},wt.hydrate=function(r,i,a){if(!pa(i))throw Error(n(200));return ma(null,r,i,!0,a)},wt.hydrateRoot=function(r,i,a){if(!cc(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,d=!1,p="",_=Om;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Mm(i,null,r,1,a??null,d,!1,p,_),r[hn]=i.current,Zi(r),u)for(r=0;r<u.length;r++)a=u[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new fa(i)},wt.render=function(r,i,a){if(!pa(i))throw Error(n(200));return ma(null,r,i,!1,a)},wt.unmountComponentAtNode=function(r){if(!pa(r))throw Error(n(40));return r._reactRootContainer?(pr(function(){ma(null,null,r,!1,function(){r._reactRootContainer=null,r[hn]=null})}),!0):!1},wt.unstable_batchedUpdates=tc,wt.unstable_renderSubtreeIntoContainer=function(r,i,a,u){if(!pa(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ma(r,i,a,!1,u)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var $m;function OC(){if($m)return fc.exports;$m=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fc.exports=LC(),fc.exports}var Hm;function bC(){if(Hm)return ya;Hm=1;var t=OC();return ya.createRoot=t.createRoot,ya.hydrateRoot=t.hydrateRoot,ya}var FC=bC();const VC="modulepreload",jC=function(t){return"/"+t},Gm={},BC=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");o=c(n.map(m=>{if(m=jC(m),m in Gm)return;Gm[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":VC,g||(v.as="script"),v.crossOrigin="",v.href=m,f&&v.setAttribute("nonce",f),document.head.appendChild(v),g)return new Promise((C,x)=>{v.addEventListener("load",C),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Z=Ed();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Km=t=>{const e=zC(t);return e.charAt(0).toUpperCase()+e.slice(1)},lv=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...h},f)=>Z.createElement("svg",{ref:f,...WC,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lv("lucide",o),...h},[...c.map(([m,g])=>Z.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(t,e)=>{const n=Z.forwardRef(({className:s,...o},l)=>Z.createElement($C,{ref:l,iconNode:e,className:lv(`lucide-${UC(Km(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Km(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GC=cn("calendar",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],YC=cn("clock",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],QC=cn("download",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],gc=cn("music",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],JC=cn("pause",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],tS=cn("play",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rS=cn("settings",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sS=cn("volume-2",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],aS=cn("volume-x",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uS=cn("x",lS),Ia={empathy:{name:"   ",color:{from:"from-pink-500",to:"to-pink-700",border:"border-pink-400",text:"text-pink-300"},colorValues:{primary:"236, 72, 153",secondary:"190, 24, 93",dark:"131, 24, 67",darker:"80, 7, 36"},charms:[""," ","",""," "," ",""]},responsibility:{name:"  ",color:{from:"from-cyan-500",to:"to-cyan-700",border:"border-cyan-400",text:"text-cyan-300"},colorValues:{primary:"6, 182, 212",secondary:"14, 116, 144",dark:"22, 78, 99",darker:"8, 51, 68"},charms:["","","","","","",""]},curiosity:{name:"   ",color:{from:"from-yellow-500",to:"to-yellow-700",border:"border-yellow-400",text:"text-yellow-300"},colorValues:{primary:"234, 179, 8",secondary:"161, 98, 7",dark:"113, 63, 18",darker:"66, 32, 6"},charms:["",""," ",""," ",""," ",""]},stability:{name:"    ",color:{from:"from-green-500",to:"to-green-700",border:"border-green-400",text:"text-green-300"},colorValues:{primary:"34, 197, 94",secondary:"21, 128, 61",dark:"20, 83, 45",darker:"5, 46, 22"},charms:["",""," ",""," "," ","",""]},morality:{name:"  ",color:{from:"from-blue-500",to:"to-blue-700",border:"border-blue-400",text:"text-blue-300"},colorValues:{primary:"59, 130, 246",secondary:"29, 78, 216",dark:"30, 58, 138",darker:"23, 37, 84"},charms:["","",""," ","",""]},humor:{name:" ",color:{from:"from-orange-500",to:"to-orange-700",border:"border-orange-400",text:"text-orange-300"},colorValues:{primary:"249, 115, 22",secondary:"194, 65, 12",dark:"124, 45, 18",darker:"67, 20, 7"},charms:[" "," "," ","   ","    "," "]},passion:{name:"   ",color:{from:"from-red-500",to:"to-red-700",border:"border-red-400",text:"text-red-300"},colorValues:{primary:"239, 68, 68",secondary:"185, 28, 28",dark:"127, 29, 29",darker:"69, 10, 10"},charms:[" ","","  ","","",""," "]}},yc=t=>(t||"").toLowerCase().replace(/\s+/g,"").replace(/[^-a-z0-9]/gi,""),cS={:" ",:"",:" ",:" ",:"",:"    ",:"",:" ",:" ",:" ",:" ",:"   ",:" "};function xd(t){if(!t)return null;const n=cS[yc(t)]||t,s=yc(n);for(const[o,l]of Object.entries(Ia))for(const c of l.charms){const h=yc(c);if(s.includes(h)||h.includes(s))return o}return null}function uv(t){const e={};t.forEach(o=>{const l=xd(o.charm_name);l&&(e[l]=(e[l]||0)+(Number(o.stage)||0))});let n=-1,s="passion";for(const[o,l]of Object.entries(e))l>n&&(n=l,s=o);return Ia[s]}const dS={empathy:"/images/cd-pink.png",responsibility:"/images/cd-cyan.png",curiosity:"/images/cd-yellow.png",stability:"/images/cd-green.png",morality:"/images/cd-blue.png",humor:"/images/cd-orange.png",passion:"/images/cd-red.png"};function hS(t){const e={};t.forEach(o=>{const l=xd(o.charm_name);l&&(e[l]=(e[l]||0)+(Number(o.stage)||0))});let n=-1,s="passion";for(const[o,l]of Object.entries(e))l>n&&(n=l,s=o);return dS[s]}function cv(t){const e=xd(t);return e?Ia[e].color:Ia.passion.color}function fS({track:t}){const[e,n]=Z.useState(!1),[s,o]=Z.useState(0),[l,c]=Z.useState(0),[h,f]=Z.useState(1),[m,g]=Z.useState(!1),y=Z.useRef(null),v=uv(t.traits),C=hS(t.traits);Z.useEffect(()=>{n(!1),o(0),y.current&&(y.current.pause(),y.current.currentTime=0)},[t.id]);const x=()=>{y.current&&(e?y.current.pause():y.current.play(),n(!e))},P=()=>{y.current&&(y.current.muted=!m,g(!m))},N=()=>{y.current&&o(y.current.currentTime)},O=()=>{y.current&&c(y.current.duration||t.duration)},B=Y=>{const se=parseFloat(Y.target.value);o(se),y.current&&(y.current.currentTime=se)},U=Y=>{const se=parseFloat(Y.target.value);f(se),y.current&&(y.current.volume=se)},H=Y=>{const se=Math.floor(Y/60),q=Math.floor(Y%60);return`${se}:${q.toString().padStart(2,"0")}`},G=Y=>{if(Y==null)return"";const se=typeof Y=="string"?parseInt(Y,10):Y,q=new Date(se);return isFinite(q.getTime())?q.toLocaleDateString("ko-KR"):""};return R.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl rounded-3xl p-8 border-2 border-slate-700/50 shadow-2xl",children:[R.jsx("div",{className:"relative mb-8",children:R.jsxs("div",{className:"aspect-square max-w-lg min-w-[512px] mx-auto relative",children:[R.jsx("img",{src:"/images/turntable.svg",alt:"Turntable",className:"w-full h-full object-contain"}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateX(-16px)"},children:R.jsxs("div",{className:`relative ${e?"animate-spin":""}`,style:{width:"65%",height:"65%",animationDuration:"3s",animationTimingFunction:"linear"},children:[R.jsx("div",{className:"absolute inset-0 rounded-full blur-xl opacity-40",style:{background:`radial-gradient(circle, ${v.color.from.replace("from-","")} 0%, transparent 70%)`,transform:"scale(0.95)"}}),R.jsx("img",{src:C,alt:"CD Album",className:"relative w-full h-full object-cover rounded-full",style:{filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.5)) drop-shadow(0 0 20px rgba(0,0,0,0.3))"}}),R.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%)",opacity:e?.6:.3,transition:"opacity 0.5s ease"}})]})}),R.jsx("div",{className:"absolute pointer-events-none",style:{top:"20%",right:"20%",width:"30%",height:"30%",transformOrigin:"top right",transform:e?"rotate(-5deg)":"rotate(-45deg)",transition:"transform 1s ease-in-out"},children:R.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[R.jsxs("defs",{children:[R.jsxs("linearGradient",{id:"tonearmGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[R.jsx("stop",{offset:"0%",style:{stopColor:"#5a5a5a",stopOpacity:1}}),R.jsx("stop",{offset:"30%",style:{stopColor:"#3a3a3a",stopOpacity:1}}),R.jsx("stop",{offset:"70%",style:{stopColor:"#2a2a2a",stopOpacity:1}}),R.jsx("stop",{offset:"100%",style:{stopColor:"#1a1a1a",stopOpacity:1}})]}),R.jsxs("linearGradient",{id:"tonearmTop",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[R.jsx("stop",{offset:"0%",style:{stopColor:"#4a4a4a",stopOpacity:1}}),R.jsx("stop",{offset:"50%",style:{stopColor:"#3a3a3a",stopOpacity:1}}),R.jsx("stop",{offset:"100%",style:{stopColor:"#2a2a2a",stopOpacity:1}})]}),R.jsxs("radialGradient",{id:"baseGrad",cx:"50%",cy:"50%",children:[R.jsx("stop",{offset:"0%",style:{stopColor:"#4a4a4a",stopOpacity:1}}),R.jsx("stop",{offset:"50%",style:{stopColor:"#2a2a2a",stopOpacity:1}}),R.jsx("stop",{offset:"100%",style:{stopColor:"#1a1a1a",stopOpacity:1}})]}),R.jsxs("filter",{id:"tonearmShadow",children:[R.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),R.jsx("feOffset",{dx:"1",dy:"2",result:"offsetblur"}),R.jsx("feComponentTransfer",{children:R.jsx("feFuncA",{type:"linear",slope:"0.5"})}),R.jsxs("feMerge",{children:[R.jsx("feMergeNode",{}),R.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),R.jsx("circle",{cx:"180",cy:"20",r:"18",fill:"#1a1a1a",opacity:"0.3"}),R.jsx("circle",{cx:"180",cy:"20",r:"16",fill:"url(#baseGrad)"}),R.jsx("circle",{cx:"180",cy:"20",r:"13",fill:"#2a2a2a"}),R.jsx("circle",{cx:"180",cy:"20",r:"11",fill:"#3a3a3a"}),R.jsxs("g",{filter:"url(#tonearmShadow)",children:[R.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"#000000",strokeWidth:"12",strokeLinecap:"round",opacity:"0.3"}),R.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"url(#tonearmGrad)",strokeWidth:"10",strokeLinecap:"round"}),R.jsx("line",{x1:"180",y1:"20",x2:"50",y2:"120",stroke:"url(#tonearmTop)",strokeWidth:"6",strokeLinecap:"round",opacity:"0.7"}),R.jsx("line",{x1:"180",y1:"20",x2:"115",y2:"70",stroke:"#5a5a5a",strokeWidth:"3",strokeLinecap:"round",opacity:"0.5"})]}),R.jsx("circle",{cx:"180",cy:"20",r:"6",fill:"#2a2a2a"}),R.jsx("circle",{cx:"180",cy:"20",r:"4",fill:"#4a4a4a"}),R.jsx("circle",{cx:"115",cy:"70",r:"5",fill:"#2a2a2a"}),R.jsx("circle",{cx:"115",cy:"70",r:"3",fill:"#3a3a3a"}),R.jsxs("g",{transform:"translate(50, 120)",children:[R.jsx("rect",{x:"-12",y:"-6",width:"24",height:"12",rx:"3",fill:"#1a1a1a"}),R.jsx("rect",{x:"-11",y:"-5",width:"22",height:"10",rx:"2",fill:"url(#tonearmGrad)"}),R.jsx("rect",{x:"-10",y:"-4",width:"20",height:"8",rx:"2",fill:"#2a2a2a"}),R.jsx("rect",{x:"-8",y:"-3",width:"16",height:"6",rx:"1",fill:"#3a3a3a"}),R.jsx("rect",{x:"-6",y:"-2",width:"4",height:"4",rx:"0.5",fill:"#252525"}),R.jsx("line",{x1:"0",y1:"6",x2:"0",y2:"14",stroke:"#888888",strokeWidth:"1.5",strokeLinecap:"round"}),R.jsx("circle",{cx:"0",cy:"14",r:"1.5",fill:"#666666"}),e&&R.jsxs(R.Fragment,{children:[R.jsxs("circle",{cx:"0",cy:"14",r:"3",fill:v.color.from.replace("from-",""),opacity:"0.3",children:[R.jsx("animate",{attributeName:"r",values:"3;5;3",dur:"1s",repeatCount:"indefinite"}),R.jsx("animate",{attributeName:"opacity",values:"0.3;0.6;0.3",dur:"1s",repeatCount:"indefinite"})]}),R.jsx("circle",{cx:"0",cy:"14",r:"2",fill:v.color.from.replace("from-",""),children:R.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1s",repeatCount:"indefinite"})})]})]})]})}),e&&R.jsx("div",{className:"absolute",style:{top:"38%",right:"32%",width:"4px",height:"4px"},children:R.jsx("div",{className:"w-full h-full rounded-full animate-pulse",style:{background:`${v.color.from.replace("from-","")}`,boxShadow:`0 0 10px ${v.color.from.replace("from-","")}`}})})]})}),R.jsxs("div",{className:"text-center mb-6",children:[R.jsx("h2",{className:"text-white text-2xl mb-2",children:typeof t.ordinal=="number"&&t.ordinal>0?`${t.ordinal}  `:" "}),R.jsx("div",{className:`inline-block px-4 py-1.5 bg-gradient-to-r ${v.color.from} ${v.color.to} rounded-full text-white text-sm mb-3 shadow-lg`,children:v.name}),R.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:t.traits.map((Y,se)=>{const q=cv(Y.charm_name);return R.jsxs("span",{className:`px-3 py-1 ${q.from.replace("from-","bg-")}/20 ${q.text} rounded-full text-sm border ${q.border}/50`,children:[Y.charm_name," Lv.",Y.stage]},se)})}),R.jsxs("p",{className:`${v.color.text} text-sm`,children:[H(l),G(t.createdAt)?`  ${G(t.createdAt)}`:""]})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("input",{type:"range",min:"0",max:l||100,value:s,onChange:B,className:`w-full h-2 ${v.color.from.replace("from-","bg-")}/30 rounded-lg appearance-none cursor-pointer slider`}),R.jsxs("div",{className:`flex justify-between ${v.color.text} text-sm mt-2`,children:[R.jsx("span",{children:H(s)}),R.jsx("span",{children:H(l)})]})]}),R.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[R.jsx("button",{onClick:x,className:`w-16 h-16 rounded-full bg-gradient-to-br ${v.color.from} ${v.color.to} hover:brightness-110 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105`,children:e?R.jsx(JC,{className:"w-8 h-8 text-white"}):R.jsx(tS,{className:"w-8 h-8 text-white ml-1"})}),R.jsx("button",{className:`w-12 h-12 rounded-full ${v.color.from.replace("from-","bg-")}/30 hover:${v.color.from.replace("from-","bg-")}/50 flex items-center justify-center transition-all duration-200 hover:scale-105 border ${v.color.border}/50`,children:R.jsx(QC,{className:"w-5 h-5 text-white"})})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("button",{onClick:P,className:`${v.color.text} hover:text-white transition-colors`,children:m?R.jsx(aS,{className:"w-5 h-5"}):R.jsx(sS,{className:"w-5 h-5"})}),R.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:m?0:h,onChange:U,className:`flex-1 h-2 ${v.color.from.replace("from-","bg-")}/30 rounded-lg appearance-none cursor-pointer slider`})]}),R.jsx("audio",{ref:y,src:t.audioUrl,onTimeUpdate:N,onLoadedMetadata:O,onEnded:()=>n(!1)}),R.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(168, 85, 247, 0.5);
        }

        .slider::-moz-range-thumb {
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 8px rgba(168, 85, 247, 0.5);
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}const pS=()=>{};var Ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw xi(e)},xi=function(t){return new Error("Firebase Database ("+dv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mS=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],f=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,g=l>>2,y=(l&3)<<4|h>>4;let v=(h&15)<<2|m>>6,C=m&63;f||(C=64,c||(v=64)),s.push(n[g],n[y],n[v],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||y==null)throw new gS;const v=l<<2|h>>4;if(s.push(v),m!==64){const C=h<<4&240|m>>2;if(s.push(C),y!==64){const x=m<<6&192|y;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fv=function(t){const e=hv(t);return Td.encodeByteArray(e,!0)},Ra=function(t){return fv(t).replace(/\./g,"")},Wc=function(t){try{return Td.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){return pv(void 0,t)}function pv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vS(n)||(t[n]=pv(t[n],e[n]));return t}function vS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=()=>_S().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof Ym>"u")return;const t=Ym.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wc(t[1]);return e&&JSON.parse(e)},mv=()=>{try{return pS()||wS()||CS()||SS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ES=t=>mv()?.emulatorHosts?.[t],gv=t=>{const e=ES(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yv=()=>mv()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ra(JSON.stringify(n)),Ra(JSON.stringify(c)),""].join(".")}const ks={};function xS(){const t={prod:[],emulator:[]};for(const e of Object.keys(ks))ks[e]?t.emulator.push(e):t.prod.push(e);return t}function TS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qm=!1;function wv(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||ks[t]===e||ks[t]||qm)return;ks[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=xS().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{qm=!0,c()},v}function g(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=TS(s),C=n("text"),x=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),N=document.getElementById(P)||document.createElement("a"),O=n("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;h(U),g(N,P);const H=m();f(B,O),U.append(B,x,N,H),document.body.appendChild(U)}l?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kS())}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){return dv.NODE_ADMIN===!0}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function AS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="FirebaseError";class Ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=NS,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sv.prototype.create)}}class Sv{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?DS(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ti(o,h,s)}}function DS(t,e){return t.replace(MS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const MS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(t){let e={},n={},s={},o="";try{const l=t.split(".");e=bs(Wc(l[0])||""),n=bs(Wc(l[1])||""),o=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},LS=function(t){const e=Ev(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},OS=function(t){const e=Ev(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e,n){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e.call(n,t[o],o,t));return s}function Na(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(Xm(l)&&Xm(c)){if(!Na(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Xm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=h^l&(c^h),g=1518500249):(m=l^c^h,g=1859775393):y<60?(m=l&c|h&(l|c),g=2400959708):(m=l^c^h,g=3395469782);const v=(o<<5|o>>>27)+m+f+g+s[y]&4294967295;f=h,h=c,c=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const l=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}else for(;o<n;)if(l[c]=e[o],++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[o]>>l&255,++s;return e}}function kd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=55296&&o<=56319){const l=o-55296;s++,V(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;o=65536+(l<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(US(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BS(t){return t===wr?void 0:t}function US(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const WS={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},$S=Ee.INFO,HS={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},GS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=HS[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=$S,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const KS=(t,e)=>e.some(n=>t instanceof n);let Zm,Jm;function YS(){return Zm||(Zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return Jm||(Jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,$c=new WeakMap,kv=new WeakMap,vc=new WeakMap,Pd=new WeakMap;function QS(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qn(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Tv.set(n,t)}).catch(()=>{}),Pd.set(e,t),e}function XS(t){if($c.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});$c.set(t,e)}let Hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $c.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZS(t){Hc=t(Hc)}function JS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_c(this),e,...n);return kv.set(s,e.sort?e.sort():[e]),qn(s)}:qS().includes(t)?function(...e){return t.apply(_c(this),e),qn(Tv.get(this))}:function(...e){return qn(t.apply(_c(this),e))}}function eE(t){return typeof t=="function"?JS(t):(t instanceof IDBTransaction&&XS(t),KS(t,YS())?new Proxy(t,Hc):t)}function qn(t){if(t instanceof IDBRequest)return QS(t);if(vc.has(t))return vc.get(t);const e=eE(t);return e!==t&&(vc.set(t,e),Pd.set(e,t)),e}const _c=t=>Pd.get(t);function tE(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=qn(c);return s&&c.addEventListener("upgradeneeded",f=>{s(qn(c.result),f.oldVersion,f.newVersion,qn(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const nE=["get","getKey","getAll","getAllKeys","count"],rE=["put","add","delete","clear"],wc=new Map;function eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=rE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nE.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return wc.set(e,l),l}ZS(t=>({...t,get:(e,n,s)=>eg(e,n)||t.get(e,n,s),has:(e,n)=>!!eg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sE(t){return t.getComponent()?.type==="VERSION"}const Gc="@firebase/app",tg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new xv("@firebase/app"),oE="@firebase/app-compat",aE="@firebase/analytics-compat",lE="@firebase/analytics",uE="@firebase/app-check-compat",cE="@firebase/app-check",dE="@firebase/auth",hE="@firebase/auth-compat",fE="@firebase/database",pE="@firebase/data-connect",mE="@firebase/database-compat",gE="@firebase/functions",yE="@firebase/functions-compat",vE="@firebase/installations",_E="@firebase/installations-compat",wE="@firebase/messaging",CE="@firebase/messaging-compat",SE="@firebase/performance",EE="@firebase/performance-compat",xE="@firebase/remote-config",TE="@firebase/remote-config-compat",kE="@firebase/storage",PE="@firebase/storage-compat",IE="@firebase/firestore",RE="@firebase/ai",AE="@firebase/firestore-compat",NE="firebase",DE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]",ME={[Gc]:"fire-core",[oE]:"fire-core-compat",[lE]:"fire-analytics",[aE]:"fire-analytics-compat",[cE]:"fire-app-check",[uE]:"fire-app-check-compat",[dE]:"fire-auth",[hE]:"fire-auth-compat",[fE]:"fire-rtdb",[pE]:"fire-data-connect",[mE]:"fire-rtdb-compat",[gE]:"fire-fn",[yE]:"fire-fn-compat",[vE]:"fire-iid",[_E]:"fire-iid-compat",[wE]:"fire-fcm",[CE]:"fire-fcm-compat",[SE]:"fire-perf",[EE]:"fire-perf-compat",[xE]:"fire-rc",[TE]:"fire-rc-compat",[kE]:"fire-gcs",[PE]:"fire-gcs-compat",[IE]:"fire-fst",[AE]:"fire-fst-compat",[RE]:"fire-vertex","fire-js":"fire-js",[NE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,LE=new Map,Yc=new Map;function ng(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Yc.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Yc.set(e,t);for(const n of Da.values())ng(n,t);for(const n of LE.values())ng(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Iv(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new Sv("app","Firebase",OE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=DE;function Av(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Kc,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qn.create("bad-app-name",{appName:String(o)});if(n||(n=yv()),!n)throw Qn.create("no-options");const l=Da.get(o);if(l){if(Na(n,l.options)&&Na(s,l.config))return l;throw Qn.create("duplicate-app",{appName:o})}const c=new zS(o);for(const f of Yc.values())c.addComponent(f);const h=new bE(n,s,c);return Da.set(o,h),h}function Nv(t=Kc){const e=Da.get(t);if(!e&&t===Kc&&yv())return Av();if(!e)throw Qn.create("no-app",{appName:t});return e}function Xn(t,e,n){let s=ME[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(c.join(" "));return}Fs(new yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebase-heartbeat-database",VE=1,Vs="firebase-heartbeat-store";let Cc=null;function Dv(){return Cc||(Cc=tE(FE,VE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),Cc}async function jE(t){try{const n=(await Dv()).transaction(Vs),s=await n.objectStore(Vs).get(Mv(t));return await n.done,s}catch(e){if(e instanceof Ti)xn.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}}async function rg(t,e){try{const s=(await Dv()).transaction(Vs,"readwrite");await s.objectStore(Vs).put(e,Mv(t)),await s.done}catch(n){if(n instanceof Ti)xn.warn(n.message);else{const s=Qn.create("idb-set",{originalErrorMessage:n?.message});xn.warn(s.message)}}}function Mv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=1024,UE=30;class zE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $E(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ig();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UE){const o=HE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ig(),{heartbeatsToSend:n,unsentEntries:s}=WE(this._heartbeatsCache.heartbeats),o=Ra(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xn.warn(e),""}}}function ig(){return new Date().toISOString().substring(0,10)}function WE(t,e=BE){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),sg(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?AS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jE(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sg(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function HE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){Fs(new yi("platform-logger",e=>new iE(e),"PRIVATE")),Fs(new yi("heartbeat",e=>new zE(e),"PRIVATE")),Xn(Gc,tg,t),Xn(Gc,tg,"esm2020"),Xn("fire-js","")}GE("");var KE="firebase",YE="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(KE,YE,"app");var og={};const ag="@firebase/database",lg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv="";function qE(t){Lv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:bs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return In(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QE(e)}}catch{}return new XE},xr=Ov("localStorage"),ZE=Ov("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new xv("@firebase/database"),JE=(function(){let t=1;return function(){return t++}})(),bv=function(t){const e=VS(t),n=new FS;n.update(e);const s=n.digest();return Td.encodeByteArray(s)},Xs=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Xs.apply(null,s):typeof s=="object"?e+=Xe(s):e+=s,e+=" "}return e};let Ps=null,ug=!0;const ex=function(t,e){V(!0,"Can't turn on custom loggers persistently."),fi.logLevel=Ee.VERBOSE,Ps=fi.log.bind(fi)},at=function(...t){if(ug===!0&&(ug=!1,Ps===null&&ZE.get("logging_enabled")===!0&&ex()),Ps){const e=Xs.apply(null,t);Ps(e)}},Zs=function(t){return function(...e){at(t,...e)}},qc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xs(...t);fi.error(e)},Tn=function(...t){const e=`FIREBASE FATAL ERROR: ${Xs(...t)}`;throw fi.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+Xs(...t);fi.warn(e)},tx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vi="[MIN_NAME]",Ir="[MAX_NAME]",ki=function(t,e){if(t===e)return 0;if(t===vi||e===Ir)return-1;if(e===vi||t===Ir)return 1;{const n=cg(t),s=cg(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},rx=function(t,e){return t===e?0:t<e?-1:1},ys=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},Id=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Xe(e[s]),n+=":",n+=Id(t[e[s]]);return n+="}",n},Vv=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(t.substring(o,n)):s.push(t.substring(o,o+e));return s};function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jv=function(t){V(!Fv(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,l,c,h,f;t===0?(l=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=h+s,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,c=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(f=n;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const g=m.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},ix=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ox(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const ax=new RegExp("^-?(0*)\\d{1,10}$"),lx=-2147483648,ux=2147483647,cg=function(t){if(ax.test(t)){const e=Number(t);if(e>=lx&&e<=ux)return e}return null},Pi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},cx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Is=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Iv(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class xa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="5",Bv="v",Uv="s",zv="r",Wv="f",$v=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hv="ls",Gv="p",Qc="ac",Kv="websocket",Yv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,s,o,l=!1,c="",h=!1,f=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Qv(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let s;if(e===Kv)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Yv)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fx(t)&&(n.ns=t.namespace);const o=[];return xt(n,(l,c)=>{o.push(l+"="+c)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.counters_={}}incrementCounter(e,n=1){In(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},Ec={};function Ad(t){const e=t.toString();return Sc[e]||(Sc[e]=new px),Sc[e]}function mx(t,e){const n=t.toString();return Ec[n]||(Ec[n]=e()),Ec[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Pi(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="start",yx="close",vx="pLPCommand",_x="pRTLPCB",Xv="id",Zv="pw",Jv="ser",wx="cb",Cx="seg",Sx="ts",Ex="d",xx="dframe",e_=1870,t_=30,Tx=e_-t_,kx=25e3,Px=3e4;class ai{constructor(e,n,s,o,l,c,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zs(e),this.stats_=Ad(n),this.urlFn=f=>(this.appCheckToken&&(f[Qc]=this.appCheckToken),Qv(n,Yv,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Px)),nx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nd((...l)=>{const[c,h,f,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===dg)this.id=h,this.password=f;else if(c===yx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[dg]="t",s[Jv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[wx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Bv]=Rd,this.transportSessionId&&(s[Uv]=this.transportSessionId),this.lastSessionId&&(s[Hv]=this.lastSessionId),this.applicationId&&(s[Gv]=this.applicationId),this.appCheckToken&&(s[Qc]=this.appCheckToken),typeof location<"u"&&location.hostname&&$v.test(location.hostname)&&(s[zv]=Wv);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ai.forceAllow_=!0}static forceDisallow(){ai.forceDisallow_=!0}static isAvailable(){return ai.forceAllow_?!0:!ai.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ix()&&!sx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=fv(n),o=Vv(s,Tx);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[xx]="t",s[Xv]=e,s[Zv]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Nd{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JE(),window[vx+this.uniqueCallbackIdentifier]=e,window[_x+this.uniqueCallbackIdentifier]=n,this.myIFrame=Nd.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){at("frame writing exception"),h.stack&&at(h.stack),at(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Xv]=this.myID,e[Zv]=this.myPW,e[Jv]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t_+s.length<=e_;){const c=this.pendingSegs.shift();s=s+"&"+Cx+o+"="+c.seg+"&"+Sx+o+"="+c.ts+"&"+Ex+o+"="+c.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(kx)),l=()=>{clearTimeout(o),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=16384,Rx=45e3;let Ma=null;typeof MozWebSocket<"u"?Ma=MozWebSocket:typeof WebSocket<"u"&&(Ma=WebSocket);class Qt{constructor(e,n,s,o,l,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zs(this.connId),this.stats_=Ad(n),this.connURL=Qt.connectionURL_(n,c,h,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,l){const c={};return c[Bv]=Rd,typeof location<"u"&&location.hostname&&$v.test(location.hostname)&&(c[zv]=Wv),n&&(c[Uv]=n),s&&(c[Hv]=s),o&&(c[Qc]=o),l&&(c[Gv]=l),Qv(e,Kv,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xr.set("previous_websocket_failure",!0);try{let s;IS(),this.mySock=new Ma(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Ma!==null&&!Qt.forceDisallow_}static previouslyFailed(){return xr.isInMemoryStorage||xr.get("previous_websocket_failure")===!0}markConnectionHealthy(){xr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=bs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Vv(n,Ix);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Rx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static get ALL_TRANSPORTS(){return[ai,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qt&&Qt.isAvailable();let s=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Qt];else{const o=this.transports_=[];for(const l of js.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);js.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}js.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=6e4,Nx=5e3,Dx=10*1024,Mx=100*1024,xc="t",hg="d",Lx="s",fg="r",Ox="e",pg="o",mg="a",gg="n",yg="p",bx="h";class Fx{constructor(e,n,s,o,l,c,h,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zs("c:"+this.id+":"),this.transportManager_=new js(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xc in e){const n=e[xc];n===mg?this.upgradeIfSecondaryHealthy_():n===fg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ys("t",e),s=ys("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ys("t",e),s=ys("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ys(xc,e);if(hg in e){const s=e[hg];if(n===bx){const o={...s};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Lx?this.onConnectionShutdown_(s):n===fg?this.onReset_(s):n===Ox?qc("Server Error: "+s):n===pg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Rd!==s&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ax))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Nx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!s||s===o[l].context)){o.splice(l,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends r_{static getInstance(){return new La}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=32,_g=768;class we{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ye(){return new we("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jn(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function i_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function s_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function o_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function He(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof we)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new we(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=ue(t),s=ue(e);if(n===null)return e;if(n===s)return Ct(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dd(t,e){if(Jn(t)!==Jn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Xt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Jn(t)>Jn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class jx{constructor(e,n){this.errorPrefix_=n,this.parts_=s_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=rl(this.parts_[s]);a_(this)}}function Bx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rl(e),a_(t)}function Ux(t){const e=t.parts_.pop();t.byteLength_-=rl(e),t.parts_.length>0&&(t.byteLength_-=1)}function a_(t){if(t.byteLength_>_g)throw new Error(t.errorPrefix_+"has a key path longer than "+_g+" bytes ("+t.byteLength_+").");if(t.parts_.length>vg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vg+") or object contains a cycle "+Cr(t))}function Cr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends r_{static getInstance(){return new Md}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=1e3,zx=300*1e3,wg=30*1e3,Wx=1.3,$x=3e4,Hx="server_kill",Cg=3;class Cn extends n_{constructor(e,n,s,o,l,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Cn.nextPersistentConnectionId_++,this.log_=Zs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vs,this.maxReconnectDelay_=zx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Md.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&La.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Xe(l)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new tl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,o){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(c).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const l={p:s},c="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,h=>{const f=h.d,m=h.s;Cn.warnOnListenWarnings_(f,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&In(e,"w")){const s=gi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||OS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=LS(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const l=o.s,c=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},c="n";o&&(l.q=s,l.t=o),this.sendRequest(c,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,l){this.initConnection_();const c={p:n,d:s};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qc("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$x&&(this.reconnectDelay_=vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Cn.nextConnectionId_++,l=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,s())},m=function(y){V(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new Fx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,C=>{Et(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hx)},l))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Et(y),f())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qm(this.interruptReasons_)&&(this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>Id(l)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new we(e).toString();let o;if(this.listens.has(s)){const l=this.listens.get(s);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Cg&&(this.reconnectDelay_=wg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Cg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Lv.replace(/\./g,"-")]=1,Cv()?e["framework.cordova"]=1:PS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=La.getInstance().currentlyOnline();return Qm(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ce(vi,e),o=new ce(vi,n);return this.compare(s,o)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;class l_ extends il{static get __EMPTY_NODE(){return va}static set __EMPTY_NODE(e){va=e}compare(e,n){return ki(e.name,n.name)}isDefinedOn(e){throw xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Ir,va)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,va)}toString(){return".key"}}const pi=new l_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,s,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??Qe.RED,this.left=o??St.EMPTY_NODE,this.right=l??St.EMPTY_NODE}copy(e,n,s,o,l){return new Qe(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class Gx{copy(e,n,s,o,l){return this}insert(e,n,s){return new Qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,n=St.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new St(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _a(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _a(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _a(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _a(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new Gx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){return ki(t.name,e.name)}function Ld(t,e){return ki(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc;function Yx(t){Xc=t}const u_=function(t){return typeof t=="number"?"number:"+jv(t):"string:"+t},c_=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&In(e,".sv"),"Priority must be a string or number.")}else V(t===Xc||t.isEmpty(),"priority of unexpected type.");V(t===Xc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;class qe{static set __childrenNodeConstructor(e){Sg=e}static get __childrenNodeConstructor(){return Sg}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:ue(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ue(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||Jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+u_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jv(this.value_):e+=this.value_,this.lazyHash_=bv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=qe.VALUE_TYPE_ORDER.indexOf(n),l=qe.VALUE_TYPE_ORDER.indexOf(s);return V(o>=0,"Unknown leaf type: "+n),V(l>=0,"Unknown leaf type: "+s),o===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_,h_;function qx(t){d_=t}function Qx(t){h_=t}class Xx extends il{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),l=s.compareTo(o);return l===0?ki(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Ir,new qe("[PRIORITY-POST]",h_))}makePost(e,n){const s=d_(e);return new ce(n,new qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new Xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=Math.log(2);class Jx{constructor(e){const n=l=>parseInt(Math.log(l)/Zx,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,s){t.sort(e);const o=function(f,m){const g=m-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,null,null);{const C=parseInt(g/2,10)+f,x=o(f,C),P=o(C+1,m);return y=t[C],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,x,P)}},l=function(f){let m=null,g=null,y=t.length;const v=function(x,P){const N=y-x,O=y;y-=x;const B=o(N+1,O),U=t[N],H=n?n(U):U;C(new Qe(H,U.node,P,null,B))},C=function(x){m?(m.left=x,m=x):(g=x,m=x)};for(let x=0;x<f.count;++x){const P=f.nextBitIsOne(),N=Math.pow(2,f.count-(x+1));P?v(N,Qe.BLACK):(v(N,Qe.BLACK),v(N,Qe.RED))}return g},c=new Jx(t.length),h=l(c);return new St(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const oi={};class wn{static get Default(){return V(oi&&Ve,"ChildrenNode.ts has not been loaded"),Tc=Tc||new wn({".priority":oi},{".priority":Ve}),Tc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=gi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof St?n:null}hasIndex(e){return In(this.indexSet_,e.toString())}addIndex(e,n){V(e!==pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const l=n.getIterator(ce.Wrap);let c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=l.getNext();let h;o?h=Oa(s,e.getCompare()):h=oi;const f=e.toString(),m={...this.indexSet_};m[f]=e;const g={...this.indexes_};return g[f]=h,new wn(g,m)}addToIndexes(e,n){const s=Aa(this.indexes_,(o,l)=>{const c=gi(this.indexSet_,l);if(V(c,"Missing index implementation for "+l),o===oi)if(c.isDefinedOn(e.node)){const h=[],f=n.getIterator(ce.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&h.push(m),m=f.getNext();return h.push(e),Oa(h,c.getCompare())}else return oi;else{const h=n.get(e.name);let f=o;return h&&(f=f.remove(new ce(e.name,h))),f.insert(e,e.node)}});return new wn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Aa(this.indexes_,o=>{if(o===oi)return o;{const l=n.get(e.name);return l?o.remove(new ce(e.name,l)):o}});return new wn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class re{static get EMPTY_NODE(){return _s||(_s=new re(new St(Ld),null,wn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&c_(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_s:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ce(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?_s:this.priorityNode_;return new re(o,c,l)}}updateChild(e,n){const s=ue(e);if(s===null)return n;{V(ue(e)!==".priority"||Jn(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(xe(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,l=!0;if(this.forEachChild(Ve,(c,h)=>{n[c]=h.val(e),s++,l&&re.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*s){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+u_(this.getPriority().val())+":"),this.forEachChild(Ve,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":bv(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const l=o.getPredecessorKey(new ce(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ce.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Js?-1:0}withIndex(e){if(e===pi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ve),o=n.getIterator(Ve);let l=s.getNext(),c=o.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=s.getNext(),c=o.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===pi?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eT extends re{constructor(){super(new St(Ld),re.EMPTY_NODE,wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const Js=new eT;Object.defineProperties(ce,{MIN:{value:new ce(vi,re.EMPTY_NODE)},MAX:{value:new ce(Ir,Js)}});l_.__EMPTY_NODE=re.EMPTY_NODE;qe.__childrenNodeConstructor=re;Yx(Js);Qx(Js);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=!0;function tt(t,e=null){if(t===null)return re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,tt(e))}if(!(t instanceof Array)&&tT){const n=[];let s=!1;if(xt(t,(c,h)=>{if(c.substring(0,1)!=="."){const f=tt(h);f.isEmpty()||(s=s||!f.getPriority().isEmpty(),n.push(new ce(c,f)))}}),n.length===0)return re.EMPTY_NODE;const l=Oa(n,Kx,c=>c.name,Ld);if(s){const c=Oa(n,Ve.getCompare());return new re(l,tt(e),new wn({".priority":c},{".priority":Ve}))}else return new re(l,tt(e),wn.Default)}else{let n=re.EMPTY_NODE;return xt(t,(s,o)=>{if(In(t,s)&&s.substring(0,1)!=="."){const l=tt(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(tt(e))}}qx(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends il{constructor(e){super(),this.indexPath_=e,V(!he(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),l=s.compareTo(o);return l===0?ki(e.name,n.name):l}makePost(e,n){const s=tt(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(n,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,Js);return new ce(Ir,e)}toString(){return s_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends il{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ki(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const s=tt(e);return new ce(n,s)}toString(){return".value"}}const iT=new rT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){return{type:"value",snapshotNode:t}}function _i(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Us(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.index_=e}updateChild(e,n,s,o,l,c){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(Bs(n,h)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(_i(n,s)):c.trackChildChange(Us(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(o,l)=>{n.hasChild(o)||s.trackChildChange(Bs(o,l))}),n.isLeafNode()||n.forEachChild(Ve,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||s.trackChildChange(Us(o,l,c))}else s.trackChildChange(_i(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.indexedFilter_=new Od(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zs.getStartPost_(e),this.endPost_=zs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,l,c){return this.matches(new ce(n,s))||(s=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,l,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=re.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const l=this;return n.forEachChild(Ve,(c,h)=>{l.matches(new ce(c,h))||(o=o.updateImmediateChild(c,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new zs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,l,c){return this.rangedFilter_.matches(new ce(n,s))||(s=re.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,l,c):this.fullLimitUpdateChild_(e,n,s,l,c)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let c=0;for(;l.hasNext();){const h=l.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,l){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,C)=>y(C,v)}else c=this.index_.getCompare();const h=e;V(h.numChildren()===this.limit_,"");const f=new ce(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(h.hasChild(n)){const y=h.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||h.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const C=v==null?1:c(v,f);if(g&&!s.isEmpty()&&C>=0)return l?.trackChildChange(Us(n,s,y)),h.updateImmediateChild(n,s);{l?.trackChildChange(Bs(n,y));const P=h.updateImmediateChild(n,re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l?.trackChildChange(_i(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return s.isEmpty()?e:g&&c(m,f)>=0?(l!=null&&(l.trackChildChange(Bs(m.name,m.node)),l.trackChildChange(_i(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vi}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new bd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aT(t){return t.loadsAllData()?new Od(t.getIndex()):t.hasLimit()?new oT(t):new zs(t)}function Eg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===iT?n="$value":t.index_===pi?n="$key":(V(t.index_ instanceof nT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Xe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Xe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Xe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends n_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=Zs("p:rest:"),this.listens_={}}listen(e,n,s,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=ba.getListenId_(e,s),h={};this.listens_[c]=h;const f=Eg(e._queryParams);this.restRequest_(l+".json",f,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,s),gi(this.listens_,c)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",o(v,null)}})}unlisten(e,n){const s=ba.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Eg(e._queryParams),s=e._path.toString(),o=new tl;return this.restRequest_(s+".json",n,(l,c)=>{let h=c;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bS(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=bs(h.responseText)}catch{Et("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,f)}else h.status!==401&&h.status!==404&&Et("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return{value:null,children:new Map}}function p_(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ue(e);t.children.has(s)||t.children.set(s,Fa());const o=t.children.get(s);e=xe(e),p_(o,e,n)}}function Zc(t,e,n){t.value!==null?n(e,t.value):uT(t,(s,o)=>{const l=new we(e.toString()+"/"+s);Zc(o,l,n)})}function uT(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&xt(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=10*1e3,dT=30*1e3,hT=300*1e3;class fT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cT(e);const s=Tg+(dT-Tg)*Math.random();Is(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;xt(e,(o,l)=>{l>0&&In(this.statsToReport_,o)&&(n[o]=l,s=!0)}),s&&this.server_.reportStats(n),Is(this.reportStats_.bind(this),Math.floor(Math.random()*2*hT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function m_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=m_()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new Va(ye(),n,this.revert)}}else return V(ue(this.path)===e,"operationForChild called for unrelated child."),new Va(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Ws(this.source,ye()):new Ws(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return he(this.path)?new Rr(this.source,ye(),this.snap.getImmediateChild(e)):new Rr(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new Rr(this.source,ye(),n.value):new $s(this.source,ye(),n)}else return V(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $s(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mT(t,e,n,s){const o=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(sT(c.childName,c.snapshotNode))}),ws(t,o,"child_removed",e,s,n),ws(t,o,"child_added",e,s,n),ws(t,o,"child_moved",l,s,n),ws(t,o,"child_changed",e,s,n),ws(t,o,"value",e,s,n),o}function ws(t,e,n,s,o,l){const c=s.filter(h=>h.type===n);c.sort((h,f)=>yT(t,h,f)),c.forEach(h=>{const f=gT(t,h,l);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(f,t.query_))})})}function gT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function yT(t,e,n){if(e.childName==null||n.childName==null)throw xi("Should only compare child_ events.");const s=new ce(e.childName,e.snapshotNode),o=new ce(n.childName,n.snapshotNode);return t.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){return{eventCache:t,serverCache:e}}function Rs(t,e,n,s){return sl(new Ar(e,n,s),t.serverCache)}function g_(t,e,n,s){return sl(t.eventCache,new Ar(e,n,s))}function Jc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;const vT=()=>(kc||(kc=new St(rx)),kc);class Pe{static fromObject(e){let n=new Pe(null);return xt(e,(s,o)=>{n=n.set(new we(s),o)}),n}constructor(e,n=vT()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(he(e))return null;{const s=ue(e),o=this.children.get(s);if(o!==null){const l=o.findRootMostMatchingPathAndValue(xe(e),n);return l!=null?{path:He(new we(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=ue(e),s=this.children.get(n);return s!==null?s.subtree(xe(e)):new Pe(null)}}set(e,n){if(he(e))return new Pe(n,this.children);{const s=ue(e),l=(this.children.get(s)||new Pe(null)).set(xe(e),n),c=this.children.insert(s,l);return new Pe(this.value,c)}}remove(e){if(he(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=ue(e),s=this.children.get(n);if(s){const o=s.remove(xe(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Pe(null):new Pe(this.value,l)}else return this}}get(e){if(he(e))return this.value;{const n=ue(e),s=this.children.get(n);return s?s.get(xe(e)):null}}setTree(e,n){if(he(e))return n;{const s=ue(e),l=(this.children.get(s)||new Pe(null)).setTree(xe(e),n);let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),new Pe(this.value,c)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,l)=>{s[o]=l.fold_(He(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(he(e))return null;{const l=ue(e),c=this.children.get(l);return c?c.findOnPath_(xe(e),He(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,s){if(he(e))return this;{this.value&&s(n,this.value);const o=ue(e),l=this.children.get(o);return l?l.foreachOnPath_(xe(e),He(n,o),s):new Pe(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_(He(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new Pe(null))}}function As(t,e,n){if(he(e))return new en(new Pe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let l=s.value;const c=Ct(o,e);return l=l.updateChild(c,n),new en(t.writeTree_.set(o,l))}else{const o=new Pe(n),l=t.writeTree_.setTree(e,o);return new en(l)}}}function kg(t,e,n){let s=t;return xt(n,(o,l)=>{s=As(s,He(e,o),l)}),s}function Pg(t,e){if(he(e))return en.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new en(n)}}function ed(t,e){return Mr(t,e)!=null}function Mr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Ig(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(s,o)=>{e.push(new ce(s,o))}):t.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new ce(s,o.value))}),e}function Zn(t,e){if(he(e))return t;{const n=Mr(t,e);return n!=null?new en(new Pe(n)):new en(t.writeTree_.subtree(e))}}function td(t){return t.writeTree_.isEmpty()}function wi(t,e){return y_(ye(),t.writeTree_,e)}function y_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(V(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=y_(He(t,o),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(He(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t,e){return C_(e,t)}function _T(t,e,n,s,o){V(s>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(t.visibleWrites=As(t.visibleWrites,e,n)),t.lastWriteId=s}function wT(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function CT(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let o=s.visible,l=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&ST(h,s.path)?o=!1:Xt(s.path,h.path)&&(l=!0)),c--}if(o){if(l)return ET(t),!0;if(s.snap)t.visibleWrites=Pg(t.visibleWrites,s.path);else{const h=s.children;xt(h,f=>{t.visibleWrites=Pg(t.visibleWrites,He(s.path,f))})}return!0}else return!1}function ST(t,e){if(t.snap)return Xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xt(He(t.path,n),e))return!0;return!1}function ET(t){t.visibleWrites=v_(t.allWrites,xT,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xT(t){return t.visible}function v_(t,e,n){let s=en.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const c=l.path;let h;if(l.snap)Xt(n,c)?(h=Ct(n,c),s=As(s,h,l.snap)):Xt(c,n)&&(h=Ct(c,n),s=As(s,ye(),l.snap.getChild(h)));else if(l.children){if(Xt(n,c))h=Ct(n,c),s=kg(s,h,l.children);else if(Xt(c,n))if(h=Ct(c,n),he(h))s=kg(s,ye(),l.children);else{const f=gi(l.children,ue(h));if(f){const m=f.getChild(xe(h));s=As(s,ye(),m)}}}else throw xi("WriteRecord should have .snap or .children")}}return s}function __(t,e,n,s,o){if(!s&&!o){const l=Mr(t.visibleWrites,e);if(l!=null)return l;{const c=Zn(t.visibleWrites,e);if(td(c))return n;if(n==null&&!ed(c,ye()))return null;{const h=n||re.EMPTY_NODE;return wi(c,h)}}}else{const l=Zn(t.visibleWrites,e);if(!o&&td(l))return n;if(!o&&n==null&&!ed(l,ye()))return null;{const c=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(Xt(m.path,e)||Xt(e,m.path))},h=v_(t.allWrites,c,e),f=n||re.EMPTY_NODE;return wi(h,f)}}}function TT(t,e,n){let s=re.EMPTY_NODE;const o=Mr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ve,(l,c)=>{s=s.updateImmediateChild(l,c)}),s;if(n){const l=Zn(t.visibleWrites,e);return n.forEachChild(Ve,(c,h)=>{const f=wi(Zn(l,new we(c)),h);s=s.updateImmediateChild(c,f)}),Ig(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const l=Zn(t.visibleWrites,e);return Ig(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function kT(t,e,n,s,o){V(s||o,"Either existingEventSnap or existingServerSnap must exist");const l=He(e,n);if(ed(t.visibleWrites,l))return null;{const c=Zn(t.visibleWrites,l);return td(c)?o.getChild(n):wi(c,o.getChild(n))}}function PT(t,e,n,s){const o=He(e,n),l=Mr(t.visibleWrites,o);if(l!=null)return l;if(s.isCompleteForChild(n)){const c=Zn(t.visibleWrites,o);return wi(c,s.getNode().getImmediateChild(n))}else return null}function IT(t,e){return Mr(t.visibleWrites,e)}function RT(t,e,n,s,o,l,c){let h;const f=Zn(t.visibleWrites,e),m=Mr(f,ye());if(m!=null)h=m;else if(n!=null)h=wi(f,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),v=l?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let C=v.getNext();for(;C&&g.length<o;)y(C,s)!==0&&g.push(C),C=v.getNext();return g}else return[]}function AT(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function ja(t,e,n,s){return __(t.writeTree,t.treePath,e,n,s)}function Bd(t,e){return TT(t.writeTree,t.treePath,e)}function Rg(t,e,n,s){return kT(t.writeTree,t.treePath,e,n,s)}function Ba(t,e){return IT(t.writeTree,He(t.treePath,e))}function NT(t,e,n,s,o,l){return RT(t.writeTree,t.treePath,e,n,s,o,l)}function Ud(t,e,n){return PT(t.writeTree,t.treePath,e,n)}function w_(t,e){return C_(He(t.treePath,e),t.writeTree)}function C_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,Us(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,Bs(s,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,_i(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,Us(s,e.snapshotNode,o.oldSnap));else throw xi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const S_=new MT;class zd{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ud(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Nr(this.viewCache_),l=NT(this.writes_,o,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){return{filter:t}}function OT(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bT(t,e,n,s,o){const l=new DT;let c,h;if(n.type===Zt.OVERWRITE){const m=n;m.source.fromUser?c=nd(t,e,m.path,m.snap,s,o,l):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!he(m.path),c=Ua(t,e,m.path,m.snap,s,o,h,l))}else if(n.type===Zt.MERGE){const m=n;m.source.fromUser?c=VT(t,e,m.path,m.children,s,o,l):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=rd(t,e,m.path,m.children,s,o,h,l))}else if(n.type===Zt.ACK_USER_WRITE){const m=n;m.revert?c=UT(t,e,m.path,s,o,l):c=jT(t,e,m.path,m.affectedTree,s,o,l)}else if(n.type===Zt.LISTEN_COMPLETE)c=BT(t,e,n.path,s,l);else throw xi("Unknown operation type: "+n.type);const f=l.getChanges();return FT(e,c,f),{viewCache:c,changes:f}}function FT(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Jc(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(f_(Jc(e)))}}function E_(t,e,n,s,o,l){const c=e.eventCache;if(Ba(s,n)!=null)return e;{let h,f;if(he(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Nr(e),g=m instanceof re?m:re.EMPTY_NODE,y=Bd(s,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=ja(s,Nr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=ue(n);if(m===".priority"){V(Jn(n)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const y=Rg(s,n,g,f);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=xe(n);let y;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const v=Rg(s,n,c.getNode(),f);v!=null?y=c.getNode().getImmediateChild(m).updateChild(g,v):y=c.getNode().getImmediateChild(m)}else y=Ud(s,m,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),m,y,g,o,l):h=c.getNode()}}return Rs(e,h,c.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function Ua(t,e,n,s,o,l,c,h){const f=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(he(n))m=g.updateFullNode(f.getNode(),s,null);else if(g.filtersNodes()&&!f.isFiltered()){const C=f.getNode().updateChild(n,s);m=g.updateFullNode(f.getNode(),C,null)}else{const C=ue(n);if(!f.isCompleteForPath(n)&&Jn(n)>1)return e;const x=xe(n),N=f.getNode().getImmediateChild(C).updateChild(x,s);C===".priority"?m=g.updatePriority(f.getNode(),N):m=g.updateChild(f.getNode(),C,N,x,S_,null)}const y=g_(e,m,f.isFullyInitialized()||he(n),g.filtersNodes()),v=new zd(o,y,l);return E_(t,y,n,o,v,h)}function nd(t,e,n,s,o,l,c){const h=e.eventCache;let f,m;const g=new zd(o,e,l);if(he(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,c),f=Rs(e,m,!0,t.filter.filtersNodes());else{const y=ue(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),f=Rs(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=xe(n),C=h.getNode().getImmediateChild(y);let x;if(he(v))x=s;else{const P=g.getCompleteChild(y);P!=null?i_(v)===".priority"&&P.getChild(o_(v)).isEmpty()?x=P:x=P.updateChild(v,s):x=re.EMPTY_NODE}if(C.equals(x))f=e;else{const P=t.filter.updateChild(h.getNode(),y,x,v,g,c);f=Rs(e,P,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function Ag(t,e){return t.eventCache.isCompleteForChild(e)}function VT(t,e,n,s,o,l,c){let h=e;return s.foreach((f,m)=>{const g=He(n,f);Ag(e,ue(g))&&(h=nd(t,h,g,m,o,l,c))}),s.foreach((f,m)=>{const g=He(n,f);Ag(e,ue(g))||(h=nd(t,h,g,m,o,l,c))}),h}function Ng(t,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function rd(t,e,n,s,o,l,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;he(n)?m=s:m=new Pe(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const C=e.serverCache.getNode().getImmediateChild(y),x=Ng(t,C,v);f=Ua(t,f,new we(y),x,o,l,c,h)}}),m.children.inorderTraversal((y,v)=>{const C=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!C){const x=e.serverCache.getNode().getImmediateChild(y),P=Ng(t,x,v);f=Ua(t,f,new we(y),P,o,l,c,h)}}),f}function jT(t,e,n,s,o,l,c){if(Ba(o,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(s.value!=null){if(he(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Ua(t,e,n,f.getNode().getChild(n),o,l,h,c);if(he(n)){let m=new Pe(null);return f.getNode().forEachChild(pi,(g,y)=>{m=m.set(new we(g),y)}),rd(t,e,n,m,o,l,h,c)}else return e}else{let m=new Pe(null);return s.foreach((g,y)=>{const v=He(n,g);f.isCompleteForPath(v)&&(m=m.set(g,f.getNode().getChild(v)))}),rd(t,e,n,m,o,l,h,c)}}function BT(t,e,n,s,o){const l=e.serverCache,c=g_(e,l.getNode(),l.isFullyInitialized()||he(n),l.isFiltered());return E_(t,c,n,s,S_,o)}function UT(t,e,n,s,o,l){let c;if(Ba(s,n)!=null)return e;{const h=new zd(s,e,o),f=e.eventCache.getNode();let m;if(he(n)||ue(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=ja(s,Nr(e));else{const y=e.serverCache.getNode();V(y instanceof re,"serverChildren would be complete if leaf node"),g=Bd(s,y)}g=g,m=t.filter.updateFullNode(f,g,l)}else{const g=ue(n);let y=Ud(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?m=t.filter.updateChild(f,g,y,xe(n),h,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,re.EMPTY_NODE,xe(n),h,l):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ja(s,Nr(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,l)))}return c=e.serverCache.isFullyInitialized()||Ba(s,ye())!=null,Rs(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Od(s.getIndex()),l=aT(s);this.processor_=LT(l);const c=n.serverCache,h=n.eventCache,f=o.updateFullNode(re.EMPTY_NODE,c.getNode(),null),m=l.updateFullNode(re.EMPTY_NODE,h.getNode(),null),g=new Ar(f,c.isFullyInitialized(),o.filtersNodes()),y=new Ar(m,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=sl(y,g),this.eventGenerator_=new pT(this.query_)}get query(){return this.query_}}function WT(t){return t.viewCache_.serverCache.getNode()}function $T(t,e){const n=Nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function Dg(t){return t.eventRegistrations_.length===0}function HT(t,e){t.eventRegistrations_.push(e)}function Mg(t,e,n){const s=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(n,o);c&&s.push(c)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const c=t.eventRegistrations_[l];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return s}function Lg(t,e,n,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(V(Nr(t.viewCache_),"We should always have a full cache before handling merges"),V(Jc(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=bT(t.processor_,o,e,n,s);return OT(t.processor_,l.viewCache),V(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,x_(t,l.changes,l.viewCache.eventCache.getNode(),null)}function GT(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(l,c)=>{s.push(_i(l,c))}),n.isFullyInitialized()&&s.push(f_(n.getNode())),x_(t,s,n.getNode(),e)}function x_(t,e,n,s){const o=s?[s]:t.eventRegistrations_;return mT(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;class KT{constructor(){this.views=new Map}}function YT(t){V(!za,"__referenceConstructor has already been defined"),za=t}function qT(){return V(za,"Reference.ts has not been loaded"),za}function QT(t){return t.views.size===0}function Wd(t,e,n,s){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return V(l!=null,"SyncTree gave us an op for an invalid query."),Lg(l,e,n,s)}else{let l=[];for(const c of t.views.values())l=l.concat(Lg(c,e,n,s));return l}}function XT(t,e,n,s,o){const l=e._queryIdentifier,c=t.views.get(l);if(!c){let h=ja(n,o?s:null),f=!1;h?f=!0:s instanceof re?(h=Bd(n,s),f=!1):(h=re.EMPTY_NODE,f=!1);const m=sl(new Ar(h,f,!1),new Ar(s,o,!1));return new zT(e,m)}return c}function ZT(t,e,n,s,o,l){const c=XT(t,e,s,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),HT(c,n),GT(c,n)}function JT(t,e,n,s){const o=e._queryIdentifier,l=[];let c=[];const h=er(t);if(o==="default")for(const[f,m]of t.views.entries())c=c.concat(Mg(m,n,s)),Dg(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||l.push(m.query));else{const f=t.views.get(o);f&&(c=c.concat(Mg(f,n,s)),Dg(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return h&&!er(t)&&l.push(new(qT())(e._repo,e._path)),{removed:l,events:c}}function T_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function mi(t,e){let n=null;for(const s of t.views.values())n=n||$T(s,e);return n}function k_(t,e){if(e._queryParams.loadsAllData())return ol(t);{const s=e._queryIdentifier;return t.views.get(s)}}function P_(t,e){return k_(t,e)!=null}function er(t){return ol(t)!=null}function ol(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa;function ek(t){V(!Wa,"__referenceConstructor has already been defined"),Wa=t}function tk(){return V(Wa,"Reference.ts has not been loaded"),Wa}let nk=1;class Og{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=AT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I_(t,e,n,s,o){return _T(t.pendingWriteTree_,e,n,s,o),o?eo(t,new Rr(m_(),e,n)):[]}function Tr(t,e,n=!1){const s=wT(t.pendingWriteTree_,e);if(CT(t.pendingWriteTree_,e)){let l=new Pe(null);return s.snap!=null?l=l.set(ye(),!0):xt(s.children,c=>{l=l.set(new we(c),!0)}),eo(t,new Va(s.path,l,n))}else return[]}function al(t,e,n){return eo(t,new Rr(Fd(),e,n))}function rk(t,e,n){const s=Pe.fromObject(n);return eo(t,new $s(Fd(),e,s))}function ik(t,e){return eo(t,new Ws(Fd(),e))}function sk(t,e,n){const s=Hd(t,n);if(s){const o=Gd(s),l=o.path,c=o.queryId,h=Ct(l,e),f=new Ws(Vd(c),h);return Kd(t,l,f)}else return[]}function id(t,e,n,s,o=!1){const l=e._path,c=t.syncPointTree_.get(l);let h=[];if(c&&(e._queryIdentifier==="default"||P_(c,e))){const f=JT(c,e,n,s);QT(c)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=f.removed;if(h=f.events,!o){const g=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,C)=>er(C));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const C=lk(v);for(let x=0;x<C.length;++x){const P=C[x],N=P.query,O=N_(t,P);t.listenProvider_.startListening(Ns(N),$a(t,N),O.hashFn,O.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(Ns(e),null):m.forEach(v=>{const C=t.queryToTagMap.get(ll(v));t.listenProvider_.stopListening(Ns(v),C)}))}uk(t,m)}return h}function ok(t,e,n,s){const o=Hd(t,s);if(o!=null){const l=Gd(o),c=l.path,h=l.queryId,f=Ct(c,e),m=new Rr(Vd(h),f,n);return Kd(t,c,m)}else return[]}function ak(t,e,n,s){const o=Hd(t,s);if(o){const l=Gd(o),c=l.path,h=l.queryId,f=Ct(c,e),m=Pe.fromObject(n),g=new $s(Vd(h),f,m);return Kd(t,c,g)}else return[]}function bg(t,e,n,s=!1){const o=e._path;let l=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,C)=>{const x=Ct(v,o);l=l||mi(C,x),c=c||er(C)});let h=t.syncPointTree_.get(o);h?(c=c||er(h),l=l||mi(h,ye())):(h=new KT,t.syncPointTree_=t.syncPointTree_.set(o,h));let f;l!=null?f=!0:(f=!1,l=re.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((C,x)=>{const P=mi(x,ye());P&&(l=l.updateImmediateChild(C,P))}));const m=P_(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=ll(e);V(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=ck();t.queryToTagMap.set(v,C),t.tagToQueryMap.set(C,v)}const g=jd(t.pendingWriteTree_,o);let y=ZT(h,e,n,g,l,f);if(!m&&!c&&!s){const v=k_(h,e);y=y.concat(dk(t,e,v))}return y}function $d(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(c,h)=>{const f=Ct(c,e),m=mi(h,f);if(m)return m});return __(o,e,l,n,!0)}function eo(t,e){return R_(e,t.syncPointTree_,null,jd(t.pendingWriteTree_,ye()))}function R_(t,e,n,s){if(he(t.path))return A_(t,e,n,s);{const o=e.get(ye());n==null&&o!=null&&(n=mi(o,ye()));let l=[];const c=ue(t.path),h=t.operationForChild(c),f=e.children.get(c);if(f&&h){const m=n?n.getImmediateChild(c):null,g=w_(s,c);l=l.concat(R_(h,f,m,g))}return o&&(l=l.concat(Wd(o,t,s,n))),l}}function A_(t,e,n,s){const o=e.get(ye());n==null&&o!=null&&(n=mi(o,ye()));let l=[];return e.children.inorderTraversal((c,h)=>{const f=n?n.getImmediateChild(c):null,m=w_(s,c),g=t.operationForChild(c);g&&(l=l.concat(A_(g,h,f,m)))}),o&&(l=l.concat(Wd(o,t,s,n))),l}function N_(t,e){const n=e.query,s=$a(t,n);return{hashFn:()=>(WT(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?sk(t,n._path,s):ik(t,n._path);{const l=ox(o,n);return id(t,n,null,l)}}}}function $a(t,e){const n=ll(e);return t.queryToTagMap.get(n)}function ll(t){return t._path.toString()+"$"+t._queryIdentifier}function Hd(t,e){return t.tagToQueryMap.get(e)}function Gd(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function Kd(t,e,n){const s=t.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const o=jd(t.pendingWriteTree_,e);return Wd(s,n,o,null)}function lk(t){return t.fold((e,n,s)=>{if(n&&er(n))return[ol(n)];{let o=[];return n&&(o=T_(n)),xt(s,(l,c)=>{o=o.concat(c)}),o}})}function Ns(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tk())(t._repo,t._path):t}function uk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=ll(s),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function ck(){return nk++}function dk(t,e,n){const s=e._path,o=$a(t,e),l=N_(t,n),c=t.listenProvider_.startListening(Ns(e),o,l.hashFn,l.onComplete),h=t.syncPointTree_.subtree(s);if(o)V(!er(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((m,g,y)=>{if(!he(m)&&g&&er(g))return[ol(g).query];{let v=[];return g&&(v=v.concat(T_(g).map(C=>C.query))),xt(y,(C,x)=>{v=v.concat(x)}),v}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(Ns(g),$a(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Yd(n)}node(){return this.node_}}class qd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new qd(this.syncTree_,n)}node(){return $d(this.syncTree_,this.path_)}}const hk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Fg=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pk(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},pk=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const o=e.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},mk=function(t,e,n,s){return Qd(e,new qd(n,t),s)},D_=function(t,e,n){return Qd(t,new Yd(e),n)};function Qd(t,e,n){const s=t.getPriority().val(),o=Fg(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const c=t,h=Fg(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new qe(h,tt(o)):t}else{const c=t;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new qe(o))),c.forEachChild(Ve,(h,f)=>{const m=Qd(f,e.getImmediateChild(h),n);m!==f&&(l=l.updateImmediateChild(h,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Zd(t,e){let n=e instanceof we?e:new we(e),s=t,o=ue(n);for(;o!==null;){const l=gi(s.node.children,o)||{children:{},childCount:0};s=new Xd(o,s,l),n=xe(n),o=ue(n)}return s}function Ii(t){return t.node.value}function M_(t,e){t.node.value=e,sd(t)}function L_(t){return t.node.childCount>0}function gk(t){return Ii(t)===void 0&&!L_(t)}function ul(t,e){xt(t.node.children,(n,s)=>{e(new Xd(n,t,s))})}function O_(t,e,n,s){n&&e(t),ul(t,o=>{O_(o,e,!0)})}function yk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function to(t){return new we(t.parent===null?t.name:to(t.parent)+"/"+t.name)}function sd(t){t.parent!==null&&vk(t.parent,t.name,t)}function vk(t,e,n){const s=gk(n),o=In(t.node.children,e);s&&o?(delete t.node.children[e],t.node.childCount--,sd(t)):!s&&!o&&(t.node.children[e]=n.node,t.node.childCount++,sd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/[\[\].#$\/\u0000-\u001F\u007F]/,wk=/[\[\].#$\u0000-\u001F\u007F]/,Pc=10*1024*1024,b_=function(t){return typeof t=="string"&&t.length!==0&&!_k.test(t)},F_=function(t){return typeof t=="string"&&t.length!==0&&!wk.test(t)},Ck=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),F_(t)},V_=function(t,e,n,s){s&&e===void 0||Jd(kd(t,"value"),e,n)},Jd=function(t,e,n){const s=n instanceof we?new jx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cr(s));if(typeof e=="function")throw new Error(t+"contains a function "+Cr(s)+" with contents = "+e.toString());if(Fv(e))throw new Error(t+"contains "+e.toString()+" "+Cr(s));if(typeof e=="string"&&e.length>Pc/3&&rl(e)>Pc)throw new Error(t+"contains a string greater than "+Pc+" utf8 bytes "+Cr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(xt(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!b_(c)))throw new Error(t+" contains an invalid key ("+c+") "+Cr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bx(s,c),Jd(t,h,s),Ux(s)}),o&&l)throw new Error(t+' contains ".value" child '+Cr(s)+" in addition to actual children.")}},j_=function(t,e,n,s){if(!F_(n))throw new Error(kd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Sk=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),j_(t,e,n)},eh=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ek=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!b_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ck(n))throw new Error(kd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function th(t,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],l=o.getPath();n!==null&&!Dd(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function B_(t,e,n){th(t,n),U_(t,s=>Dd(s,e))}function kn(t,e,n){th(t,n),U_(t,s=>Xt(s,e)||Xt(e,s))}function U_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const o=t.eventLists_[s];if(o){const l=o.path;e(l)?(Tk(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Tk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ps&&at("event: "+n.toString()),Pi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="repo_interrupt",Pk=25;class Ik{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fa(),this.transactionQueueTree_=new Xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rk(t,e,n){if(t.stats_=Ad(t.repoInfo_),t.forceRestClient_||cx())t.server_=new ba(t.repoInfo_,(s,o,l,c)=>{Vg(t,s,o,l,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(s,o,l,c)=>{Vg(t,s,o,l,c)},s=>{jg(t,s)},s=>{Ak(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=mx(t.repoInfo_,()=>new fT(t.stats_,t.server_)),t.infoData_=new lT,t.infoSyncTree_=new Og({startListening:(s,o,l,c)=>{let h=[];const f=t.infoData_.getNode(s._path);return f.isEmpty()||(h=al(t.infoSyncTree_,s._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),rh(t,"connected",!1),t.serverSyncTree_=new Og({startListening:(s,o,l,c)=>(t.server_.listen(s,l,o,(h,f)=>{const m=c(h,f);kn(t.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{t.server_.unlisten(s,o)}})}function z_(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function nh(t){return hk({timestamp:z_(t)})}function Vg(t,e,n,s,o){t.dataUpdateCount++;const l=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(s){const f=Aa(n,m=>tt(m));c=ak(t.serverSyncTree_,l,f,o)}else{const f=tt(n);c=ok(t.serverSyncTree_,l,f,o)}else if(s){const f=Aa(n,m=>tt(m));c=rk(t.serverSyncTree_,l,f)}else{const f=tt(n);c=al(t.serverSyncTree_,l,f)}let h=l;c.length>0&&(h=cl(t,l)),kn(t.eventQueue_,h,c)}function jg(t,e){rh(t,"connected",e),e===!1&&Dk(t)}function Ak(t,e){xt(e,(n,s)=>{rh(t,n,s)})}function rh(t,e,n){const s=new we("/.info/"+e),o=tt(n);t.infoData_.updateSnapshot(s,o);const l=al(t.infoSyncTree_,s,o);kn(t.eventQueue_,s,l)}function W_(t){return t.nextWriteId_++}function Nk(t,e,n,s,o){ih(t,"set",{path:e.toString(),value:n,priority:s});const l=nh(t),c=tt(n,s),h=$d(t.serverSyncTree_,e),f=D_(c,h,l),m=W_(t),g=I_(t.serverSyncTree_,e,f,m,!0);th(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,C)=>{const x=v==="ok";x||Et("set at "+e+" failed: "+v);const P=Tr(t.serverSyncTree_,m,!x);kn(t.eventQueue_,e,P),bk(t,o,v,C)});const y=Y_(t,e);cl(t,y),kn(t.eventQueue_,y,[])}function Dk(t){ih(t,"onDisconnectEvents");const e=nh(t),n=Fa();Zc(t.onDisconnect_,ye(),(o,l)=>{const c=mk(o,l,t.serverSyncTree_,e);p_(n,o,c)});let s=[];Zc(n,ye(),(o,l)=>{s=s.concat(al(t.serverSyncTree_,o,l));const c=Y_(t,o);cl(t,c)}),t.onDisconnect_=Fa(),kn(t.eventQueue_,ye(),s)}function Mk(t,e,n){let s;ue(e._path)===".info"?s=bg(t.infoSyncTree_,e,n):s=bg(t.serverSyncTree_,e,n),B_(t.eventQueue_,e._path,s)}function Lk(t,e,n){let s;ue(e._path)===".info"?s=id(t.infoSyncTree_,e,n):s=id(t.serverSyncTree_,e,n),B_(t.eventQueue_,e._path,s)}function Ok(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kk)}function ih(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function bk(t,e,n,s){e&&Pi(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;s&&(l+=": "+s);const c=new Error(l);c.code=o,e(c)}})}function $_(t,e,n){return $d(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function sh(t,e=t.transactionQueueTree_){if(e||dl(t,e),Ii(e)){const n=G_(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Fk(t,to(e),n)}else L_(e)&&ul(e,n=>{sh(t,n)})}function Fk(t,e,n){const s=n.map(m=>m.currentWriteId),o=$_(t,e,s);let l=o;const c=o.hash();for(let m=0;m<n.length;m++){const g=n[m];V(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ct(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const h=l.val(!0),f=e;t.server_.put(f.toString(),h,m=>{ih(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Tr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();dl(t,Zd(t.transactionQueueTree_,e)),sh(t,t.transactionQueueTree_),kn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)Pi(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Et("transaction at "+f.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}cl(t,e)}},c)}function cl(t,e){const n=H_(t,e),s=to(n),o=G_(t,n);return Vk(t,o,s),s}function Vk(t,e,n){if(e.length===0)return;const s=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],m=Ct(n,f.path);let g=!1,y;if(V(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,o=o.concat(Tr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=Pk)g=!0,y="maxretry",o=o.concat(Tr(t.serverSyncTree_,f.currentWriteId,!0));else{const v=$_(t,f.path,c);f.currentInputSnapshot=v;const C=e[h].update(v.val());if(C!==void 0){Jd("transaction failed: Data returned ",C,f.path);let x=tt(C);typeof C=="object"&&C!=null&&In(C,".priority")||(x=x.updatePriority(v.getPriority()));const N=f.currentWriteId,O=nh(t),B=D_(x,v,O);f.currentOutputSnapshotRaw=x,f.currentOutputSnapshotResolved=B,f.currentWriteId=W_(t),c.splice(c.indexOf(N),1),o=o.concat(I_(t.serverSyncTree_,f.path,B,f.currentWriteId,f.applyLocally)),o=o.concat(Tr(t.serverSyncTree_,N,!0))}else g=!0,y="nodata",o=o.concat(Tr(t.serverSyncTree_,f.currentWriteId,!0))}kn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}dl(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)Pi(s[h]);sh(t,t.transactionQueueTree_)}function H_(t,e){let n,s=t.transactionQueueTree_;for(n=ue(e);n!==null&&Ii(s)===void 0;)s=Zd(s,n),e=xe(e),n=ue(e);return s}function G_(t,e){const n=[];return K_(t,e,n),n.sort((s,o)=>s.order-o.order),n}function K_(t,e,n){const s=Ii(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);ul(e,o=>{K_(t,o,n)})}function dl(t,e){const n=Ii(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,M_(e,n.length>0?n:void 0)}ul(e,s=>{dl(t,s)})}function Y_(t,e){const n=to(H_(t,e)),s=Zd(t.transactionQueueTree_,e);return yk(s,o=>{Ic(t,o)}),Ic(t,s),O_(s,o=>{Ic(t,o)}),n}function Ic(t,e){const n=Ii(e);if(n){const s=[];let o=[],l=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(V(l===c-1,"All SENT items should be at beginning of queue."),l=c,n[c].status=3,n[c].abortReason="set"):(V(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(Tr(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?M_(e,void 0):n.length=l+1,kn(t.eventQueue_,to(e),o);for(let c=0;c<s.length;c++)Pi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Bk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const Bg=function(t,e){const n=Uk(t),s=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tx();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qv(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new we(n.pathString)}},Uk=function(t){let e="",n="",s="",o="",l="",c=!0,h="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=jk(t.substring(g,y)));const v=Bk(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const x=e.indexOf(".");s=e.substring(0,x).toLowerCase(),n=e.substring(x+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:s,secure:c,scheme:h,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zk=(function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Ug.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let c=l.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Ug.charAt(e[o]);return V(c.length===20,"nextPushId: Length should be 20."),c}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class $k{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return he(this._path)?null:i_(this._path)}get ref(){return new rr(this._repo,this._path)}get _queryIdentifier(){const e=xg(this._queryParams),n=Id(e);return n==="{}"?"default":n}get _queryObject(){return xg(this._queryParams)}isEqual(e){if(e=Dr(e),!(e instanceof oh))return!1;const n=this._repo===e._repo,s=Dd(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vx(this._path)}}class rr extends oh{constructor(e,n){super(e,n,new bd,!1)}get parent(){const e=o_(this._path);return e===null?null:new rr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ha{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new we(e),s=Hs(this.ref,e);return new Ha(this._node.getChild(n),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Ha(o,Hs(this.ref,s),Ve)))}hasChild(e){const n=new we(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ah(t,e){return t=Dr(t),t._checkNotDeleted("ref"),e!==void 0?Hs(t._root,e):t._root}function Hs(t,e){return t=Dr(t),ue(t._path)===null?Sk("child","path",e):j_("child","path",e),new rr(t._repo,He(t._path,e))}function Gk(t,e){t=Dr(t),eh("push",t._path),V_("push",e,t._path,!0);const n=z_(t._repo),s=zk(n),o=Hs(t,s),l=Hs(t,s);let c;return e!=null?c=q_(l,e).then(()=>l):c=Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Kk(t){return eh("remove",t._path),q_(t,null)}function q_(t,e){t=Dr(t),eh("set",t._path),V_("set",e,t._path,!1);const n=new tl;return Nk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class lh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Wk("value",this,new Ha(e.snapshotNode,new rr(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $k(this,e,n):null}matches(e){return e instanceof lh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Yk(t,e,n,s,o){const l=new Hk(n,void 0),c=new lh(l);return Mk(t._repo,t,c),()=>Lk(t._repo,t,c)}function qk(t,e,n,s){return Yk(t,"value",e)}YT(rr);ek(rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="FIREBASE_DATABASE_EMULATOR_HOST",od={};let Xk=!1;function Zk(t,e,n,s){const o=e.lastIndexOf(":"),l=e.substring(0,o),c=nl(l);t.repoInfo_=new qv(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function Jk(t,e,n,s,o){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=Bg(l,o),h=c.repoInfo,f;typeof process<"u"&&og&&(f=og[Qk]),f?(l=`http://${f}?ns=${h.namespace}`,c=Bg(l,o),h=c.repoInfo):c.repoInfo.secure;const m=new hx(t.name,t.options,e);Ek("Invalid Firebase Database URL",c),he(c.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=tP(h,t,m,new dx(t,n));return new nP(g,t)}function eP(t,e){const n=od[e];(!n||n[t.key]!==t)&&Tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ok(t),delete n[t.key]}function tP(t,e,n,s){let o=od[e.name];o||(o={},od[e.name]=o);let l=o[t.toURLString()];return l&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Ik(t,Xk,n,s),o[t.toURLString()]=l,l}class nP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Rk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rr(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function rP(t=Nv(),e){const n=Pv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=gv("database");s&&iP(n,...s)}return n}function iP(t,e,n,s={}){t=Dr(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Na(s,l.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new xa(xa.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:_v(s.mockUserToken,t.app.options.projectId);c=new xa(h)}nl(e)&&(vv(e),wv("Database",!0)),Zk(l,o,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){qE(Rv),Fs(new yi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return Jk(s,o,l,n)},"PUBLIC").setMultipleInstances(!0)),Xn(ag,lg,t),Xn(ag,lg,"esm2020")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sP();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="firebasestorage.googleapis.com",oP="storageBucket",aP=120*1e3,lP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends Ti{constructor(e,n,s=0){super(Rc(e),`Firebase Storage: ${n} (${Rc(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function Rc(t){return"storage/"+t}function uP(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(un.UNKNOWN,t)}function cP(){return new dn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dP(){return new dn(un.CANCELED,"User canceled the upload/download.")}function hP(t){return new dn(un.INVALID_URL,"Invalid URL '"+t+"'.")}function fP(t){return new dn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zg(t){return new dn(un.INVALID_ARGUMENT,t)}function X_(){return new dn(un.APP_DELETED,"The Firebase app was deleted.")}function pP(t){return new dn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(s.path==="")return s;throw fP(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${g}/b/${o}/o${v}`,"i"),x={bucket:1,path:3},P=n===Q_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",O=new RegExp(`^https?://${P}/${o}/${N}`,"i"),U=[{regex:h,indices:f,postModify:l},{regex:C,indices:x,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<U.length;H++){const G=U[H],Y=G.regex.exec(e);if(Y){const se=Y[G.indices.bucket];let q=Y[G.indices.path];q||(q=""),s=new Jt(se,q),G.postModify(s);break}}if(s==null)throw hP(e);return s}}class mP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e,n){let s=1,o=null,l=null,c=!1,h=0;function f(){return h===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function y(N){o=setTimeout(()=>{o=null,t(C,f())},N)}function v(){l&&clearTimeout(l)}function C(N,...O){if(m){v();return}if(N){v(),g.call(null,N,...O);return}if(f()||c){v(),g.call(null,N,...O);return}s<64&&(s*=2);let U;h===1?(h=2,U=0):U=(s+Math.random())*1e3,y(U)}let x=!1;function P(N){x||(x=!0,v(),!m&&(o!==null?(N||(h=2),clearTimeout(o),y(0)):N||(h=1)))}return y(0),l=setTimeout(()=>{c=!0,P(!0)},n),P}function yP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return t!==void 0}function Wg(t,e,n,s){if(s<e)throw zg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw zg(`Invalid value for '${t}'. Expected ${n} or less.`)}function _P(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ga;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ga||(Ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,s,o,l,c,h,f,m,g,y,v=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,P)=>{this.resolve_=x,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new wa(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Ga.NO_ERROR,f=l.getStatus();if(!h||wP(f,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Ga.ABORT;s(!1,new wa(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new wa(m,l))})},n=(s,o)=>{const l=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());vP(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=uP();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?X_():dP();c(f)}else{const f=cP();c(f)}};this.canceled_?n(!1,new wa(!1,null,!0)):this.backoffId_=gP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wa{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kP(t,e,n,s,o,l,c=!0,h=!1){const f=_P(t.urlParams),m=t.url+f,g=Object.assign({},t.headers);return xP(g,e),SP(g,n),EP(g,l),TP(g,s),new CP(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ka(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IP(this._location.path)}get storage(){return this._service}get parent(){const e=PP(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new Ka(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pP(e)}}function $g(t,e){const n=e?.[oP];return n==null?null:Jt.makeFromBucketSpec(n,t)}function RP(t,e,n,s={}){t.host=`${e}:${n}`;const o=nl(e);o&&(vv(`https://${t.host}/b`),wv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:_v(l,t.app.options.projectId))}class AP{constructor(e,n,s,o,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Q_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aP,this._maxUploadRetryTime=lP,this._requests=new Set,o!=null?this._bucket=Jt.makeFromBucketSpec(o,this._host):this._bucket=$g(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=$g(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Wg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Wg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Iv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ka(this,e)}_makeRequest(e,n,s,o,l=!0){if(this._deleted)return new mP(X_());{const c=kP(e,this._appId,s,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Hg="@firebase/storage",Gg="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="storage";function NP(t=Nv(),e){t=Dr(t);const s=Pv(t,Z_).getImmediate({identifier:e}),o=gv("storage");return o&&DP(s,...o),s}function DP(t,e,n,s={}){RP(t,e,n,s)}function MP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new AP(n,s,o,e,Rv)}function LP(){Fs(new yi(Z_,MP,"PUBLIC").setMultipleInstances(!0)),Xn(Hg,Gg,""),Xn(Hg,Gg,"esm2020")}LP();var vr={};const OP={apiKey:vr.REACT_APP_FIREBASE_API_KEY||"AIzaSyCauC5NvMol_9fX0i2q7wI8zht1xKdS2v4",authDomain:vr.REACT_APP_FIREBASE_AUTH_DOMAIN||"aster-music-player.firebaseapp.com",databaseURL:vr.REACT_APP_FIREBASE_DATABASE_URL||"https://aster-music-player-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:vr.REACT_APP_FIREBASE_PROJECT_ID||"aster-music-player",storageBucket:vr.REACT_APP_FIREBASE_STORAGE_BUCKET||"aster-music-player.firebasestorage.app",messagingSenderId:vr.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"764474066780",appId:vr.REACT_APP_FIREBASE_APP_ID||"1:764474066780:web:45430a3130f383aa8aa399"},J_=Av(OP),hl=rP(J_);NP(J_);const e0=async t=>{try{const e=ah(hl,"music-tracks"),n={...t,createdAt:Date.now()},s=await Gk(e,n);return console.log("  :",s.key),s.key}catch(e){throw console.error("    :",e),e}},t0=t=>{const e=ah(hl,"music-tracks");return qk(e,s=>{const o=s.val();if(o){const l=Object.entries(o).map(([c,h])=>({id:c,...h}));l.sort((c,h)=>h.createdAt-c.createdAt),t(l)}else t([])})},n0=async t=>{try{const e=ah(hl,`music-tracks/${t}`);await Kk(e),console.log("  :",t)}catch(e){throw console.error("    :",e),e}},uh=async t=>{try{const e={name:t.name,title:`${t.name}  `,artist:"Aster AI",duration:t.duration||60,audioUrl:t.audioUrl,charmTraits:t.charmTraits,source:"aster-alarm"};return await e0(e)}catch(e){throw console.error("Alarm    :",e),e}},bP=Object.freeze(Object.defineProperty({__proto__:null,addMusicFromAlarm:uh,addMusicTrack:e0,database:hl,deleteMusicTrack:n0,subscribeMusicTracks:t0},Symbol.toStringTag,{value:"Module"}));function FP({tracks:t,currentTrack:e,onTrackSelect:n}){const[s,o]=Z.useState(!1),l=m=>{const g=Math.floor(m/60),y=m%60;return`${g}:${y.toString().padStart(2,"0")}`},c=m=>{if(m==null)return"-";const g=typeof m=="string"?parseInt(m,10):m,y=new Date(g);return isFinite(y.getTime())?y.toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"},h=()=>{if(s){o(!1);return}const m=window.prompt("  ."),g=import.meta?.env?.VITE_ADMIN_PASSWORD||"0515";m&&m===g?(o(!0),alert("  .  X    .")):alert("  .")},f=async(m,g)=>{if(m.stopPropagation(),!(!s||!window.confirm("  ?")))try{await n0(g)}catch(v){console.error(v),alert("   .")}};return R.jsxs("div",{className:"flex flex-col",style:{paddingRight:"8px"},children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("h2",{className:"text-white flex items-center gap-2",children:[R.jsx(gc,{className:"w-6 h-6"}),"  "]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("button",{onClick:h,className:`flex items-center gap-1 px-2 py-1 rounded text-xs border ${s?"border-red-400 text-red-300":"border-white/20 text-white/70"} hover:border-cyan-400/60 hover:text-white transition`,title:s?"  ":"( )",children:[R.jsx(rS,{className:"w-4 h-4"}),s?" ":""]}),R.jsxs("span",{className:"text-white/70",children:[t.length,""]})]})]}),R.jsx("div",{className:"space-y-3",children:t.map(m=>{const g=e?.id===m.id,y=uv(m.traits);return R.jsx("button",{onClick:()=>n(m),className:`w-full text-left p-5 rounded-2xl transition-all duration-300 border-2 ${g?"bg-slate-700/60 border-cyan-400/70 shadow-lg":"bg-white/5 hover:bg-white/10 border-white/10 hover:border-cyan-400/30"}`,children:R.jsxs("div",{className:"flex items-start gap-4",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${y.color.from} ${y.color.to} flex items-center justify-center shadow-lg ${g?"animate-pulse":""}`,children:R.jsx(gc,{className:"w-8 h-8 text-white"})})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx("h3",{className:"text-white truncate",children:m.ordinal>0?`${m.ordinal}  `:" "}),g&&R.jsx("span",{className:`flex-shrink-0 px-2 py-0.5 bg-gradient-to-r ${y.color.from} ${y.color.to} text-white text-xs rounded-full shadow-lg`,children:""})]}),R.jsx("div",{className:`inline-block px-2 py-0.5 bg-gradient-to-r ${y.color.from} ${y.color.to} text-white text-xs rounded mb-2 shadow-md`,children:y.name}),R.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:m.traits.map((v,C)=>{const x=cv(v.charm_name);return R.jsxs("span",{className:`px-2 py-0.5 ${x.from.replace("from-","bg-")}/20 ${x.text} rounded text-xs border ${x.border}/40`,children:[v.charm_name," Lv.",v.stage]},C)})}),R.jsxs("div",{className:"flex items-center gap-4 text-white/60 text-sm",children:[R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(YC,{className:"w-3.5 h-3.5"}),R.jsx("span",{children:l(m.duration)})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(GC,{className:"w-3.5 h-3.5"}),R.jsx("span",{children:c(m.createdAt)})]})]})]}),R.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[g&&R.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((v,C)=>R.jsx("div",{className:`w-1 ${y.color.from.replace("from-","bg-")} rounded-full animate-pulse`,style:{height:"20px",animationDelay:`${C*.15}s`,animationDuration:"0.8s"}},C))}),s&&R.jsx("button",{onClick:v=>f(v,m.id),className:"p-1.5 rounded hover:bg-red-500/20 border border-red-400/50 text-red-300 hover:text-red-200",title:"",children:R.jsx(uS,{className:"w-4 h-4"})})]})]})},m.id)})}),t.length===0&&R.jsxs("div",{className:"text-center py-12 text-white/50",children:[R.jsx(gc,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),R.jsx("p",{children:"   ."}),R.jsx("p",{className:"text-sm mt-2",children:"Aster Alarm  !"})]})]})}const r0=Z.createContext({});function VP(t){const e=Z.useRef(null);return e.current===null&&(e.current=t()),e.current}const ch=Z.createContext(null),i0=Z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jP(t=!0){const e=Z.useContext(ch);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=Z.useId();Z.useEffect(()=>{t&&o(l)},[t]);const c=Z.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const dh=typeof window<"u",BP=dh?Z.useLayoutEffect:Z.useEffect,Nt=t=>t;let s0=Nt;const UP={useManualTiming:!1};function zP(t){let e=new Set,n=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,y=!1)=>{const C=y&&s?e:n;return g&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[e,n]=[n,e],e.forEach(h),e.clear(),s=!1,o&&(o=!1,f.process(m))}};return f}const Ca=["read","resolveKeyframes","update","preRender","render","postRender"],WP=40;function o0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ca.reduce((O,B)=>(O[B]=zP(l),O),{}),{read:h,resolveKeyframes:f,update:m,preRender:g,render:y,postRender:v}=c,C=()=>{const O=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(O-o.timestamp,WP),1),o.timestamp=O,o.isProcessing=!0,h.process(o),f.process(o),m.process(o),g.process(o),y.process(o),v.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(C))},x=()=>{n=!0,s=!0,o.isProcessing||t(C)};return{schedule:Ca.reduce((O,B)=>{const U=c[B];return O[B]=(H,G=!1,Y=!1)=>(n||x(),U.schedule(H,G,Y)),O},{}),cancel:O=>{for(let B=0;B<Ca.length;B++)c[Ca[B]].cancel(O)},state:o,steps:c}}const{schedule:Ie,cancel:tr,state:et,steps:Ac}=o0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0),a0=Z.createContext({strict:!1}),Kg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ci={};for(const t in Kg)Ci[t]={isEnabled:e=>Kg[t].some(n=>!!e[n])};function $P(t){for(const e in t)Ci[e]={...Ci[e],...t[e]}}const HP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ya(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HP.has(t)}let l0=t=>!Ya(t);function GP(t){t&&(l0=e=>e.startsWith("on")?!Ya(e):t(e))}try{GP(require("@emotion/is-prop-valid").default)}catch{}function KP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(l0(o)||n===!0&&Ya(o)||!e&&!Ya(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function YP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const fl=Z.createContext({});function Gs(t){return typeof t=="string"||Array.isArray(t)}function pl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fh=["initial",...hh];function ml(t){return pl(t.animate)||fh.some(e=>Gs(t[e]))}function u0(t){return!!(ml(t)||t.variants)}function qP(t,e){if(ml(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Gs(n)?n:void 0,animate:Gs(s)?s:void 0}}return t.inherit!==!1?e:{}}function QP(t){const{initial:e,animate:n}=qP(t,Z.useContext(fl));return Z.useMemo(()=>({initial:e,animate:n}),[Yg(e),Yg(n)])}function Yg(t){return Array.isArray(t)?t.join(" "):t}const XP=Symbol.for("motionComponentSymbol");function li(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZP(t,e,n){return Z.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):li(n)&&(n.current=s))},[e])}const ph=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JP="framerAppearId",c0="data-"+ph(JP),{schedule:mh}=o0(queueMicrotask,!1),d0=Z.createContext({});function eI(t,e,n,s,o){var l,c;const{visualElement:h}=Z.useContext(fl),f=Z.useContext(a0),m=Z.useContext(ch),g=Z.useContext(i0).reducedMotion,y=Z.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,C=Z.useContext(d0);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&tI(y.current,n,o,C);const x=Z.useRef(!1);Z.useInsertionEffect(()=>{v&&x.current&&v.update(n,m)});const P=n[c0],N=Z.useRef(!!P&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return BP(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),mh.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),Z.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,P)}),N.current=!1))}),v}function tI(t,e,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:h0(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&li(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function h0(t){if(t)return t.options.allowProjection!==!1?t.projection:h0(t.parent)}function nI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){var l,c;t&&$P(t);function h(m,g){let y;const v={...Z.useContext(i0),...m,layoutId:rI(m)},{isStatic:C}=v,x=QP(m),P=s(m,C);if(!C&&dh){iI();const N=sI(v);y=N.MeasureLayout,x.visualElement=eI(o,P,v,e,N.ProjectionNode)}return R.jsxs(fl.Provider,{value:x,children:[y&&x.visualElement?R.jsx(y,{visualElement:x.visualElement,...v}):null,n(o,m,ZP(P,x.visualElement,g),P,C,x.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const f=Z.forwardRef(h);return f[XP]=o,f}function rI({layoutId:t}){const e=Z.useContext(r0).id;return e&&t!==void 0?e+"-"+t:t}function iI(t,e){Z.useContext(a0).strict}function sI(t){const{drag:e,layout:n}=Ci;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const oI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gh(t){return typeof t!="string"||t.includes("-")?!1:!!(oI.indexOf(t)>-1||/[A-Z]/u.test(t))}function qg(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function yh(t,e,n,s){if(typeof e=="function"){const[o,l]=qg(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=qg(s);e=e(n!==void 0?n:t.custom,o,l)}return e}const ad=t=>Array.isArray(t),aI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),lI=t=>ad(t)?t[t.length-1]||0:t,lt=t=>!!(t&&t.getVelocity);function Ta(t){const e=lt(t)?t.get():t;return aI(e)?e.toValue():e}function uI({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,o,l){const c={latestValues:cI(s,o,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:s,current:h,...c}),c.onUpdate=h=>n(h)),c}const f0=t=>(e,n)=>{const s=Z.useContext(fl),o=Z.useContext(ch),l=()=>uI(t,e,s,o);return n?l():VP(l)};function cI(t,e,n,s){const o={},l=s(t,{});for(const v in l)o[v]=Ta(l[v]);let{initial:c,animate:h}=t;const f=ml(t),m=u0(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!pl(y)){const v=Array.isArray(y)?y:[y];for(let C=0;C<v.length;C++){const x=yh(t,v[C]);if(x){const{transitionEnd:P,transition:N,...O}=x;for(const B in O){let U=O[B];if(Array.isArray(U)){const H=g?U.length-1:0;U=U[H]}U!==null&&(o[B]=U)}for(const B in P)o[B]=P[B]}}}return o}const Ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lr=new Set(Ri),p0=t=>e=>typeof e=="string"&&e.startsWith(t),m0=p0("--"),dI=p0("var(--"),vh=t=>dI(t)?hI.test(t.split("/*")[0].trim()):!1,hI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,g0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pn=(t,e,n)=>n>e?e:n<t?t:n,Ai={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ks={...Ai,transform:t=>Pn(0,1,t)},Sa={...Ai,default:1},no=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yn=no("deg"),an=no("%"),ne=no("px"),fI=no("vh"),pI=no("vw"),Qg={...an,parse:t=>an.parse(t)/100,transform:t=>an.transform(t*100)},mI={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},gI={rotate:Yn,rotateX:Yn,rotateY:Yn,rotateZ:Yn,scale:Sa,scaleX:Sa,scaleY:Sa,scaleZ:Sa,skew:Yn,skewX:Yn,skewY:Yn,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Ks,originX:Qg,originY:Qg,originZ:ne},Xg={...Ai,transform:Math.round},_h={...mI,...gI,zIndex:Xg,size:ne,fillOpacity:Ks,strokeOpacity:Ks,numOctaves:Xg},yI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vI=Ri.length;function _I(t,e,n){let s="",o=!0;for(let l=0;l<vI;l++){const c=Ri[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=g0(h,_h[c]);if(!f){o=!1;const g=yI[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function wh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(Lr.has(f)){c=!0;continue}else if(m0(f)){o[f]=m;continue}else{const g=g0(m,_h[f]);f.startsWith("origin")?(h=!0,l[f]=g):s[f]=g}}if(e.transform||(c||n?s.transform=_I(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const wI={offset:"stroke-dashoffset",array:"stroke-dasharray"},CI={offset:"strokeDashoffset",array:"strokeDasharray"};function SI(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?wI:CI;t[l.offset]=ne.transform(-s);const c=ne.transform(e),h=ne.transform(n);t[l.array]=`${c} ${h}`}function Zg(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function EI(t,e,n){const s=Zg(e,t.x,t.width),o=Zg(n,t.y,t.height);return`${s} ${o}`}function Ch(t,{attrX:e,attrY:n,attrScale:s,originX:o,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...m},g,y){if(wh(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:C,dimensions:x}=t;v.transform&&(x&&(C.transform=v.transform),delete v.transform),x&&(o!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=EI(x,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),c!==void 0&&SI(v,c,h,f,!1)}const Sh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),y0=()=>({...Sh(),attrs:{}}),Eh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function v0(t,{style:e,vars:n},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const _0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w0(t,e,n,s){v0(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(_0.has(o)?o:ph(o),e.attrs[o])}const qa={};function xI(t){Object.assign(qa,t)}function C0(t,{layout:e,layoutId:n}){return Lr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qa[t]||t==="opacity")}function xh(t,e,n){var s;const{style:o}=t,l={};for(const c in o)(lt(o[c])||e.style&&lt(e.style[c])||C0(c,t)||((s=n?.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function S0(t,e,n){const s=xh(t,e,n);for(const o in t)if(lt(t[o])||lt(e[o])){const l=Ri.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}function TI(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Jg=["x","y","width","height","cx","cy","r"],kI={useVisualState:f0({scrapeMotionValuesFromProps:S0,createRenderState:y0,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in o)if(Lr.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<Jg.length;h++){const f=Jg[h];t[f]!==e[f]&&(c=!0)}c&&Ie.read(()=>{TI(n,s),Ie.render(()=>{Ch(s,o,Eh(n.tagName),t.transformTemplate),w0(n,s)})})}})},PI={useVisualState:f0({scrapeMotionValuesFromProps:xh,createRenderState:Sh})};function E0(t,e,n){for(const s in e)!lt(e[s])&&!C0(s,n)&&(t[s]=e[s])}function II({transformTemplate:t},e){return Z.useMemo(()=>{const n=Sh();return wh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RI(t,e){const n=t.style||{},s={};return E0(s,n,t),Object.assign(s,II(t,e)),s}function AI(t,e){const n={},s=RI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function NI(t,e,n,s){const o=Z.useMemo(()=>{const l=y0();return Ch(l,e,Eh(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};E0(l,t.style,t),o.style={...l,...o.style}}return o}function DI(t=!1){return(n,s,o,{latestValues:l},c)=>{const f=(gh(n)?NI:AI)(s,l,c,n),m=KP(s,typeof n=="string",t),g=n!==Z.Fragment?{...m,...f,ref:o}:{},{children:y}=s,v=Z.useMemo(()=>lt(y)?y.get():y,[y]);return Z.createElement(n,{...g,children:v})}}function MI(t,e){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...gh(s)?kI:PI,preloadedFeatures:t,useRender:DI(o),createVisualElement:e,Component:s};return nI(c)}}function x0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function gl(t,e,n){const s=t.getProps();return yh(s,e,n!==void 0?n:s.custom,t)}function Th(t,e){return t?t[e]||t.default||t:void 0}const T0=new Set(["width","height","top","left","right","bottom",...Ri]);let ka;function LI(){ka=void 0}const ln={now:()=>(ka===void 0&&ln.set(et.isProcessing||UP.useManualTiming?et.timestamp:performance.now()),ka),set:t=>{ka=t,queueMicrotask(LI)}};function kh(t,e){t.indexOf(e)===-1&&t.push(e)}function Ph(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ih{constructor(){this.subscriptions=[]}add(e){return kh(this.subscriptions,e),()=>Ph(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function k0(t,e){return e?t*(1e3/e):0}const ey=30,OI=t=>!isNaN(parseFloat(t));class bI{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const l=ln.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ih);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ey)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ey);return k0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ys(t,e){return new bI(t,e)}function FI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ys(n))}function VI(t,e){const n=gl(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const h=lI(l[c]);FI(t,c,h)}}function jI(t){return!!(lt(t)&&t.add)}function ld(t,e){const n=t.getValue("willChange");if(jI(n))return n.add(e)}function P0(t){return t.props[c0]}function Rh(t){let e;return()=>(e===void 0&&(e=t()),e)}const BI=Rh(()=>window.ScrollTimeline!==void 0);class UI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(o=>{if(BI()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{s.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zI extends UI{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const Sn=t=>t*1e3,En=t=>t/1e3;function Ah(t){return typeof t=="function"}function ty(t,e){t.timeline=e,t.onfinish=null}const Nh=t=>Array.isArray(t)&&typeof t[0]=="number",WI={linearEasing:void 0};function $I(t,e){const n=Rh(t);return()=>{var s;return(s=WI[e])!==null&&s!==void 0?s:n()}}const Qa=$I(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Si=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},I0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=t(Si(0,o-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function R0(t){return!!(typeof t=="function"&&Qa()||!t||typeof t=="string"&&(t in ud||Qa())||Nh(t)||Array.isArray(t)&&t.every(R0))}const Ss=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ud={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ss([0,.65,.55,1]),circOut:Ss([.55,0,1,.45]),backIn:Ss([.31,.01,.66,-.59]),backOut:Ss([.33,1.53,.69,.99])};function A0(t,e){if(t)return typeof t=="function"&&Qa()?I0(t,e):Nh(t)?Ss(t):Array.isArray(t)?t.map(n=>A0(n,e)||ud.easeOut):ud[t]}const N0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HI=1e-7,GI=12;function KI(t,e,n,s,o){let l,c,h=0;do c=e+(n-e)/2,l=N0(c,s,o)-t,l>0?n=c:e=c;while(Math.abs(l)>HI&&++h<GI);return c}function ro(t,e,n,s){if(t===e&&n===s)return Nt;const o=l=>KI(l,0,1,t,n);return l=>l===0||l===1?l:N0(o(l),e,s)}const D0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,M0=t=>e=>1-t(1-e),L0=ro(.33,1.53,.69,.99),Dh=M0(L0),O0=D0(Dh),b0=t=>(t*=2)<1?.5*Dh(t):.5*(2-Math.pow(2,-10*(t-1))),Mh=t=>1-Math.sin(Math.acos(t)),F0=M0(Mh),V0=D0(Mh),j0=t=>/^0[^.\s]+$/u.test(t);function YI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||j0(t):!0}const Ds=t=>Math.round(t*1e5)/1e5,Lh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qI(t){return t==null}const QI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oh=(t,e)=>n=>!!(typeof n=="string"&&QI.test(n)&&n.startsWith(t)||e&&!qI(n)&&Object.prototype.hasOwnProperty.call(n,e)),B0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,h]=s.match(Lh);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},XI=t=>Pn(0,255,t),Nc={...Ai,transform:t=>Math.round(XI(t))},kr={test:Oh("rgb","red"),parse:B0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Nc.transform(t)+", "+Nc.transform(e)+", "+Nc.transform(n)+", "+Ds(Ks.transform(s))+")"};function ZI(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const cd={test:Oh("#"),parse:ZI,transform:kr.transform},ui={test:Oh("hsl","hue"),parse:B0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+an.transform(Ds(e))+", "+an.transform(Ds(n))+", "+Ds(Ks.transform(s))+")"},ot={test:t=>kr.test(t)||cd.test(t)||ui.test(t),parse:t=>kr.test(t)?kr.parse(t):ui.test(t)?ui.parse(t):cd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kr.transform(t):ui.transform(t)},JI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(JI))===null||n===void 0?void 0:n.length)||0)>0}const U0="number",z0="color",tR="var",nR="var(",ny="${}",rR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qs(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(rR,f=>(ot.test(f)?(s.color.push(l),o.push(z0),n.push(ot.parse(f))):f.startsWith(nR)?(s.var.push(l),o.push(tR),n.push(f)):(s.number.push(l),o.push(U0),n.push(parseFloat(f))),++l,ny)).split(ny);return{values:n,split:h,indexes:s,types:o}}function W0(t){return qs(t).values}function $0(t){const{split:e,types:n}=qs(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const h=n[c];h===U0?l+=Ds(o[c]):h===z0?l+=ot.transform(o[c]):l+=o[c]}return l}}const iR=t=>typeof t=="number"?0:t;function sR(t){const e=W0(t);return $0(t)(e.map(iR))}const nr={test:eR,parse:W0,createTransformer:$0,getAnimatableNone:sR},oR=new Set(["brightness","contrast","saturate","opacity"]);function aR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Lh)||[];if(!s)return t;const o=n.replace(s,"");let l=oR.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const lR=/\b([a-z-]*)\(.*?\)/gu,dd={...nr,getAnimatableNone:t=>{const e=t.match(lR);return e?e.map(aR).join(" "):t}},uR={..._h,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:dd,WebkitFilter:dd},bh=t=>uR[t];function H0(t,e){let n=bh(t);return n!==dd&&(n=nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cR=new Set(["auto","none","0"]);function dR(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!cR.has(l)&&qs(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=H0(n,o)}const ry=t=>t===Ai||t===ne,iy=(t,e)=>parseFloat(t.split(", ")[e]),sy=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return iy(o[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?iy(l[1],t):0}},hR=new Set(["x","y","z"]),fR=Ri.filter(t=>!hR.has(t));function pR(t){const e=[];return fR.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ei={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sy(4,13),y:sy(5,14)};Ei.translateX=Ei.x;Ei.translateY=Ei.y;const Pr=new Set;let hd=!1,fd=!1;function G0(){if(fd){const t=Array.from(Pr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=pR(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var h;(h=s.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}fd=!1,hd=!1,Pr.forEach(t=>t.complete()),Pr.clear()}function K0(){Pr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fd=!0)})}function mR(){K0(),G0()}class Fh{constructor(e,n,s,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pr.add(this),hd||(hd=!0,Ie.read(K0),Ie.resolveKeyframes(G0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const f=s.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Y0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yR(t){const e=gR.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function q0(t,e,n=1){const[s,o]=yR(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Y0(c)?parseFloat(c):c}return vh(o)?q0(o,e,n+1):o}const Q0=t=>e=>e.test(t),vR={test:t=>t==="auto",parse:t=>t},X0=[Ai,ne,an,Yn,pI,fI,vR],oy=t=>X0.find(Q0(t));class Z0 extends Fh{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),vh(m))){const g=q0(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!T0.has(s)||e.length!==2)return;const[o,l]=e,c=oy(o),h=oy(l);if(c!==h)if(ry(c)&&ry(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)YI(e[o])&&s.push(o);s.length&&dR(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ei[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=Ei[s](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const ay=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nr.test(t)||t==="0")&&!t.startsWith("url("));function _R(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wR(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=ay(o,e),h=ay(l,e);return!c||!h?!1:_R(t)||(n==="spring"||Ah(n))&&s}const CR=t=>t!==null;function yl(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(CR),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const SR=40;class J0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ln.now(),this.options={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mR(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ln.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:l,delay:c,onComplete:h,onUpdate:f,isGenerator:m}=this.options;if(!m&&!wR(e,s,o,l))if(c)this.options.duration=0;else{f&&f(yl(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pd=2e4;function e1(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<pd;)e+=n,s=t.next(e);return e>=pd?1/0:e}const Le=(t,e,n)=>t+(e-t)*n;function Dc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ER({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=Dc(f,h,t+1/3),l=Dc(f,h,t),c=Dc(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Xa(t,e){return n=>n>0?e:t}const Mc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},xR=[cd,kr,ui],TR=t=>xR.find(e=>e.test(t));function ly(t){const e=TR(t);if(!e)return!1;let n=e.parse(t);return e===ui&&(n=ER(n)),n}const uy=(t,e)=>{const n=ly(t),s=ly(e);if(!n||!s)return Xa(t,e);const o={...n};return l=>(o.red=Mc(n.red,s.red,l),o.green=Mc(n.green,s.green,l),o.blue=Mc(n.blue,s.blue,l),o.alpha=Le(n.alpha,s.alpha,l),kr.transform(o))},kR=(t,e)=>n=>e(t(n)),io=(...t)=>t.reduce(kR),md=new Set(["none","hidden"]);function PR(t,e){return md.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IR(t,e){return n=>Le(t,e,n)}function Vh(t){return typeof t=="number"?IR:typeof t=="string"?vh(t)?Xa:ot.test(t)?uy:NR:Array.isArray(t)?t1:typeof t=="object"?ot.test(t)?uy:RR:Xa}function t1(t,e){const n=[...t],s=n.length,o=t.map((l,c)=>Vh(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function RR(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Vh(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function AR(t,e){var n;const s=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][o[c]],f=(n=t.values[h])!==null&&n!==void 0?n:0;s[l]=f,o[c]++}return s}const NR=(t,e)=>{const n=nr.createTransformer(e),s=qs(t),o=qs(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?md.has(t)&&!o.values.length||md.has(e)&&!s.values.length?PR(t,e):io(t1(AR(s,o),o.values),n):Xa(t,e)};function n1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Le(t,e,n):Vh(t)(t,e)}const DR=5;function r1(t,e,n){const s=Math.max(e-DR,0);return k0(n-t(s),e-s)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lc=.001;function MR({duration:t=Fe.duration,bounce:e=Fe.bounce,velocity:n=Fe.velocity,mass:s=Fe.mass}){let o,l,c=1-e;c=Pn(Fe.minDamping,Fe.maxDamping,c),t=Pn(Fe.minDuration,Fe.maxDuration,En(t)),c<1?(o=m=>{const g=m*c,y=g*t,v=g-n,C=gd(m,c),x=Math.exp(-y);return Lc-v/C*x},l=m=>{const y=m*c*t,v=y*n+n,C=Math.pow(c,2)*Math.pow(m,2)*t,x=Math.exp(-y),P=gd(Math.pow(m,2),c);return(-o(m)+Lc>0?-1:1)*((v-C)*x)/P}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-Lc+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const h=5/t,f=OR(o,l,h);if(t=Sn(t),isNaN(f))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const LR=12;function OR(t,e,n){let s=n;for(let o=1;o<LR;o++)s=s-t(s)/e(s);return s}function gd(t,e){return t*Math.sqrt(1-e*e)}const bR=["duration","bounce"],FR=["stiffness","damping","mass"];function cy(t,e){return e.some(n=>t[n]!==void 0)}function VR(t){let e={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...t};if(!cy(t,FR)&&cy(t,bR))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Pn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Fe.mass,stiffness:o,damping:l}}else{const n=MR(t);e={...e,...n,mass:Fe.mass},e.isResolvedFromDuration=!0}return e}function i1(t=Fe.visualDuration,e=Fe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:C}=VR({...n,velocity:-En(n.velocity||0)}),x=v||0,P=m/(2*Math.sqrt(f*g)),N=c-l,O=En(Math.sqrt(f/g)),B=Math.abs(N)<5;s||(s=B?Fe.restSpeed.granular:Fe.restSpeed.default),o||(o=B?Fe.restDelta.granular:Fe.restDelta.default);let U;if(P<1){const G=gd(O,P);U=Y=>{const se=Math.exp(-P*O*Y);return c-se*((x+P*O*N)/G*Math.sin(G*Y)+N*Math.cos(G*Y))}}else if(P===1)U=G=>c-Math.exp(-O*G)*(N+(x+O*N)*G);else{const G=O*Math.sqrt(P*P-1);U=Y=>{const se=Math.exp(-P*O*Y),q=Math.min(G*Y,300);return c-se*((x+P*O*N)*Math.sinh(q)+G*N*Math.cosh(q))/G}}const H={calculatedDuration:C&&y||null,next:G=>{const Y=U(G);if(C)h.done=G>=y;else{let se=0;P<1&&(se=G===0?Sn(x):r1(U,G,Y));const q=Math.abs(se)<=s,Ne=Math.abs(c-Y)<=o;h.done=q&&Ne}return h.value=h.done?c:Y,h},toString:()=>{const G=Math.min(e1(H),pd),Y=I0(se=>H.next(G*se).value,G,30);return G+"ms "+Y}};return H}function dy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},C=q=>h!==void 0&&q<h||f!==void 0&&q>f,x=q=>h===void 0?f:f===void 0||Math.abs(h-q)<Math.abs(f-q)?h:f;let P=n*e;const N=y+P,O=c===void 0?N:c(N);O!==N&&(P=O-y);const B=q=>-P*Math.exp(-q/s),U=q=>O+B(q),H=q=>{const Ne=B(q),Oe=U(q);v.done=Math.abs(Ne)<=m,v.value=v.done?O:Oe};let G,Y;const se=q=>{C(v.value)&&(G=q,Y=i1({keyframes:[v.value,x(v.value)],velocity:r1(U,q,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return se(0),{calculatedDuration:null,next:q=>{let Ne=!1;return!Y&&G===void 0&&(Ne=!0,H(q),se(q)),G!==void 0&&q>=G?Y.next(q-G):(!Ne&&H(q),v)}}}const jR=ro(.42,0,1,1),BR=ro(0,0,.58,1),s1=ro(.42,0,.58,1),UR=t=>Array.isArray(t)&&typeof t[0]!="number",zR={linear:Nt,easeIn:jR,easeInOut:s1,easeOut:BR,circIn:Mh,circInOut:V0,circOut:F0,backIn:Dh,backInOut:O0,backOut:L0,anticipate:b0},hy=t=>{if(Nh(t)){s0(t.length===4);const[e,n,s,o]=t;return ro(e,n,s,o)}else if(typeof t=="string")return zR[t];return t};function WR(t,e,n){const s=[],o=n||n1,l=t.length-1;for(let c=0;c<l;c++){let h=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Nt:e;h=io(f,h)}s.push(h)}return s}function $R(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(s0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=WR(e,s,o),f=h.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=Si(t[y],t[y+1],g);return h[y](v)};return n?g=>m(Pn(t[0],t[l-1],g)):m}function HR(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Si(0,e,s);t.push(Le(n,1,o))}}function GR(t){const e=[0];return HR(e,t.length-1),e}function KR(t,e){return t.map(n=>n*e)}function YR(t,e){return t.map(()=>e||s1).splice(0,t.length-1)}function Za({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=UR(s)?s.map(hy):hy(s),l={done:!1,value:e[0]},c=KR(n&&n.length===e.length?n:GR(e),t),h=$R(c,e,{ease:Array.isArray(o)?o:YR(e,o)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const qR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>tr(e),now:()=>et.isProcessing?et.timestamp:ln.now()}},QR={decay:dy,inertia:dy,tween:Za,keyframes:Za,spring:i1},XR=t=>t/100;class jh extends J0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||Fh,h=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(l,h,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,h=Ah(n)?n:QR[n]||Za;let f,m;h!==Za&&typeof e[0]!="number"&&(f=io(XR,n1(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=e1(g));const{calculatedDuration:y}=g,v=y+o,C=v*(s+1)-o;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:v,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:C,repeatType:x,repeatDelay:P,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,H=l;if(C){const q=Math.min(this.currentTime,g)/y;let Ne=Math.floor(q),Oe=q%1;!Oe&&q>=1&&(Oe=1),Oe===1&&Ne--,Ne=Math.min(Ne,C+1),!!(Ne%2)&&(x==="reverse"?(Oe=1-Oe,P&&(Oe-=P/y)):x==="mirror"&&(H=c)),U=Pn(0,1,Oe)*y}const G=B?{done:!1,value:f[0]}:H.next(U);h&&(G.value=h(G.value));let{done:Y}=G;!B&&m!==null&&(Y=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return se&&o!==void 0&&(G.value=yl(f,this.options,o)),N&&N(G.value),se&&this.finish(),G}get duration(){const{resolved:e}=this;return e?En(e.calculatedDuration):0}get time(){return En(this.currentTime)}set time(e){e=Sn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=En(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qR,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZR=new Set(["opacity","clipPath","filter","transform"]);function JR(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const g=A0(h,o);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const eA=Rh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ja=10,tA=2e4;function nA(t){return Ah(t.type)||t.type==="spring"||!R0(t.ease)}function rA(t,e){const n=new jh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const o=[];let l=0;for(;!s.done&&l<tA;)s=n.sample(l),o.push(s.value),l+=Ja;return{times:void 0,keyframes:o,duration:l-Ja,ease:"linear"}}const o1={anticipate:b0,backInOut:O0,circInOut:V0};function iA(t){return t in o1}class fy extends J0{constructor(e){super(e);const{name:n,motionValue:s,element:o,keyframes:l}=this.options;this.resolver=new Z0(l,(c,h)=>this.onKeyframesResolved(c,h),n,s,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:o,ease:l,type:c,motionValue:h,name:f,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Qa()&&iA(l)&&(l=o1[l]),nA(this.options)){const{onComplete:y,onUpdate:v,motionValue:C,element:x,...P}=this.options,N=rA(e,P);e=N.keyframes,e.length===1&&(e[1]=e[0]),s=N.duration,o=N.times,l=N.ease,c="keyframes"}const g=JR(h.owner.current,f,e,{...this.options,duration:s,times:o,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(ty(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;h.set(yl(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return En(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return En(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Sn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nt;const{animation:s}=n;ty(s,e)}return Nt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:o,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:v,...C}=this.options,x=new jh({...C,keyframes:s,duration:o,type:l,ease:c,times:h,isGenerator:!0}),P=Sn(this.time);m.setWithVelocity(x.sample(P-Ja).value,x.sample(P).value,Ja)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:o,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return eA()&&s&&ZR.has(s)&&!f&&!m&&!o&&l!=="mirror"&&c!==0&&h!=="inertia"}}const sA={type:"spring",stiffness:500,damping:25,restSpeed:10},oA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aA={type:"keyframes",duration:.8},lA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uA=(t,{keyframes:e})=>e.length>2?aA:Lr.has(t)?t.startsWith("scale")?oA(e[1]):sA:lA;function cA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Bh=(t,e,n,s={},o,l)=>c=>{const h=Th(s,t)||{},f=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Sn(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};cA(h)||(g={...g,...uA(t,g)}),g.duration&&(g.duration=Sn(g.duration)),g.repeatDelay&&(g.repeatDelay=Sn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=yl(g.keyframes,h);if(v!==void 0)return Ie.update(()=>{g.onUpdate(v),g.onComplete()}),new zI([])}return!l&&fy.supports(g)?new fy(g):new jh(g)};function dA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function a1(t,e,{delay:n=0,transitionOverride:s,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...f}=e;s&&(c=s);const m=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in f){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),C=f[y];if(C===void 0||g&&dA(g,y))continue;const x={delay:n,...Th(c||{},y)};let P=!1;if(window.MotionHandoffAnimation){const O=P0(t);if(O){const B=window.MotionHandoffAnimation(O,y,Ie);B!==null&&(x.startTime=B,P=!0)}}ld(t,y),v.start(Bh(y,v,C,t.shouldReduceMotion&&T0.has(y)?{type:!1}:x,t,P));const N=v.animation;N&&m.push(N)}return h&&Promise.all(m).then(()=>{Ie.update(()=>{h&&VI(t,h)})}),m}function yd(t,e,n={}){var s;const o=gl(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(a1(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return hA(t,e,g+m,y,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,g]=f==="beforeChildren"?[c,h]:[h,c];return m().then(()=>g())}else return Promise.all([c(),h(n.delay)])}function hA(t,e,n=0,s=0,o=1,l){const c=[],h=(t.variantChildren.size-1)*s,f=o===1?(m=0)=>m*s:(m=0)=>h-m*s;return Array.from(t.variantChildren).sort(fA).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(yd(m,e,{...l,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function fA(t,e){return t.sortNodePosition(e)}function pA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>yd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=yd(t,e,n);else{const o=typeof e=="function"?gl(t,e,n.custom):e;s=Promise.all(a1(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const mA=fh.length;function l1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?l1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mA;n++){const s=fh[n],o=t.props[s];(Gs(o)||o===!1)&&(e[s]=o)}return e}const gA=[...hh].reverse(),yA=hh.length;function vA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>pA(t,n,s)))}function _A(t){let e=vA(t),n=py(),s=!0;const o=f=>(m,g)=>{var y;const v=gl(t,g,f==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:C,transitionEnd:x,...P}=v;m={...m,...P,...x}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,g=l1(t.parent)||{},y=[],v=new Set;let C={},x=1/0;for(let N=0;N<yA;N++){const O=gA[N],B=n[O],U=m[O]!==void 0?m[O]:g[O],H=Gs(U),G=O===f?B.isActive:null;G===!1&&(x=N);let Y=U===g[O]&&U!==m[O]&&H;if(Y&&s&&t.manuallyAnimateOnMount&&(Y=!1),B.protectedKeys={...C},!B.isActive&&G===null||!U&&!B.prevProp||pl(U)||typeof U=="boolean")continue;const se=wA(B.prevProp,U);let q=se||O===f&&B.isActive&&!Y&&H||N>x&&H,Ne=!1;const Oe=Array.isArray(U)?U:[U];let ft=Oe.reduce(o(O),{});G===!1&&(ft={});const{prevResolvedValues:Tt={}}=B,ut={...Tt,...ft},pt=ae=>{q=!0,v.has(ae)&&(Ne=!0,v.delete(ae)),B.needsAnimating[ae]=!0;const j=t.getValue(ae);j&&(j.liveStyle=!1)};for(const ae in ut){const j=ft[ae],J=Tt[ae];if(C.hasOwnProperty(ae))continue;let W=!1;ad(j)&&ad(J)?W=!x0(j,J):W=j!==J,W?j!=null?pt(ae):v.add(ae):j!==void 0&&v.has(ae)?pt(ae):B.protectedKeys[ae]=!0}B.prevProp=U,B.prevResolvedValues=ft,B.isActive&&(C={...C,...ft}),s&&t.blockInitialAnimation&&(q=!1),q&&(!(Y&&se)||Ne)&&y.push(...Oe.map(ae=>({animation:ae,options:{type:O}})))}if(v.size){const N={};v.forEach(O=>{const B=t.getBaseTarget(O),U=t.getValue(O);U&&(U.liveStyle=!0),N[O]=B??null}),y.push({animation:N})}let P=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(y):Promise.resolve()}function h(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var C;return(C=v.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),n[f].isActive=m;const y=c(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=py(),s=!0}}}function wA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!x0(e,t):!1}function _r(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function py(){return{animate:_r(!0),whileInView:_r(),whileHover:_r(),whileTap:_r(),whileDrag:_r(),whileFocus:_r(),exit:_r()}}class ir{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CA extends ir{constructor(e){super(e),e.animationState||(e.animationState=_A(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SA=0;class EA extends ir{constructor(){super(...arguments),this.id=SA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xA={animation:{Feature:CA},exit:{Feature:EA}},qt={x:!1,y:!1};function u1(){return qt.x||qt.y}function TA(t){return t==="x"||t==="y"?qt[t]?null:(qt[t]=!0,()=>{qt[t]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}const Uh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Qs(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function so(t){return{point:{x:t.pageX,y:t.pageY}}}const kA=t=>e=>Uh(e)&&t(e,so(e));function Ms(t,e,n,s){return Qs(t,e,kA(n),s)}const my=(t,e)=>Math.abs(t-e);function PA(t,e){const n=my(t.x,e.x),s=my(t.y,e.y);return Math.sqrt(n**2+s**2)}class c1{constructor(e,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=bc(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,C=PA(y.offset,{x:0,y:0})>=3;if(!v&&!C)return;const{point:x}=y,{timestamp:P}=et;this.history.push({...x,timestamp:P});const{onStart:N,onMove:O}=this.handlers;v||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Oc(v,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:C,onSessionEnd:x,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=bc(y.type==="pointercancel"?this.lastMoveEventInfo:Oc(v,this.transformPagePoint),this.history);this.startEvent&&C&&C(y,N),x&&x(y,N)},!Uh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const c=so(e),h=Oc(c,this.transformPagePoint),{point:f}=h,{timestamp:m}=et;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,bc(h,this.history)),this.removeListeners=io(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tr(this.updatePoint)}}function Oc(t,e){return e?{point:e(t.point)}:t}function gy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bc({point:t},e){return{point:t,delta:gy(t,d1(e)),offset:gy(t,IA(e)),velocity:RA(e,.1)}}function IA(t){return t[0]}function d1(t){return t[t.length-1]}function RA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=d1(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Sn(e)));)n--;if(!s)return{x:0,y:0};const l=En(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const h1=1e-4,AA=1-h1,NA=1+h1,f1=.01,DA=0-f1,MA=0+f1;function Dt(t){return t.max-t.min}function LA(t,e,n){return Math.abs(t-e)<=n}function yy(t,e,n,s=.5){t.origin=s,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AA&&t.scale<=NA||isNaN(t.scale))&&(t.scale=1),(t.translate>=DA&&t.translate<=MA||isNaN(t.translate))&&(t.translate=0)}function Ls(t,e,n,s){yy(t.x,e.x,n.x,s?s.originX:void 0),yy(t.y,e.y,n.y,s?s.originY:void 0)}function vy(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function OA(t,e,n){vy(t.x,e.x,n.x),vy(t.y,e.y,n.y)}function _y(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function Os(t,e,n){_y(t.x,e.x,n.x),_y(t.y,e.y,n.y)}function bA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Le(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Le(n,t,s.max):Math.min(t,n)),t}function wy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FA(t,{top:e,left:n,bottom:s,right:o}){return{x:wy(t.x,n,o),y:wy(t.y,e,s)}}function Cy(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function VA(t,e){return{x:Cy(t.x,e.x),y:Cy(t.y,e.y)}}function jA(t,e){let n=.5;const s=Dt(t),o=Dt(e);return o>s?n=Si(e.min,e.max-s,t.min):s>o&&(n=Si(t.min,t.max-o,e.min)),Pn(0,1,n)}function BA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vd=.35;function UA(t=vd){return t===!1?t=0:t===!0&&(t=vd),{x:Sy(t,"left","right"),y:Sy(t,"top","bottom")}}function Sy(t,e,n){return{min:Ey(t,e),max:Ey(t,n)}}function Ey(t,e){return typeof t=="number"?t:t[e]||0}const xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ci=()=>({x:xy(),y:xy()}),Ty=()=>({min:0,max:0}),Ue=()=>({x:Ty(),y:Ty()});function Bt(t){return[t("x"),t("y")]}function p1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function zA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fc(t){return t===void 0||t===1}function _d({scale:t,scaleX:e,scaleY:n}){return!Fc(t)||!Fc(e)||!Fc(n)}function Sr(t){return _d(t)||m1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function m1(t){return ky(t.x)||ky(t.y)}function ky(t){return t&&t!=="0%"}function el(t,e,n){const s=t-n,o=e*s;return n+o}function Py(t,e,n,s,o){return o!==void 0&&(t=el(t,o,s)),el(t,n,s)+e}function wd(t,e=0,n=1,s,o){t.min=Py(t.min,e,n,s,o),t.max=Py(t.max,e,n,s,o)}function g1(t,{x:e,y:n}){wd(t.x,e.translate,e.scale,e.originPoint),wd(t.y,n.translate,n.scale,n.originPoint)}const Iy=.999999999999,Ry=1.0000000000001;function $A(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&hi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,g1(t,c)),s&&Sr(l.latestValues)&&hi(t,l.latestValues))}e.x<Ry&&e.x>Iy&&(e.x=1),e.y<Ry&&e.y>Iy&&(e.y=1)}function di(t,e){t.min=t.min+e,t.max=t.max+e}function Ay(t,e,n,s,o=.5){const l=Le(t.min,t.max,o);wd(t,e,n,l,s)}function hi(t,e){Ay(t.x,e.x,e.scaleX,e.scale,e.originX),Ay(t.y,e.y,e.scaleY,e.scale,e.originY)}function y1(t,e){return p1(WA(t.getBoundingClientRect(),e))}function HA(t,e,n){const s=y1(t,n),{scroll:o}=e;return o&&(di(s.x,o.offset.x),di(s.y,o.offset.y)),s}const v1=({current:t})=>t?t.ownerDocument.defaultView:null,GA=new WeakMap;class KA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(so(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:C,onDragStart:x}=this.getProps();if(v&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TA(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(N=>{let O=this.getAxisMotionValue(N).get()||0;if(an.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const U=B.layout.layoutBox[N];U&&(O=Dt(U)*(parseFloat(O)/100))}}this.originPoint[N]=O}),x&&Ie.postRender(()=>x(g,y)),ld(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:C,onDirectionLock:x,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=y;if(C&&this.currentDirection===null){this.currentDirection=YA(N),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),P&&P(g,y)},h=(g,y)=>this.stop(g,y),f=()=>Bt(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new c1(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:v1(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ie.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ea(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=bA(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=FA(o.layoutBox,n):this.constraints=!1,this.elastic=UA(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Bt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=BA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!li(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=HA(s,o.root,this.visualElement.getTransformPagePoint());let c=VA(o.layout.layoutBox,l);if(n){const h=n(zA(c));this.hasMutatedConstraints=!!h,h&&(c=p1(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Bt(g=>{if(!Ea(g,n,this.currentDirection))return;let y=f&&f[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,C=o?40:1e7,x={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ld(this.visualElement,e),s.start(Bh(e,s,0,n,this.visualElement,!1))}stopAnimation(){Bt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Bt(n=>{const{drag:s}=this.getProps();if(!Ea(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];l.set(e[n]-Le(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!li(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Bt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();o[c]=jA({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bt(c=>{if(!Ea(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(Le(f,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;GA.set(this.visualElement,this);const e=this.visualElement.current,n=Ms(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();li(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ie.read(s);const c=Qs(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Bt(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=vd,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Ea(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qA extends ir{constructor(e){super(e),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new KA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ny=t=>(e,n)=>{t&&Ie.postRender(()=>t(e,n))};class QA extends ir{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(e){this.session=new c1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ny(e),onStart:Ny(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Ie.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Dy(t,e.target.x),s=Dy(t,e.target.y);return`${n}% ${s}%`}},XA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=nr.parse(t);if(o.length>5)return s;const l=nr.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=f;const m=Le(h,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class ZA extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;xI(JA),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ie.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _1(t){const[e,n]=jP(),s=Z.useContext(r0);return R.jsx(ZA,{...t,layoutGroup:s,switchLayoutGroup:Z.useContext(d0),isPresent:e,safeToRemove:n})}const JA={borderRadius:{...Cs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cs,borderTopRightRadius:Cs,borderBottomLeftRadius:Cs,borderBottomRightRadius:Cs,boxShadow:XA};function eN(t,e,n){const s=lt(t)?t:Ys(t);return s.start(Bh("",s,e,n)),s.animation}function tN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const nN=(t,e)=>t.depth-e.depth;class rN{constructor(){this.children=[],this.isDirty=!1}add(e){kh(this.children,e),this.isDirty=!0}remove(e){Ph(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nN),this.isDirty=!1,this.children.forEach(e)}}function iN(t,e){const n=ln.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(tr(s),t(l-e))};return Ie.read(s,!0),()=>tr(s)}const w1=["TopLeft","TopRight","BottomLeft","BottomRight"],sN=w1.length,My=t=>typeof t=="string"?parseFloat(t):t,Ly=t=>typeof t=="number"||ne.test(t);function oN(t,e,n,s,o,l){o?(t.opacity=Le(0,n.opacity!==void 0?n.opacity:1,aN(s)),t.opacityExit=Le(e.opacity!==void 0?e.opacity:1,0,lN(s))):l&&(t.opacity=Le(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<sN;c++){const h=`border${w1[c]}Radius`;let f=Oy(e,h),m=Oy(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Ly(f)===Ly(m)?(t[h]=Math.max(Le(My(f),My(m),s),0),(an.test(m)||an.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,s))}function Oy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aN=C1(0,.5,F0),lN=C1(.5,.95,Nt);function C1(t,e,n){return s=>s<t?0:s>e?1:n(Si(t,e,s))}function by(t,e){t.min=e.min,t.max=e.max}function jt(t,e){by(t.x,e.x),by(t.y,e.y)}function Fy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vy(t,e,n,s,o){return t-=e,t=el(t,1/n,s),o!==void 0&&(t=el(t,1/o,s)),t}function uN(t,e=0,n=1,s=.5,o,l=t,c=t){if(an.test(e)&&(e=parseFloat(e),e=Le(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Le(l.min,l.max,s);t===l&&(h-=e),t.min=Vy(t.min,e,n,h,o),t.max=Vy(t.max,e,n,h,o)}function jy(t,e,[n,s,o],l,c){uN(t,e[n],e[s],e[o],e.scale,l,c)}const cN=["x","scaleX","originX"],dN=["y","scaleY","originY"];function By(t,e,n,s){jy(t.x,e,cN,n?n.x:void 0,s?s.x:void 0),jy(t.y,e,dN,n?n.y:void 0,s?s.y:void 0)}function Uy(t){return t.translate===0&&t.scale===1}function S1(t){return Uy(t.x)&&Uy(t.y)}function zy(t,e){return t.min===e.min&&t.max===e.max}function hN(t,e){return zy(t.x,e.x)&&zy(t.y,e.y)}function Wy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function E1(t,e){return Wy(t.x,e.x)&&Wy(t.y,e.y)}function $y(t){return Dt(t.x)/Dt(t.y)}function Hy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fN{constructor(){this.members=[]}add(e){kh(this.members,e),e.scheduleRender()}remove(e){if(Ph(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pN(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:C,skewY:x}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),C&&(s+=`skewX(${C}deg) `),x&&(s+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Er={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Es=typeof window<"u"&&window.MotionDebug!==void 0,Vc=["","X","Y","Z"],mN={visibility:"hidden"},Gy=1e3;let gN=0;function jc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function x1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P0(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&x1(s)}function T1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},h=e?.()){this.id=gN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Es&&(Er.totalNodes=Er.resolvedTargetDeltas=Er.recalculatedProjection=0),this.nodes.forEach(_N),this.nodes.forEach(xN),this.nodes.forEach(TN),this.nodes.forEach(wN),Es&&window.MotionDebug.record(Er)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new rN)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ih),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tN(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=iN(v,250),Pa.hasAnimatedSinceResize&&(Pa.hasAnimatedSinceResize=!1,this.nodes.forEach(Yy))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:C,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||AN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=g.getProps(),B=!this.targetLayout||!E1(this.targetLayout,x)||C,U=!v&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,U);const H={...Th(P,"layout"),onPlay:N,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else v||Yy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ky);return}this.isUpdating||this.nodes.forEach(SN),this.isUpdating=!1,this.nodes.forEach(EN),this.nodes.forEach(yN),this.nodes.forEach(vN),this.clearAllSnapshots();const h=ln.now();et.delta=Pn(0,1e3/60,h-et.timestamp),et.timestamp=h,et.isProcessing=!0,Ac.update.process(et),Ac.preRender.process(et),Ac.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CN),this.sharedNodes.forEach(PN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!S1(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||Sr(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),NN(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Ue();const f=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(DN))){const{scroll:g}=this.root;g&&(di(f.x,g.offset.x),di(f.y,g.offset.y))}return f}removeElementScroll(c){var h;const f=Ue();if(jt(f,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&jt(f,c),di(f.x,y.offset.x),di(f.y,y.offset.y))}return f}applyTransform(c,h=!1){const f=Ue();jt(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&hi(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Sr(g.latestValues)&&hi(f,g.latestValues)}return Sr(this.latestValues)&&hi(f,this.latestValues),f}removeTransform(c){const h=Ue();jt(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Sr(m.latestValues))continue;_d(m.latestValues)&&m.updateSnapshot();const g=Ue(),y=m.measurePageBox();jt(g,y),By(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Sr(this.latestValues)&&By(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Os(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),g1(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Os(this.relativeTargetOrigin,this.target,C.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Es&&Er.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_d(this.parent.latestValues)||m1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===et.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;jt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,C=this.treeScale.y;$A(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ue());const{target:x}=h;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fy(this.prevProjectionDelta.x,this.projectionDelta.x),Fy(this.prevProjectionDelta.y,this.projectionDelta.y)),Ls(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==C||!Hy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Es&&Er.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ci(),this.projectionDelta=ci(),this.projectionDeltaWithTransform=ci()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},y=ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Ue(),C=f?f.source:void 0,x=this.layout?this.layout.source:void 0,P=C!==x,N=this.getStack(),O=!N||N.members.length<=1,B=!!(P&&!O&&this.options.crossfade===!0&&!this.path.some(RN));this.animationProgress=0;let U;this.mixTargetDelta=H=>{const G=H/1e3;qy(y.x,c.x,G),qy(y.y,c.y,G),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Os(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IN(this.relativeTarget,this.relativeTargetOrigin,v,G),U&&hN(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ue()),jt(U,this.relativeTarget)),P&&(this.animationValues=g,oN(g,m,this.latestValues,G,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Pa.hasAnimatedSinceResize=!0,this.currentAnimation=eN(0,Gy,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&k1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ue();const y=Dt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+y;const v=Dt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}jt(h,f),hi(h,g),Ls(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fN),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&jc("z",c,m,this.animationValues);for(let g=0;g<Vc.length;g++)jc(`rotate${Vc[g]}`,c,m,this.animationValues),jc(`skew${Vc[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mN;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ta(c?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Ta(c?.pointerEvents)||""),this.hasProjected&&!Sr(this.latestValues)&&(P.transform=g?g({},""):"none",this.hasProjected=!1),P}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=pN(this.projectionDeltaWithTransform,this.treeScale,v),g&&(m.transform=g(v,m.transform));const{x:C,y:x}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${x.origin*100}% 0`,y.animationValues?m.opacity=y===this?(f=(h=v.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in qa){if(v[P]===void 0)continue;const{correct:N,applyTo:O}=qa[P],B=m.transform==="none"?v[P]:N(v[P],y);if(O){const U=O.length;for(let H=0;H<U;H++)m[O[H]]=B}else m[P]=B}return this.options.layoutId&&(m.pointerEvents=y===this?Ta(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Ky),this.root.sharedNodes.clear()}}}function yN(t){t.updateLayout()}function vN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Bt(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],C=Dt(v);v.min=s[y].min,v.max=v.min+C}):k1(l,n.layoutBox,s)&&Bt(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],C=Dt(s[y]);v.max=v.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+C)});const h=ci();Ls(h,s,n.layoutBox);const f=ci();c?Ls(f,t.applyTransform(o,!0),n.measuredBox):Ls(f,s,n.layoutBox);const m=!S1(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:C}=y;if(v&&C){const x=Ue();Os(x,n.layoutBox,v.layoutBox);const P=Ue();Os(P,s,C.layoutBox),E1(x,P)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function _N(t){Es&&Er.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CN(t){t.clearSnapshot()}function Ky(t){t.clearMeasurements()}function SN(t){t.isLayoutDirty=!1}function EN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Yy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xN(t){t.resolveTargetDelta()}function TN(t){t.calcProjection()}function kN(t){t.resetSkewAndRotation()}function PN(t){t.removeLeadSnapshot()}function qy(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qy(t,e,n,s){t.min=Le(e.min,n.min,s),t.max=Le(e.max,n.max,s)}function IN(t,e,n,s){Qy(t.x,e.x,n.x,s),Qy(t.y,e.y,n.y,s)}function RN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AN={duration:.45,ease:[.4,0,.1,1]},Xy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zy=Xy("applewebkit/")&&!Xy("chrome/")?Math.round:Nt;function Jy(t){t.min=Zy(t.min),t.max=Zy(t.max)}function NN(t){Jy(t.x),Jy(t.y)}function k1(t,e,n){return t==="position"||t==="preserve-aspect"&&!LA($y(e),$y(n),.2)}function DN(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const MN=T1({attachResizeListener:(t,e)=>Qs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bc={current:void 0},P1=T1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bc.current){const t=new MN({});t.mount(window),t.setOptions({layoutScroll:!0}),Bc.current=t}return Bc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LN={pan:{Feature:QA},drag:{Feature:qA,ProjectionNode:P1,MeasureLayout:_1}};function ON(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function I1(t,e){const n=ON(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function ev(t){return e=>{e.pointerType==="touch"||u1()||t(e)}}function bN(t,e,n={}){const[s,o,l]=I1(t,n),c=ev(h=>{const{target:f}=h,m=e(h);if(typeof m!="function"||!f)return;const g=ev(y=>{m(y),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,o)});return s.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}function tv(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ie.postRender(()=>l(e,so(e)))}class FN extends ir{mount(){const{current:e}=this.node;e&&(this.unmount=bN(e,n=>(tv(this.node,n,"Start"),s=>tv(this.node,s,"End"))))}unmount(){}}class VN extends ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(Qs(this.node.current,"focus",()=>this.onFocus()),Qs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const R1=(t,e)=>e?t===e?!0:R1(t,e.parentElement):!1,jN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BN(t){return jN.has(t.tagName)||t.tabIndex!==-1}const xs=new WeakSet;function nv(t){return e=>{e.key==="Enter"&&t(e)}}function Uc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UN=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=nv(()=>{if(xs.has(n))return;Uc(n,"down");const o=nv(()=>{Uc(n,"up")}),l=()=>Uc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function rv(t){return Uh(t)&&!u1()}function zN(t,e,n={}){const[s,o,l]=I1(t,n),c=h=>{const f=h.currentTarget;if(!rv(h)||xs.has(f))return;xs.add(f);const m=e(h),g=(C,x)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!rv(C)||!xs.has(f))&&(xs.delete(f),typeof m=="function"&&m(C,{success:x}))},y=C=>{g(C,n.useGlobalTarget||R1(f,C.target))},v=C=>{g(C,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return s.forEach(h=>{!BN(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h.addEventListener("focus",m=>UN(m,o),o)}),l}function iv(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ie.postRender(()=>l(e,so(e)))}class WN extends ir{mount(){const{current:e}=this.node;e&&(this.unmount=zN(e,n=>(iv(this.node,n,"Start"),(s,{success:o})=>iv(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cd=new WeakMap,zc=new WeakMap,$N=t=>{const e=Cd.get(t.target);e&&e(t)},HN=t=>{t.forEach($N)};function GN({root:t,...e}){const n=t||document;zc.has(n)||zc.set(n,{});const s=zc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(HN,{root:t,...e})),s[o]}function KN(t,e,n){const s=GN(e);return Cd.set(t,n),s.observe(t),()=>{Cd.delete(t),s.unobserve(t)}}const YN={some:0,all:1};class qN extends ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:YN[o]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(f)};return KN(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QN(e,n))&&this.startObserver()}unmount(){}}function QN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XN={inView:{Feature:qN},tap:{Feature:WN},focus:{Feature:VN},hover:{Feature:FN}},ZN={layout:{ProjectionNode:P1,MeasureLayout:_1}},Sd={current:null},A1={current:!1};function JN(){if(A1.current=!0,!!dh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sd.current=t.matches;t.addListener(e),e()}else Sd.current=!1}const e2=[...X0,ot,nr],t2=t=>e2.find(Q0(t)),sv=new WeakMap;function n2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(lt(o))t.addValue(s,o);else if(lt(l))t.addValue(s,Ys(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,Ys(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ov=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=ln.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Ie.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ml(n),this.isVariantNode=u0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in v){const x=v[C];f[C]!==void 0&&lt(x)&&x.set(f[C],!1)}}mount(e){this.current=e,sv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),A1.current||JN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sv.delete(this.current),this.projection&&this.projection.unmount(),tr(this.notifyUpdate),tr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Lr.has(e),o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ci){const n=Ci[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ov.length;s++){const o=ov[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=n2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ys(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Y0(o)||j0(o))?o=parseFloat(o):!t2(o)&&nr.test(n)&&(o=H0(e,n)),this.setBaseTarget(e,lt(o)?o.get():o)),lt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const c=yh(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!lt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ih),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class N1 extends r2{constructor(){super(...arguments),this.KeyframeResolver=Z0}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function i2(t){return window.getComputedStyle(t)}class s2 extends N1{constructor(){super(...arguments),this.type="html",this.renderInstance=v0}readValueFromInstance(e,n){if(Lr.has(n)){const s=bh(n);return s&&s.default||0}else{const s=i2(e),o=(m0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y1(e,n)}build(e,n,s){wh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return xh(e,n,s)}}class o2 extends N1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lr.has(n)){const s=bh(n);return s&&s.default||0}return n=_0.has(n)?n:ph(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return S0(e,n,s)}build(e,n,s){Ch(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,o){w0(e,n,s,o)}mount(e){this.isSVGTag=Eh(e.tagName),super.mount(e)}}const a2=(t,e)=>gh(t)?new o2(e):new s2(e,{allowProjection:t!==Z.Fragment}),l2=MI({...xA,...XN,...LN,...ZN},a2),Ts=YP(l2),u2=()=>R.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",viewBox:"0 0 1000 800",children:[R.jsx("defs",{children:R.jsxs("linearGradient",{id:"starGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[R.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),R.jsx("stop",{offset:"100%",stopColor:"#67e8f9"})]})}),R.jsx(Ts.path,{d:"M100,100 L200,150 L300,120 L400,180 L500,140",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:.5}}),R.jsx(Ts.path,{d:"M600,200 L700,250 L800,220 L900,280",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:1}}),R.jsx(Ts.path,{d:"M150,400 L250,450 L350,420 L450,480 L550,440",stroke:"url(#starGradient)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:3,delay:1.5}}),[{x:100,y:100},{x:200,y:150},{x:300,y:120},{x:400,y:180},{x:500,y:140},{x:600,y:200},{x:700,y:250},{x:800,y:220},{x:900,y:280},{x:150,y:400},{x:250,y:450},{x:350,y:420},{x:450,y:480},{x:550,y:440}].map((t,e)=>R.jsx(Ts.circle,{cx:t.x,cy:t.y,r:"2",fill:"url(#starGradient)",initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1,1.5,1],opacity:[0,1,.7,1,.8]},transition:{duration:2,delay:.5+e*.1,repeat:1/0,repeatDelay:3+e*.2}},e))]});function c2(){const[t,e]=Z.useState([]),[n,s]=Z.useState(null),[o,l]=Z.useState(!0);Z.useEffect(()=>{const h=async()=>{const y=new URLSearchParams(window.location.search).get("auto-add");if(y)try{const v=JSON.parse(decodeURIComponent(y));console.log(" Alarm   :",v);const{addMusicFromAlarm:C}=await BC(async()=>{const{addMusicFromAlarm:x}=await Promise.resolve().then(()=>bP);return{addMusicFromAlarm:x}},void 0);await C({name:v.name,audioUrl:v.audioUrl,charmTraits:v.charmTraits,duration:v.duration}),console.log(" Firebase   !"),window.history.replaceState({},document.title,window.location.pathname)}catch(v){console.error("    :",v)}},f=async()=>{try{const g=t0(y=>{const v=[...y].filter(P=>P.createdAt).sort((P,N)=>P.createdAt-N.createdAt),C=new Map;v.forEach((P,N)=>{P.id&&C.set(P.id,N+1)});const x=y.map(P=>({id:P.id||"",name:P.name,title:P.title,artist:P.artist,duration:P.duration,audioUrl:P.audioUrl,traits:P.charmTraits,createdAt:P.createdAt??Date.now(),ordinal:C.get(P.id||"")??0}));e(x),x.length>0&&!n&&s(x[0]),l(!1)});return()=>g()}catch(g){console.error("Firebase  ,   :",g),m()}},m=()=>{const g=[{id:"1",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:"",stage:6},{charm_name:"",stage:5},{charm_name:"",stage:4}],duration:60,audioUrl:""},{id:"2",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:" ",stage:6},{charm_name:" ",stage:5},{charm_name:" ",stage:4}],duration:45,audioUrl:""},{id:"3",name:"",title:"  ",artist:"Aster AI",traits:[{charm_name:"",stage:8},{charm_name:"",stage:7},{charm_name:"",stage:6}],duration:90,audioUrl:""}];e(g),g.length>0&&s(g[0]),l(!1)};h().then(()=>{f()})},[]);const c=h=>{s(h)};return R.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[R.jsx(u2,{}),R.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((h,f)=>R.jsx(Ts.div,{className:"absolute w-1 h-1 bg-cyan-300 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[.3,1,.3],scale:[.5,1.2,.5]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},f))}),R.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:o?R.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:R.jsxs("div",{className:"text-white flex flex-col items-center gap-4",children:[R.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin"}),R.jsx("p",{children:"  ..."})]})}):R.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-7xl mx-auto min-h-0 items-stretch",style:{height:"calc(100vh - 80px)"},children:[R.jsx("div",{className:"flex items-center justify-center h-full min-h-[520px]",children:n&&R.jsx(fS,{track:n})}),R.jsx("div",{className:"h-full min-h-0 overflow-y-auto music-list-scroll bg-white/5 border border-white/10 rounded-2xl p-4",children:R.jsx(FP,{tracks:t,currentTrack:n,onTrackSelect:c})})]})})]})}const D1=async t=>{try{console.log("   :",t);const e=await uh(t);return console.log("  ! Track ID:",e),{success:!0,trackId:e,message:"   ."}}catch(e){return console.error("  :",e),{success:!1,error:e instanceof Error?e.message:"   ",message:"  ."}}},d2=t=>{const e={empathy:[""," ","",""," "," ",""],responsibility:["","","","","","",""],curiosity:["",""," ",""," ",""," ",""],stability:["",""," ",""," "," ","",""],morality:["","",""," ","",""],humor:[" "," "," ","   ","    "," "],passion:[" ","","  ","","",""," "]},n={};t.forEach(o=>{for(const[l,c]of Object.entries(e))if(c.some(h=>o.charm_name.includes(h)||h.includes(o.charm_name))){n[l]=(n[l]||0)+o.stage;break}});const s=Object.entries(n).sort(([,o],[,l])=>l-o)[0];return s?s[0]:"passion"},h2=async()=>await D1({name:" ",audioUrl:"https://example.com/test-audio.mp3",charmTraits:[{charm_name:"",stage:8},{charm_name:" ",stage:6},{charm_name:"",stage:7}],duration:45});typeof window<"u"&&(window.AsterPlayerAPI={uploadMusic:D1,analyzeDominantCharm:d2,testUpload:h2});const f2=new Set(["https://aster-alarm.vercel.app","http://localhost:5173","http://localhost:3000"]),av=()=>{try{const t={type:"PLAYER_READY"};window.opener&&!window.opener.closed&&(window.opener.postMessage(t,"https://aster-alarm.vercel.app"),window.opener.postMessage(t,"http://localhost:5173"),window.opener.postMessage(t,"http://localhost:3000")),window.parent&&window.parent!==window&&(window.parent.postMessage(t,"https://aster-alarm.vercel.app"),window.parent.postMessage(t,"http://localhost:5173"),window.parent.postMessage(t,"http://localhost:3000"))}catch(t){console.warn("PLAYER_READY  :",t)}};document.readyState==="complete"||document.readyState==="interactive"?av():window.addEventListener("DOMContentLoaded",av);window.addEventListener("message",async t=>{if(!f2.has(t.origin))return;const{type:e,data:n}=t.data||{};if(e==="PING"){t.source?.postMessage({type:"PONG"},t.origin);return}if(e==="MUSIC_GENERATED"&&n)try{console.log(" Alarm  :",n);const s=await uh({name:n.userName||"",audioUrl:n.audioUrl,charmTraits:n.charmTraits||[],duration:n.duration||60});console.log("    :",s),t.source?.postMessage({type:"MUSIC_UPLOAD_SUCCESS",trackId:s},t.origin)}catch(s){console.error("    :",s),t.source?.postMessage({type:"MUSIC_UPLOAD_ERROR",error:s?.message||"unknown"},t.origin)}});FC.createRoot(document.getElementById("root")).render(R.jsx(c2,{}));
